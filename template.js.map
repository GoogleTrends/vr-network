{"version":3,"file":"template.js","sources":["node_modules/three/build/three.module.js","three_modules/THREE.MeshLine.js","node_modules/d3-binarytree/src/add.js","node_modules/d3-binarytree/src/x.js","node_modules/d3-binarytree/src/binarytree.js","node_modules/d3-quadtree/src/add.js","node_modules/d3-quadtree/src/x.js","node_modules/d3-quadtree/src/y.js","node_modules/d3-quadtree/src/quadtree.js","node_modules/d3-octree/src/add.js","node_modules/d3-octree/src/x.js","node_modules/d3-octree/src/y.js","node_modules/d3-octree/src/z.js","node_modules/d3-octree/src/octree.js","src/main.js","three_modules/VRControls.js","three_modules/StereoEffect.js","node_modules/d3-binarytree/src/half.js","node_modules/d3-binarytree/src/cover.js","node_modules/d3-binarytree/src/data.js","node_modules/d3-binarytree/src/extent.js","node_modules/d3-binarytree/src/find.js","node_modules/d3-binarytree/src/remove.js","node_modules/d3-binarytree/src/root.js","node_modules/d3-binarytree/src/size.js","node_modules/d3-binarytree/src/visit.js","node_modules/d3-binarytree/src/visitAfter.js","node_modules/d3-quadtree/src/quad.js","node_modules/d3-quadtree/src/cover.js","node_modules/d3-quadtree/src/data.js","node_modules/d3-quadtree/src/extent.js","node_modules/d3-quadtree/src/find.js","node_modules/d3-quadtree/src/remove.js","node_modules/d3-quadtree/src/root.js","node_modules/d3-quadtree/src/size.js","node_modules/d3-quadtree/src/visit.js","node_modules/d3-quadtree/src/visitAfter.js","node_modules/d3-octree/src/octant.js","node_modules/d3-octree/src/cover.js","node_modules/d3-octree/src/data.js","node_modules/d3-octree/src/extent.js","node_modules/d3-octree/src/find.js","node_modules/d3-octree/src/remove.js","node_modules/d3-octree/src/root.js","node_modules/d3-octree/src/size.js","node_modules/d3-octree/src/visit.js","node_modules/d3-octree/src/visitAfter.js","node_modules/d3-timer/src/timer.js","node_modules/webvr-polyfill/build/webvr-polyfill.min.js","node_modules/nosleep.js/dist/NoSleep.js","src/materials/sphereMaterials.js","src/index.js"],"sourcesContent":["// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\t( function () {\n\n\t\tObject.assign = function ( target ) {\n\n\t\t\t'use strict';\n\n\t\t\tif ( target === undefined || target === null ) {\n\n\t\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t\t}\n\n\t\t\tvar output = Object( target );\n\n\t\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\t\tvar source = arguments[ index ];\n\n\t\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn output;\n\n\t\t};\n\n\t} )();\n\n}\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nvar REVISION = '88';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RGB_S3TC_DXT1_Format = 2001;\nvar RGBA_S3TC_DXT1_Format = 2002;\nvar RGBA_S3TC_DXT3_Format = 2003;\nvar RGBA_S3TC_DXT5_Format = 2004;\nvar RGB_PVRTC_4BPPV1_Format = 2100;\nvar RGB_PVRTC_2BPPV1_Format = 2101;\nvar RGBA_PVRTC_4BPPV1_Format = 2102;\nvar RGBA_PVRTC_2BPPV1_Format = 2103;\nvar RGB_ETC1_Format = 2151;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://www.broofa.com/Tools/Math.uuid.htm\n\t\t// Replaced .join with string concatenation (@takahirox)\n\n\t\tvar chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split( '' );\n\t\tvar rnd = 0, r;\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar uuid = '';\n\n\t\t\tfor ( var i = 0; i < 36; i ++ ) {\n\n\t\t\t\tif ( i === 8 || i === 13 || i === 18 || i === 23 ) {\n\n\t\t\t\t\tuuid += '-';\n\n\t\t\t\t} else if ( i === 14 ) {\n\n\t\t\t\t\tuuid += '4';\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( rnd <= 0x02 ) rnd = 0x2000000 + ( Math.random() * 0x1000000 ) | 0;\n\t\t\t\t\tr = rnd & 0xf;\n\t\t\t\t\trnd = rnd >> 4;\n\t\t\t\t\tuuid += chars[ ( i === 19 ) ? ( r & 0x3 ) | 0x8 : r ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn uuid;\n\n\t\t};\n\n\t}(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector2();\n\t\tvar max = new Vector2();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// last column\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// bottom row\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = q._x, y = q._y, z = q._z, w = q._w;\n\t\tvar x2 = x + x, y2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tte[ 0 ] = 1 - ( yy + zz );\n\t\tte[ 4 ] = xy - wz;\n\t\tte[ 8 ] = xz + wy;\n\n\t\tte[ 1 ] = xy + wz;\n\t\tte[ 5 ] = 1 - ( xx + zz );\n\t\tte[ 9 ] = yz - wx;\n\n\t\tte[ 2 ] = xz - wy;\n\t\tte[ 6 ] = yz + wx;\n\t\tte[ 10 ] = 1 - ( xx + yy );\n\n\t\t// last column\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// bottom row\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( v ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 12 ] = v.x;\n\t\tte[ 13 ] = v.y;\n\t\tte[ 14 ] = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tthis.makeRotationFromQuaternion( quaternion );\n\t\tthis.scale( scale );\n\t\tthis.setPosition( position );\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function () {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar v1 = new Vector3();\n\t\tvar r;\n\n\t\tvar EPS = 0.000001;\n\n\t\treturn function setFromUnitVectors( vFrom, vTo ) {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\n\t\t\tr = vFrom.dot( vTo ) + 1;\n\n\t\t\tif ( r < EPS ) {\n\n\t\t\t\tr = 0;\n\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tv1.crossVectors( vFrom, vTo );\n\n\t\t\t}\n\n\t\t\tthis._x = v1.x;\n\t\t\tthis._y = v1.y;\n\t\t\tthis._z = v1.z;\n\t\t\tthis._w = r;\n\n\t\t\treturn this.normalize();\n\n\t\t};\n\n\t}(),\n\n\tinverse: function () {\n\n\t\treturn this.conjugate().normalize();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\n\t\tif ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\n\t\t\tthis._w = 0.5 * ( w + this._w );\n\t\t\tthis._x = 0.5 * ( x + this._x );\n\t\t\tthis._y = 0.5 * ( y + this._y );\n\t\t\tthis._z = 0.5 * ( z + this._z );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function project( camera ) {\n\n\t\t\tmatrix.multiplyMatrices( camera.projectionMatrix, matrix.getInverse( camera.matrixWorld ) );\n\t\t\treturn this.applyMatrix4( matrix );\n\n\t\t};\n\n\t}(),\n\n\tunproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function unproject( camera ) {\n\n\t\t\tmatrix.multiplyMatrices( camera.matrixWorld, matrix.getInverse( camera.projectionMatrix ) );\n\t\t\treturn this.applyMatrix4( matrix );\n\n\t\t};\n\n\t}(),\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector3();\n\t\tvar max = new Vector3();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\tvar sinPhiRadius = Math.sin( s.phi ) * s.radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( s.theta );\n\t\tthis.y = Math.cos( s.phi ) * s.radius;\n\t\tthis.z = sinPhiRadius * Math.cos( s.theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\tthis.x = c.radius * Math.sin( c.theta );\n\t\tthis.y = c.y;\n\t\tthis.z = c.radius * Math.cos( c.theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix3( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( Texture.prototype, EventDispatcher.prototype, {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tfunction getDataURL( image ) {\n\n\t\t\tvar canvas;\n\n\t\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\t\tcanvas = image;\n\n\t\t\t} else {\n\n\t\t\t\tcanvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\t\t\tcanvas.width = image.width;\n\t\t\t\tcanvas.height = image.height;\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\n\t\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t\t} else {\n\n\t\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar output = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = _Math.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: getDataURL( image )\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min, max;\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tif ( min === undefined ) {\n\n\t\t\t\tmin = new Vector4();\n\t\t\t\tmax = new Vector4();\n\n\t\t\t}\n\n\t\t\tmin.set( minVal, minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tif ( options.minFilter === undefined ) options.minFilter = LinearFilter;\n\n\tthis.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nObject.assign( WebGLRenderTarget.prototype, EventDispatcher.prototype, {\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com\n */\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n\tthis.activeMipMapLevel = 0;\n\n}\n\nWebGLRenderTargetCube.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\nWebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data, width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [renderer] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'renderer' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (renderer factorizations):\n *\n * .upload( gl, seq, values, renderer )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (renderer factorizations):\n *\n * .setValue( gl, name, value )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .set( gl, obj, prop )\n *\n * \t\tsets uniform from object and property with same name than uniform\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Base for inner nodes (including the root) ---\n\nfunction UniformContainer() {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( renderer, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = renderer.allocTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValue1f( gl, v ) {\n\n\tgl.uniform1f( this.addr, v );\n\n}\n\nfunction setValue1i( gl, v ) {\n\n\tgl.uniform1i( this.addr, v );\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValue2fv( gl, v ) {\n\n\tif ( v.x === undefined ) {\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t} else {\n\n\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t}\n\n}\n\nfunction setValue3fv( gl, v ) {\n\n\tif ( v.x !== undefined ) {\n\n\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t} else {\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t}\n\n}\n\nfunction setValue4fv( gl, v ) {\n\n\tif ( v.x === undefined ) {\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t} else {\n\n\t\t gl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValue2fm( gl, v ) {\n\n\tgl.uniformMatrix2fv( this.addr, false, v.elements || v );\n\n}\n\nfunction setValue3fm( gl, v ) {\n\n\tif ( v.elements === undefined ) {\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t} else {\n\n\t\tmat3array.set( v.elements );\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t}\n\n}\n\nfunction setValue4fm( gl, v ) {\n\n\tif ( v.elements === undefined ) {\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t} else {\n\n\t\tmat4array.set( v.elements );\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, renderer ) {\n\n\tvar unit = renderer.allocTextureUnit();\n\tgl.uniform1i( this.addr, unit );\n\trenderer.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT6( gl, v, renderer ) {\n\n\tvar unit = renderer.allocTextureUnit();\n\tgl.uniform1i( this.addr, unit );\n\trenderer.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValue2iv( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValue3iv( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValue4iv( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1f; // FLOAT\n\t\tcase 0x8b50: return setValue2fv; // _VEC2\n\t\tcase 0x8b51: return setValue3fv; // _VEC3\n\t\tcase 0x8b52: return setValue4fv; // _VEC4\n\n\t\tcase 0x8b5a: return setValue2fm; // _MAT2\n\t\tcase 0x8b5b: return setValue3fm; // _MAT3\n\t\tcase 0x8b5c: return setValue4fm; // _MAT4\n\n\t\tcase 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n\t\tcase 0x8b60: return setValueT6; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// Array of scalars\n\nfunction setValue1fv( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\nfunction setValue1iv( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2a( gl, v ) {\n\n\tgl.uniform2fv( this.addr, flatten( v, this.size, 2 ) );\n\n}\n\nfunction setValueV3a( gl, v ) {\n\n\tgl.uniform3fv( this.addr, flatten( v, this.size, 3 ) );\n\n}\n\nfunction setValueV4a( gl, v ) {\n\n\tgl.uniform4fv( this.addr, flatten( v, this.size, 4 ) );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2a( gl, v ) {\n\n\tgl.uniformMatrix2fv( this.addr, false, flatten( v, this.size, 4 ) );\n\n}\n\nfunction setValueM3a( gl, v ) {\n\n\tgl.uniformMatrix3fv( this.addr, false, flatten( v, this.size, 9 ) );\n\n}\n\nfunction setValueM4a( gl, v ) {\n\n\tgl.uniformMatrix4fv( this.addr, false, flatten( v, this.size, 16 ) );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1a( gl, v, renderer ) {\n\n\tvar n = v.length,\n\t\tunits = allocTexUnits( renderer, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6a( gl, v, renderer ) {\n\n\tvar n = v.length,\n\t\tunits = allocTexUnits( renderer, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1fv; // FLOAT\n\t\tcase 0x8b50: return setValueV2a; // _VEC2\n\t\tcase 0x8b51: return setValueV3a; // _VEC3\n\t\tcase 0x8b52: return setValueV4a; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2a; // _MAT2\n\t\tcase 0x8b5b: return setValueM3a; // _MAT3\n\t\tcase 0x8b5c: return setValueM4a; // _MAT4\n\n\t\tcase 0x8b5e: return setValueT1a; // SAMPLER_2D\n\t\tcase 0x8b60: return setValueT6a; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1iv; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tUniformContainer.call( this ); // mix-in\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value ) {\n\n\t// Note: Don't need an extra 'renderer' parameter, since samplers\n\t// are not allowed in structured uniforms.\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ] );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\tfor ( ; ; ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program, renderer ) {\n\n\tUniformContainer.call( this );\n\n\tthis.renderer = renderer;\n\n\tvar n = gl.getProgramParameter( program, gl.ACTIVE_UNIFORMS );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\tpath = info.name,\n\t\t\taddr = gl.getUniformLocation( program, path );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, this.renderer );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, renderer ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, renderer );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function () {\n\n\t\tfunction hue2rgb( p, q, t ) {\n\n\t\t\tif ( t < 0 ) t += 1;\n\t\t\tif ( t > 1 ) t -= 1;\n\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\t\t\tif ( t < 1 / 2 ) return q;\n\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\t\t\treturn p;\n\n\t\t}\n\n\t\treturn function setHSL( h, s, l ) {\n\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = _Math.euclideanModulo( h, 1 );\n\t\t\ts = _Math.clamp( s, 0, 1 );\n\t\t\tl = _Math.clamp( l, 0, 1 );\n\n\t\t\tif ( s === 0 ) {\n\n\t\t\t\tthis.r = this.g = this.b = l;\n\n\t\t\t} else {\n\n\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\t// color keywords\n\t\t\tvar hex = ColorKeywords[ style ];\n\n\t\t\tif ( hex !== undefined ) {\n\n\t\t\t\t// red\n\t\t\t\tthis.setHex( hex );\n\n\t\t\t} else {\n\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function () {\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tthis.r = r * r;\n\t\tthis.g = g * g;\n\t\tthis.b = b * b;\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function () {\n\n\t\tthis.r = Math.sqrt( this.r );\n\t\tthis.g = Math.sqrt( this.g );\n\t\tthis.b = Math.sqrt( this.b );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( optionalTarget ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tvar hsl = optionalTarget || { h: 0, s: 0, l: 0 };\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\thsl.h = hue;\n\t\thsl.s = saturation;\n\t\thsl.l = lightness;\n\n\t\treturn hsl;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function ( h, s, l ) {\n\n\t\tvar hsl = this.getHSL();\n\n\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\n\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * Uniform Utilities\n */\n\nvar UniformsUtils = {\n\n\tmerge: function ( uniforms ) {\n\n\t\tvar merged = {};\n\n\t\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\t\tvar tmp = this.clone( uniforms[ u ] );\n\n\t\t\tfor ( var p in tmp ) {\n\n\t\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn merged;\n\n\t},\n\n\tclone: function ( uniforms_src ) {\n\n\t\tvar uniforms_dst = {};\n\n\t\tfor ( var u in uniforms_src ) {\n\n\t\t\tuniforms_dst[ u ] = {};\n\n\t\t\tfor ( var p in uniforms_src[ u ] ) {\n\n\t\t\t\tvar parameter_src = uniforms_src[ u ][ p ];\n\n\t\t\t\tif ( parameter_src && ( parameter_src.isColor ||\n\t\t\t\t\tparameter_src.isMatrix3 || parameter_src.isMatrix4 ||\n\t\t\t\t\tparameter_src.isVector2 || parameter_src.isVector3 || parameter_src.isVector4 ||\n\t\t\t\t\tparameter_src.isTexture ) ) {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.clone();\n\n\t\t\t\t} else if ( Array.isArray( parameter_src ) ) {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.slice();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn uniforms_dst;\n\n\t}\n\n};\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"\\nvec3 transformed = vec3( position );\\n\";\n\nvar beginnormal_vertex = \"\\nvec3 objectNormal = vec3( normal );\\n\";\n\nvar bsdfs = \"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t}\\n\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat theta = acos( dot( N, V ) );\\n\\tvec2 uv = vec2(\\n\\t\\tsqrt( saturate( roughness ) ),\\n\\t\\tsaturate( theta / ( 0.5 * PI ) ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\\n\\tfloat b = 3.45068 + (4.18814 + y) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\\n\\treturn result;\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t\\t\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t\\n\\t#endif\\n#endif\\n\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\n\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n\";\n\nvar encodings_fragment = \"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM            = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat D      = max( maxRange / maxRGB, 1.0 );\\n\\tD            = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract(Le);\\n\\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max(vRGB, 0.0), 1.0 );\\n}\\n\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_pars_fragment = \"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n\";\n\nvar fog_vertex = \"\\n#ifdef USE_FOG\\nfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n  varying float fogDepth;\\n#endif\\n\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n\";\n\nvar gradientmap_pars_fragment = \"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar lights_pars = \"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltcMat;\\tuniform sampler2D ltcMag;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tfloat norm = texture2D( ltcMag, uv ).a;\\n\\t\\tvec4 t = texture2D( ltcMat, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3(   1,   0, t.y ),\\n\\t\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\t\\tvec3( t.w,   0, t.x )\\n\\t\\t);\\n\\t\\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\";\n\nvar lights_template = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\t#endif\\n#endif\\n\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n\";\n\nvar map_particle_fragment = \"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\";\n\nvar map_particle_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\\n\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\\n\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n\";\n\nvar normal_fragment = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\";\n\nvar project_vertex = \"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\\n\";\n\nvar dithering_fragment = \"#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\\n\";\n\nvar dithering_pars_fragment = \"#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\\n\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\\n\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\\n\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\";\n\nvar uv_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\\n\";\n\nvar uv_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\\n\";\n\nvar cube_frag = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n\";\n\nvar cube_vert = \"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\\n\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\\n\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\\n\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n\";\n\nvar equirect_vert = \"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshphysical_frag = \"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshphysical_vert = \"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\\n\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars: lights_pars,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_template: lights_template,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment: normal_fragment,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: UniformsUtils.merge( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: UniformsUtils.merge( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearCoat: { value: 0 },\n\t\t\tclearCoatRoughness: { value: 0 }\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector2();\n\t\treturn this.isEmpty() ? result.set( 0, 0 ) : result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector2();\n\t\treturn this.isEmpty() ? result.set( 0, 0 ) : result.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, optionalTarget ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tvar result = optionalTarget || new Vector2();\n\n\t\treturn result.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector2();\n\t\treturn result.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction WebGLFlareRenderer( renderer, gl, state, textures, capabilities ) {\n\n\tvar vertexBuffer, elementBuffer;\n\tvar shader, program, attributes, uniforms;\n\n\tvar tempTexture, occlusionTexture;\n\n\tfunction init() {\n\n\t\tvar vertices = new Float32Array( [\n\t\t\t- 1, - 1, 0, 0,\n\t\t\t  1, - 1, 1, 0,\n\t\t\t  1, 1, 1, 1,\n\t\t\t- 1, 1, 0, 1\n\t\t] );\n\n\t\tvar faces = new Uint16Array( [\n\t\t\t0, 1, 2,\n\t\t\t0, 2, 3\n\t\t] );\n\n\t\t// buffers\n\n\t\tvertexBuffer = gl.createBuffer();\n\t\telementBuffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\tgl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\n\n\t\t// textures\n\n\t\ttempTexture = gl.createTexture();\n\t\tocclusionTexture = gl.createTexture();\n\n\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\tgl.texImage2D( gl.TEXTURE_2D, 0, gl.RGB, 16, 16, 0, gl.RGB, gl.UNSIGNED_BYTE, null );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\n\t\tstate.bindTexture( gl.TEXTURE_2D, occlusionTexture );\n\t\tgl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, 16, 16, 0, gl.RGBA, gl.UNSIGNED_BYTE, null );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\n\t\tshader = {\n\n\t\t\tvertexShader: [\n\n\t\t\t\t'uniform lowp int renderType;',\n\n\t\t\t\t'uniform vec3 screenPosition;',\n\t\t\t\t'uniform vec2 scale;',\n\t\t\t\t'uniform float rotation;',\n\n\t\t\t\t'uniform sampler2D occlusionMap;',\n\n\t\t\t\t'attribute vec2 position;',\n\t\t\t\t'attribute vec2 uv;',\n\n\t\t\t\t'varying vec2 vUV;',\n\t\t\t\t'varying float vVisibility;',\n\n\t\t\t\t'void main() {',\n\n\t\t\t\t'\tvUV = uv;',\n\n\t\t\t\t'\tvec2 pos = position;',\n\n\t\t\t\t'\tif ( renderType == 2 ) {',\n\n\t\t\t\t'\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );',\n\t\t\t\t'\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );',\n\n\t\t\t\t'\t\tvVisibility =        visibility.r / 9.0;',\n\t\t\t\t'\t\tvVisibility *= 1.0 - visibility.g / 9.0;',\n\t\t\t\t'\t\tvVisibility *=       visibility.b / 9.0;',\n\t\t\t\t'\t\tvVisibility *= 1.0 - visibility.a / 9.0;',\n\n\t\t\t\t'\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;',\n\t\t\t\t'\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;',\n\n\t\t\t\t'\t}',\n\n\t\t\t\t'\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );',\n\n\t\t\t\t'}'\n\n\t\t\t].join( '\\n' ),\n\n\t\t\tfragmentShader: [\n\n\t\t\t\t'uniform lowp int renderType;',\n\n\t\t\t\t'uniform sampler2D map;',\n\t\t\t\t'uniform float opacity;',\n\t\t\t\t'uniform vec3 color;',\n\n\t\t\t\t'varying vec2 vUV;',\n\t\t\t\t'varying float vVisibility;',\n\n\t\t\t\t'void main() {',\n\n\t\t\t\t// pink square\n\n\t\t\t\t'\tif ( renderType == 0 ) {',\n\n\t\t\t\t'\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );',\n\n\t\t\t\t// restore\n\n\t\t\t\t'\t} else if ( renderType == 1 ) {',\n\n\t\t\t\t'\t\tgl_FragColor = texture2D( map, vUV );',\n\n\t\t\t\t// flare\n\n\t\t\t\t'\t} else {',\n\n\t\t\t\t'\t\tvec4 texture = texture2D( map, vUV );',\n\t\t\t\t'\t\ttexture.a *= opacity * vVisibility;',\n\t\t\t\t'\t\tgl_FragColor = texture;',\n\t\t\t\t'\t\tgl_FragColor.rgb *= color;',\n\n\t\t\t\t'\t}',\n\n\t\t\t\t'}'\n\n\t\t\t].join( '\\n' )\n\n\t\t};\n\n\t\tprogram = createProgram( shader );\n\n\t\tattributes = {\n\t\t\tvertex: gl.getAttribLocation( program, 'position' ),\n\t\t\tuv: gl.getAttribLocation( program, 'uv' )\n\t\t};\n\n\t\tuniforms = {\n\t\t\trenderType: gl.getUniformLocation( program, 'renderType' ),\n\t\t\tmap: gl.getUniformLocation( program, 'map' ),\n\t\t\tocclusionMap: gl.getUniformLocation( program, 'occlusionMap' ),\n\t\t\topacity: gl.getUniformLocation( program, 'opacity' ),\n\t\t\tcolor: gl.getUniformLocation( program, 'color' ),\n\t\t\tscale: gl.getUniformLocation( program, 'scale' ),\n\t\t\trotation: gl.getUniformLocation( program, 'rotation' ),\n\t\t\tscreenPosition: gl.getUniformLocation( program, 'screenPosition' )\n\t\t};\n\n\t}\n\n\t/*\n\t * Render lens flares\n\t * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\n\t *         reads these back and calculates occlusion.\n\t */\n\n\tthis.render = function ( flares, scene, camera, viewport ) {\n\n\t\tif ( flares.length === 0 ) return;\n\n\t\tvar tempPosition = new Vector3();\n\n\t\tvar invAspect = viewport.w / viewport.z,\n\t\t\thalfViewportWidth = viewport.z * 0.5,\n\t\t\thalfViewportHeight = viewport.w * 0.5;\n\n\t\tvar size = 16 / viewport.w,\n\t\t\tscale = new Vector2( size * invAspect, size );\n\n\t\tvar screenPosition = new Vector3( 1, 1, 0 ),\n\t\t\tscreenPositionPixels = new Vector2( 1, 1 );\n\n\t\tvar validArea = new Box2();\n\n\t\tvalidArea.min.set( viewport.x, viewport.y );\n\t\tvalidArea.max.set( viewport.x + ( viewport.z - 16 ), viewport.y + ( viewport.w - 16 ) );\n\n\t\tif ( program === undefined ) {\n\n\t\t\tinit();\n\n\t\t}\n\n\t\tstate.useProgram( program );\n\n\t\tstate.initAttributes();\n\t\tstate.enableAttribute( attributes.vertex );\n\t\tstate.enableAttribute( attributes.uv );\n\t\tstate.disableUnusedAttributes();\n\n\t\t// loop through all lens flares to update their occlusion and positions\n\t\t// setup gl and common used attribs/uniforms\n\n\t\tgl.uniform1i( uniforms.occlusionMap, 0 );\n\t\tgl.uniform1i( uniforms.map, 1 );\n\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\tgl.vertexAttribPointer( attributes.vertex, 2, gl.FLOAT, false, 2 * 8, 0 );\n\t\tgl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\n\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\n\t\tstate.disable( gl.CULL_FACE );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\tfor ( var i = 0, l = flares.length; i < l; i ++ ) {\n\n\t\t\tsize = 16 / viewport.w;\n\t\t\tscale.set( size * invAspect, size );\n\n\t\t\t// calc object screen position\n\n\t\t\tvar flare = flares[ i ];\n\n\t\t\ttempPosition.set( flare.matrixWorld.elements[ 12 ], flare.matrixWorld.elements[ 13 ], flare.matrixWorld.elements[ 14 ] );\n\n\t\t\ttempPosition.applyMatrix4( camera.matrixWorldInverse );\n\t\t\ttempPosition.applyMatrix4( camera.projectionMatrix );\n\n\t\t\t// setup arrays for gl programs\n\n\t\t\tscreenPosition.copy( tempPosition );\n\n\t\t\t// horizontal and vertical coordinate of the lower left corner of the pixels to copy\n\n\t\t\tscreenPositionPixels.x = viewport.x + ( screenPosition.x * halfViewportWidth ) + halfViewportWidth - 8;\n\t\t\tscreenPositionPixels.y = viewport.y + ( screenPosition.y * halfViewportHeight ) + halfViewportHeight - 8;\n\n\t\t\t// screen cull\n\n\t\t\tif ( validArea.containsPoint( screenPositionPixels ) === true ) {\n\n\t\t\t\t// save current RGB to temp texture\n\n\t\t\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, null );\n\t\t\t\tstate.activeTexture( gl.TEXTURE1 );\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\t\t\tgl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGB, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0 );\n\n\n\t\t\t\t// render pink quad\n\n\t\t\t\tgl.uniform1i( uniforms.renderType, 0 );\n\t\t\t\tgl.uniform2f( uniforms.scale, scale.x, scale.y );\n\t\t\t\tgl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\n\t\t\t\tstate.disable( gl.BLEND );\n\t\t\t\tstate.enable( gl.DEPTH_TEST );\n\n\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\n\t\t\t\t// copy result to occlusionMap\n\n\t\t\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, occlusionTexture );\n\t\t\t\tgl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGBA, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0 );\n\n\n\t\t\t\t// restore graphics\n\n\t\t\t\tgl.uniform1i( uniforms.renderType, 1 );\n\t\t\t\tstate.disable( gl.DEPTH_TEST );\n\n\t\t\t\tstate.activeTexture( gl.TEXTURE1 );\n\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\n\t\t\t\t// update object positions\n\n\t\t\t\tflare.positionScreen.copy( screenPosition );\n\n\t\t\t\tif ( flare.customUpdateCallback ) {\n\n\t\t\t\t\tflare.customUpdateCallback( flare );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tflare.updateLensFlares();\n\n\t\t\t\t}\n\n\t\t\t\t// render flares\n\n\t\t\t\tgl.uniform1i( uniforms.renderType, 2 );\n\t\t\t\tstate.enable( gl.BLEND );\n\n\t\t\t\tfor ( var j = 0, jl = flare.lensFlares.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar sprite = flare.lensFlares[ j ];\n\n\t\t\t\t\tif ( sprite.opacity > 0.001 && sprite.scale > 0.001 ) {\n\n\t\t\t\t\t\tscreenPosition.x = sprite.x;\n\t\t\t\t\t\tscreenPosition.y = sprite.y;\n\t\t\t\t\t\tscreenPosition.z = sprite.z;\n\n\t\t\t\t\t\tsize = sprite.size * sprite.scale / viewport.w;\n\n\t\t\t\t\t\tscale.x = size * invAspect;\n\t\t\t\t\t\tscale.y = size;\n\n\t\t\t\t\t\tgl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\t\t\t\t\t\tgl.uniform2f( uniforms.scale, scale.x, scale.y );\n\t\t\t\t\t\tgl.uniform1f( uniforms.rotation, sprite.rotation );\n\n\t\t\t\t\t\tgl.uniform1f( uniforms.opacity, sprite.opacity );\n\t\t\t\t\t\tgl.uniform3f( uniforms.color, sprite.color.r, sprite.color.g, sprite.color.b );\n\n\t\t\t\t\t\tstate.setBlending( sprite.blending, sprite.blendEquation, sprite.blendSrc, sprite.blendDst );\n\n\t\t\t\t\t\ttextures.setTexture2D( sprite.texture, 1 );\n\n\t\t\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore gl\n\n\t\tstate.enable( gl.CULL_FACE );\n\t\tstate.enable( gl.DEPTH_TEST );\n\t\tstate.buffers.depth.setMask( true );\n\n\t\tstate.reset();\n\n\t};\n\n\tfunction createProgram( shader ) {\n\n\t\tvar program = gl.createProgram();\n\n\t\tvar fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\t\tvar vertexShader = gl.createShader( gl.VERTEX_SHADER );\n\n\t\tvar prefix = 'precision ' + capabilities.precision + ' float;\\n';\n\n\t\tgl.shaderSource( fragmentShader, prefix + shader.fragmentShader );\n\t\tgl.shaderSource( vertexShader, prefix + shader.vertexShader );\n\n\t\tgl.compileShader( fragmentShader );\n\t\tgl.compileShader( vertexShader );\n\n\t\tgl.attachShader( program, fragmentShader );\n\t\tgl.attachShader( program, vertexShader );\n\n\t\tgl.linkProgram( program );\n\n\t\treturn program;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction WebGLSpriteRenderer( renderer, gl, state, textures, capabilities ) {\n\n\tvar vertexBuffer, elementBuffer;\n\tvar program, attributes, uniforms;\n\n\tvar texture;\n\n\t// decompose matrixWorld\n\n\tvar spritePosition = new Vector3();\n\tvar spriteRotation = new Quaternion();\n\tvar spriteScale = new Vector3();\n\n\tfunction init() {\n\n\t\tvar vertices = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0,\n\t\t\t  0.5, - 0.5, 1, 0,\n\t\t\t  0.5, 0.5, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 1\n\t\t] );\n\n\t\tvar faces = new Uint16Array( [\n\t\t\t0, 1, 2,\n\t\t\t0, 2, 3\n\t\t] );\n\n\t\tvertexBuffer = gl.createBuffer();\n\t\telementBuffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\tgl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\n\n\t\tprogram = createProgram();\n\n\t\tattributes = {\n\t\t\tposition: gl.getAttribLocation( program, 'position' ),\n\t\t\tuv: gl.getAttribLocation( program, 'uv' )\n\t\t};\n\n\t\tuniforms = {\n\t\t\tuvOffset: gl.getUniformLocation( program, 'uvOffset' ),\n\t\t\tuvScale: gl.getUniformLocation( program, 'uvScale' ),\n\n\t\t\trotation: gl.getUniformLocation( program, 'rotation' ),\n\t\t\tscale: gl.getUniformLocation( program, 'scale' ),\n\n\t\t\tcolor: gl.getUniformLocation( program, 'color' ),\n\t\t\tmap: gl.getUniformLocation( program, 'map' ),\n\t\t\topacity: gl.getUniformLocation( program, 'opacity' ),\n\n\t\t\tmodelViewMatrix: gl.getUniformLocation( program, 'modelViewMatrix' ),\n\t\t\tprojectionMatrix: gl.getUniformLocation( program, 'projectionMatrix' ),\n\n\t\t\tfogType: gl.getUniformLocation( program, 'fogType' ),\n\t\t\tfogDensity: gl.getUniformLocation( program, 'fogDensity' ),\n\t\t\tfogNear: gl.getUniformLocation( program, 'fogNear' ),\n\t\t\tfogFar: gl.getUniformLocation( program, 'fogFar' ),\n\t\t\tfogColor: gl.getUniformLocation( program, 'fogColor' ),\n\t\t\tfogDepth: gl.getUniformLocation( program, 'fogDepth' ),\n\n\t\t\talphaTest: gl.getUniformLocation( program, 'alphaTest' )\n\t\t};\n\n\t\tvar canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\tcanvas.width = 8;\n\t\tcanvas.height = 8;\n\n\t\tvar context = canvas.getContext( '2d' );\n\t\tcontext.fillStyle = 'white';\n\t\tcontext.fillRect( 0, 0, 8, 8 );\n\n\t\ttexture = new CanvasTexture( canvas );\n\n\t}\n\n\tthis.render = function ( sprites, scene, camera ) {\n\n\t\tif ( sprites.length === 0 ) return;\n\n\t\t// setup gl\n\n\t\tif ( program === undefined ) {\n\n\t\t\tinit();\n\n\t\t}\n\n\t\tstate.useProgram( program );\n\n\t\tstate.initAttributes();\n\t\tstate.enableAttribute( attributes.position );\n\t\tstate.enableAttribute( attributes.uv );\n\t\tstate.disableUnusedAttributes();\n\n\t\tstate.disable( gl.CULL_FACE );\n\t\tstate.enable( gl.BLEND );\n\n\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\tgl.vertexAttribPointer( attributes.position, 2, gl.FLOAT, false, 2 * 8, 0 );\n\t\tgl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\n\n\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\n\t\tgl.uniformMatrix4fv( uniforms.projectionMatrix, false, camera.projectionMatrix.elements );\n\n\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\tgl.uniform1i( uniforms.map, 0 );\n\n\t\tvar oldFogType = 0;\n\t\tvar sceneFogType = 0;\n\t\tvar fog = scene.fog;\n\n\t\tif ( fog ) {\n\n\t\t\tgl.uniform3f( uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b );\n\n\t\t\tif ( fog.isFog ) {\n\n\t\t\t\tgl.uniform1f( uniforms.fogNear, fog.near );\n\t\t\t\tgl.uniform1f( uniforms.fogFar, fog.far );\n\n\t\t\t\tgl.uniform1i( uniforms.fogType, 1 );\n\t\t\t\toldFogType = 1;\n\t\t\t\tsceneFogType = 1;\n\n\t\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\t\tgl.uniform1f( uniforms.fogDensity, fog.density );\n\n\t\t\t\tgl.uniform1i( uniforms.fogType, 2 );\n\t\t\t\toldFogType = 2;\n\t\t\t\tsceneFogType = 2;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl.uniform1i( uniforms.fogType, 0 );\n\t\t\toldFogType = 0;\n\t\t\tsceneFogType = 0;\n\n\t\t}\n\n\n\t\t// update positions and sort\n\n\t\tfor ( var i = 0, l = sprites.length; i < l; i ++ ) {\n\n\t\t\tvar sprite = sprites[ i ];\n\n\t\t\tsprite.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, sprite.matrixWorld );\n\t\t\tsprite.z = - sprite.modelViewMatrix.elements[ 14 ];\n\n\t\t}\n\n\t\tsprites.sort( painterSortStable );\n\n\t\t// render all sprites\n\n\t\tvar scale = [];\n\n\t\tfor ( var i = 0, l = sprites.length; i < l; i ++ ) {\n\n\t\t\tvar sprite = sprites[ i ];\n\t\t\tvar material = sprite.material;\n\n\t\t\tif ( material.visible === false ) continue;\n\n\t\t\tsprite.onBeforeRender( renderer, scene, camera, undefined, material, undefined );\n\n\t\t\tgl.uniform1f( uniforms.alphaTest, material.alphaTest );\n\t\t\tgl.uniformMatrix4fv( uniforms.modelViewMatrix, false, sprite.modelViewMatrix.elements );\n\n\t\t\tsprite.matrixWorld.decompose( spritePosition, spriteRotation, spriteScale );\n\n\t\t\tscale[ 0 ] = spriteScale.x;\n\t\t\tscale[ 1 ] = spriteScale.y;\n\n\t\t\tvar fogType = 0;\n\n\t\t\tif ( scene.fog && material.fog ) {\n\n\t\t\t\tfogType = sceneFogType;\n\n\t\t\t}\n\n\t\t\tif ( oldFogType !== fogType ) {\n\n\t\t\t\tgl.uniform1i( uniforms.fogType, fogType );\n\t\t\t\toldFogType = fogType;\n\n\t\t\t}\n\n\t\t\tif ( material.map !== null ) {\n\n\t\t\t\tgl.uniform2f( uniforms.uvOffset, material.map.offset.x, material.map.offset.y );\n\t\t\t\tgl.uniform2f( uniforms.uvScale, material.map.repeat.x, material.map.repeat.y );\n\n\t\t\t} else {\n\n\t\t\t\tgl.uniform2f( uniforms.uvOffset, 0, 0 );\n\t\t\t\tgl.uniform2f( uniforms.uvScale, 1, 1 );\n\n\t\t\t}\n\n\t\t\tgl.uniform1f( uniforms.opacity, material.opacity );\n\t\t\tgl.uniform3f( uniforms.color, material.color.r, material.color.g, material.color.b );\n\n\t\t\tgl.uniform1f( uniforms.rotation, material.rotation );\n\t\t\tgl.uniform2fv( uniforms.scale, scale );\n\n\t\t\tstate.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\t\t\tstate.buffers.depth.setTest( material.depthTest );\n\t\t\tstate.buffers.depth.setMask( material.depthWrite );\n\t\t\tstate.buffers.color.setMask( material.colorWrite );\n\n\t\t\ttextures.setTexture2D( material.map || texture, 0 );\n\n\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\n\t\t\tsprite.onAfterRender( renderer, scene, camera, undefined, material, undefined );\n\n\t\t}\n\n\t\t// restore gl\n\n\t\tstate.enable( gl.CULL_FACE );\n\n\t\tstate.reset();\n\n\t};\n\n\tfunction createProgram() {\n\n\t\tvar program = gl.createProgram();\n\n\t\tvar vertexShader = gl.createShader( gl.VERTEX_SHADER );\n\t\tvar fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\n\t\tgl.shaderSource( vertexShader, [\n\n\t\t\t'precision ' + capabilities.precision + ' float;',\n\n\t\t\t'#define SHADER_NAME ' + 'SpriteMaterial',\n\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform float rotation;',\n\t\t\t'uniform vec2 scale;',\n\t\t\t'uniform vec2 uvOffset;',\n\t\t\t'uniform vec2 uvScale;',\n\n\t\t\t'attribute vec2 position;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'varying vec2 vUV;',\n\t\t\t'varying float fogDepth;',\n\n\t\t\t'void main() {',\n\n\t\t\t'\tvUV = uvOffset + uv * uvScale;',\n\n\t\t\t'\tvec2 alignedPosition = position * scale;',\n\n\t\t\t'\tvec2 rotatedPosition;',\n\t\t\t'\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;',\n\t\t\t'\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;',\n\n\t\t\t'\tvec4 mvPosition;',\n\n\t\t\t'\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );',\n\t\t\t'\tmvPosition.xy += rotatedPosition;',\n\n\t\t\t'\tgl_Position = projectionMatrix * mvPosition;',\n\n\t\t\t'\tfogDepth = - mvPosition.z;',\n\n\t\t\t'}'\n\n\t\t].join( '\\n' ) );\n\n\t\tgl.shaderSource( fragmentShader, [\n\n\t\t\t'precision ' + capabilities.precision + ' float;',\n\n\t\t\t'#define SHADER_NAME ' + 'SpriteMaterial',\n\n\t\t\t'uniform vec3 color;',\n\t\t\t'uniform sampler2D map;',\n\t\t\t'uniform float opacity;',\n\n\t\t\t'uniform int fogType;',\n\t\t\t'uniform vec3 fogColor;',\n\t\t\t'uniform float fogDensity;',\n\t\t\t'uniform float fogNear;',\n\t\t\t'uniform float fogFar;',\n\t\t\t'uniform float alphaTest;',\n\n\t\t\t'varying vec2 vUV;',\n\t\t\t'varying float fogDepth;',\n\n\t\t\t'void main() {',\n\n\t\t\t'\tvec4 texture = texture2D( map, vUV );',\n\n\t\t\t'\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );',\n\n\t\t\t'\tif ( gl_FragColor.a < alphaTest ) discard;',\n\n\t\t\t'\tif ( fogType > 0 ) {',\n\n\t\t\t'\t\tfloat fogFactor = 0.0;',\n\n\t\t\t'\t\tif ( fogType == 1 ) {',\n\n\t\t\t'\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );',\n\n\t\t\t'\t\t} else {',\n\n\t\t\t'\t\t\tconst float LOG2 = 1.442695;',\n\t\t\t'\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );',\n\t\t\t'\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );',\n\n\t\t\t'\t\t}',\n\n\t\t\t'\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );',\n\n\t\t\t'\t}',\n\n\t\t\t'}'\n\n\t\t].join( '\\n' ) );\n\n\t\tgl.compileShader( vertexShader );\n\t\tgl.compileShader( fragmentShader );\n\n\t\tgl.attachShader( program, vertexShader );\n\t\tgl.attachShader( program, fragmentShader );\n\n\t\tgl.linkProgram( program );\n\n\t\treturn program;\n\n\t}\n\n\tfunction painterSortStable( a, b ) {\n\n\t\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\t\treturn a.renderOrder - b.renderOrder;\n\n\t\t} else if ( a.z !== b.z ) {\n\n\t\t\treturn b.z - a.z;\n\n\t\t} else {\n\n\t\t\treturn b.id - a.id;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\tthis.lights = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\n\n\tthis.visible = true;\n\n\tthis.userData = {};\n\n\tthis.needsUpdate = true;\n\n}\n\nObject.assign( Material.prototype, EventDispatcher.prototype, {\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else if ( key === 'overdraw' ) {\n\n\t\t\t\t// ensure overdraw is backwards-compatible with legacy boolean type\n\t\t\t\tthis[ key ] = Number( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearCoat !== undefined ) data.clearCoat = this.clearCoat;\n\t\tif ( this.clearCoatRoughness !== undefined ) data.clearCoatRoughness = this.clearCoatRoughness;\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.overdraw = source.overdraw;\n\n\t\tthis.visible = source.visible;\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.clipShadows = source.clipShadows;\n\t\tthis.clipIntersection = source.clipIntersection;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn this.isEmpty() ? result.set( 0, 0, 0 ) : result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn this.isEmpty() ? result.set( 0, 0, 0 ) : result.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function () {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tvar scope, i, l;\n\n\t\tvar v1 = new Vector3();\n\n\t\tfunction traverse( node ) {\n\n\t\t\tvar geometry = node.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\t\tfor ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\t\t\tvar attribute = geometry.attributes.position;\n\n\t\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\t\tfor ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tv1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn function expandByObject( object ) {\n\n\t\t\tscope = this;\n\n\t\t\tobject.updateMatrixWorld( true );\n\n\t\t\tobject.traverse( traverse );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, optionalTarget ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn result.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: ( function () {\n\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function intersectsSphere( sphere ) {\n\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t\t};\n\n\t} )(),\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= plane.constant && max >= plane.constant );\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn result.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tgetBoundingSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getBoundingSphere( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Sphere();\n\n\t\t\tthis.getCenter( result.center );\n\n\t\t\tresult.radius = this.getSize( v1 ).length() * 0.5;\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar points = [\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3()\n\t\t];\n\n\t\treturn function applyMatrix4( matrix ) {\n\n\t\t\t// transform of empty box is an empty box.\n\t\t\tif ( this.isEmpty() ) return this;\n\n\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t\tpoints[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t\tpoints[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t\tpoints[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t\tpoints[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t\tpoints[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t\tpoints[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t\tpoints[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t\tpoints[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix );\t// 111\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function setFromPoints( points, optionalCenter ) {\n\n\t\t\tvar center = this.center;\n\n\t\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\t\tcenter.copy( optionalCenter );\n\n\t\t\t} else {\n\n\t\t\t\tbox.setFromPoints( points ).getCenter( center );\n\n\t\t\t}\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, optionalTarget ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\tresult.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tresult.sub( this.center ).normalize();\n\t\t\tresult.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\tgetBoundingBox: function ( optionalTarget ) {\n\n\t\tvar box = optionalTarget || new Box3();\n\n\t\tbox.set( this.center, this.center );\n\t\tbox.expandByScalar( this.radius );\n\n\t\treturn box;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function setFromCoplanarPoints( a, b, c ) {\n\n\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn result.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectLine( line, optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tvar direction = line.delta( v1 );\n\n\t\t\tvar denominator = this.normal.dot( direction );\n\n\t\t\tif ( denominator === 0 ) {\n\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\t\treturn result.copy( line.start );\n\n\t\t\t\t}\n\n\t\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\treturn result.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t\t};\n\n\t}(),\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn result.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar m1 = new Matrix3();\n\n\t\treturn function applyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\n\t\t\tvar referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\n\n\t\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsObject( object ) {\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null )\n\t\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere )\n\t\t\t\t.applyMatrix4( object.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSprite: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsSprite( sprite ) {\n\n\t\t\tsphere.center.set( 0, 0, 0 );\n\t\t\tsphere.radius = 0.7071067811865476;\n\t\t\tsphere.applyMatrix4( sprite.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function () {\n\n\t\tvar p1 = new Vector3(),\n\t\t\tp2 = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\tvar planes = this.planes;\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tvar plane = planes[ i ];\n\n\t\t\t\tp1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\n\t\t\t\tp2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\tp1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\n\t\t\t\tp2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\tp1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\n\t\t\t\tp2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tvar d1 = plane.distanceToPoint( p1 );\n\t\t\t\tvar d2 = plane.distanceToPoint( p2 );\n\n\t\t\t\t// if both outside plane, no intersection\n\n\t\t\t\tif ( d1 < 0 && d2 < 0 ) {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_maxShadowMapSize = new Vector2( maxTextureSize, maxTextureSize ),\n\n\t\t_lookTarget = new Vector3(),\n\t\t_lightPositionWorld = new Vector3(),\n\n\t\t_MorphingFlag = 1,\n\t\t_SkinningFlag = 2,\n\n\t\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\n\t\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\n\t\t_distanceMaterials = new Array( _NumberOfMaterialVariants ),\n\n\t\t_materialCache = {};\n\n\tvar cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tvar cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n\tvar cube2DViewPorts = [\n\t\tnew Vector4(), new Vector4(), new Vector4(),\n\t\tnew Vector4(), new Vector4(), new Vector4()\n\t];\n\n\t// init\n\n\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\n\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\n\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\n\n\t\tvar depthMaterial = new MeshDepthMaterial( {\n\n\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_depthMaterials[ i ] = depthMaterial;\n\n\t\t//\n\n\t\tvar distanceMaterial = new MeshDistanceMaterial( {\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_distanceMaterials[ i ] = distanceMaterial;\n\n\t}\n\n\t//\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.renderReverseSided = true;\n\tthis.renderSingleSided = true;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\t// TODO Clean up (needed in case of contextlost)\n\t\tvar _gl = _renderer.context;\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.disable( _gl.BLEND );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tvar faceCount;\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\t\t\tvar isPointLight = light && light.isPointLight;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar shadowCamera = shadow.camera;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\t\t\t_shadowMapSize.min( _maxShadowMapSize );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tvar vpWidth = _shadowMapSize.x;\n\t\t\t\tvar vpHeight = _shadowMapSize.y;\n\n\t\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t\t// following orientation:\n\t\t\t\t//\n\t\t\t\t//  xzXZ\n\t\t\t\t//   y Y\n\t\t\t\t//\n\t\t\t\t// X - Positive x direction\n\t\t\t\t// x - Negative x direction\n\t\t\t\t// Y - Positive y direction\n\t\t\t\t// y - Negative y direction\n\t\t\t\t// Z - Positive z direction\n\t\t\t\t// z - Negative z direction\n\n\t\t\t\t// positive X\n\t\t\t\tcube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative X\n\t\t\t\tcube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Z\n\t\t\t\tcube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative Z\n\t\t\t\tcube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Y\n\t\t\t\tcube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\n\t\t\t\t// negative Y\n\t\t\t\tcube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\n\n\t\t\t\t_shadowMapSize.x *= 4.0;\n\t\t\t\t_shadowMapSize.y *= 2.0;\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadowCamera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.isSpotLightShadow ) {\n\n\t\t\t\tshadow.update( light );\n\n\t\t\t}\n\n\t\t\tvar shadowMap = shadow.map;\n\t\t\tvar shadowMatrix = shadow.matrix;\n\n\t\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\t\tshadowCamera.position.copy( _lightPositionWorld );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tfaceCount = 6;\n\n\t\t\t\t// for point lights we set the shadow matrix to be a translation-only matrix\n\t\t\t\t// equal to inverse of the light's position\n\n\t\t\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t\t} else {\n\n\t\t\t\tfaceCount = 1;\n\n\t\t\t\t_lookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t// compute shadow matrix\n\n\t\t\t\tshadowMatrix.set(\n\t\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t\t);\n\n\t\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadowMap );\n\t\t\t_renderer.clear();\n\n\t\t\t// render shadow map for each cube face (if omni-directional) or\n\t\t\t// run a single pass if not\n\n\t\t\tfor ( var face = 0; face < faceCount; face ++ ) {\n\n\t\t\t\tif ( isPointLight ) {\n\n\t\t\t\t\t_lookTarget.copy( shadowCamera.position );\n\t\t\t\t\t_lookTarget.add( cubeDirections[ face ] );\n\t\t\t\t\tshadowCamera.up.copy( cubeUps[ face ] );\n\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t\tvar vpDimensions = cube2DViewPorts[ face ];\n\t\t\t\t\t_state.viewport( vpDimensions );\n\n\t\t\t\t}\n\n\t\t\t\t// update camera matrices and frustum\n\n\t\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t\t\t// set object matrices & frustum culling\n\n\t\t\t\trenderObject( scene, camera, shadowCamera, isPointLight );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t};\n\n\tfunction getDepthMaterial( object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar materialVariants = _depthMaterials;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tmaterialVariants = _distanceMaterials;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( ! customMaterial ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets ) {\n\n\t\t\t\tif ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry && geometry.isGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( object.isSkinnedMesh && material.skinning === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t}\n\n\t\t\tvar useSkinning = object.isSkinnedMesh && material.skinning;\n\n\t\t\tvar variantIndex = 0;\n\n\t\t\tif ( useMorphing ) variantIndex |= _MorphingFlag;\n\t\t\tif ( useSkinning ) variantIndex |= _SkinningFlag;\n\n\t\t\tresult = materialVariants[ variantIndex ];\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tvar side = material.side;\n\n\t\tif ( scope.renderSingleSided && side == DoubleSide ) {\n\n\t\t\tside = FrontSide;\n\n\t\t}\n\n\t\tif ( scope.renderReverseSided ) {\n\n\t\t\tif ( side === FrontSide ) side = BackSide;\n\t\t\telse if ( side === BackSide ) side = FrontSide;\n\n\t\t}\n\n\t\tresult.side = side;\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( isPointLight && result.isMeshDistanceMaterial ) {\n\n\t\t\tresult.referencePosition.copy( lightPositionWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, isPointLight ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( object.castShadow && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, isPointLight );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl ) {\n\n\tvar buffers = {};\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = gl.FLOAT;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = gl.FLOAT;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = gl.UNSIGNED_SHORT;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = gl.SHORT;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = gl.UNSIGNED_INT;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = gl.INT;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = gl.BYTE;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = gl.UNSIGNED_BYTE;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( attribute.dynamic === false ) {\n\n\t\t\tgl.bufferData( bufferType, array, gl.STATIC_DRAW );\n\n\t\t} else if ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else if ( updateRange.count === 0 ) {\n\n\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\n\t\t} else {\n\n\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers[ attribute.uuid ];\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers[ attribute.uuid ];\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tdelete buffers[ attribute.uuid ];\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers[ attribute.uuid ];\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers[ attribute.uuid ] = createBuffer( attribute, bufferType );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nvar object3DId = 0;\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: object3DId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation.onChange( onRotationChange );\n\tquaternion.onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject.assign( Object3D.prototype, EventDispatcher.prototype, {\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function () {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.multiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateOnWorldAxis: function () {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnWorldAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.premultiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\ttranslateOnAxis: function () {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function translateOnAxis( axis, distance ) {\n\n\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function translateX( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function translateY( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function translateZ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function () {\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function worldToLocal( vector ) {\n\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\t// This method does not support objects with rotated and/or translated parent(s)\n\n\t\tvar m1 = new Matrix4();\n\t\tvar vector = new Vector3();\n\n\t\treturn function lookAt( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\tvector.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tif ( this.isCamera ) {\n\n\t\t\t\tm1.lookAt( this.position, vector, this.up );\n\n\t\t\t} else {\n\n\t\t\t\tm1.lookAt( vector, this.position, this.up );\n\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tobject.dispatchEvent( { type: 'added' } );\n\n\t\t\tthis.children.push( object );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn result.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar scale = new Vector3();\n\n\t\treturn function getWorldQuaternion( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Quaternion();\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, result, scale );\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldRotation: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldRotation( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Euler();\n\n\t\t\tthis.getWorldQuaternion( quaternion );\n\n\t\t\treturn result.setFromQuaternion( quaternion, this.rotation.order, false );\n\n\t\t};\n\n\t}(),\n\n\tgetWorldScale: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldScale( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, result );\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldDirection: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldDirection( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tthis.getWorldQuaternion( quaternion );\n\n\t\t\treturn result.set( 0, 0, 1 ).applyQuaternion( quaternion );\n\n\t\t};\n\n\t}(),\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.geometry !== undefined ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\tthis.projectionMatrix = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldDirection( optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tthis.getWorldQuaternion( quaternion );\n\n\t\t\treturn result.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n\t\t};\n\n\t}(),\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = left;\n\tthis.right = right;\n\tthis.top = top;\n\tthis.bottom = bottom;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\n\t\t\tvar zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.width;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.height;\n\n\t\t\tleft += scaleW * ( this.view.offsetX / zoomW );\n\t\t\tright = left + scaleW * ( this.view.width / zoomW );\n\t\t\ttop -= scaleH * ( this.view.offsetY / zoomH );\n\t\t\tbottom = top - scaleH * ( this.view.height / zoomH );\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar geometryId = 0; // Geometry uses even numbers as Id\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: geometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( Geometry.prototype, EventDispatcher.prototype, {\n\n\tisGeometry: true,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tvar tempNormals = [];\n\t\tvar tempUVs = [];\n\t\tvar tempUVs2 = [];\n\n\t\tfor ( var i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\n\n\t\t\tscope.vertices.push( new Vector3( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] ) );\n\n\t\t\tif ( normals !== undefined ) {\n\n\t\t\t\ttempNormals.push( new Vector3( normals[ i ], normals[ i + 1 ], normals[ i + 2 ] ) );\n\n\t\t\t}\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color( colors[ i ], colors[ i + 1 ], colors[ i + 2 ] ) );\n\n\t\t\t}\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\ttempUVs.push( new Vector2( uvs[ j ], uvs[ j + 1 ] ) );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\ttempUVs2.push( new Vector2( uvs2[ j ], uvs2[ j + 1 ] ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexNormals = normals !== undefined ? [ tempNormals[ a ].clone(), tempNormals[ b ].clone(), tempNormals[ c ].clone() ] : [];\n\t\t\tvar vertexColors = colors !== undefined ? [ scope.colors[ a ].clone(), scope.colors[ b ].clone(), scope.colors[ c ].clone() ] : [];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [ tempUVs[ a ].clone(), tempUVs[ b ].clone(), tempUVs[ c ].clone() ] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [ tempUVs2[ a ].clone(), tempUVs2[ b ].clone(), tempUVs2[ c ].clone() ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tvar offset = this.boundingBox.getCenter().negate();\n\n\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\treturn offset;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeLineDistances: function () {\n\n\t\tvar d = 0;\n\t\tvar vertices = this.vertices;\n\n\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tif ( i > 0 ) {\n\n\t\t\t\td += vertices[ i ].distanceTo( vertices[ i - 1 ] );\n\n\t\t\t}\n\n\t\t\tthis.lineDistances[ i ] = d;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tuvs1 = this.faceVertexUvs[ 0 ],\n\t\t\tuvs2 = geometry.faceVertexUvs[ 0 ],\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\n\t\t\tvar uv = uvs2[ i ], uvCopy = [];\n\n\t\t\tif ( uv === undefined ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvCopy.push( uv[ j ].clone() );\n\n\t\t\t}\n\n\t\t\tuvs1.push( uvCopy );\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tmesh.matrixAutoUpdate && mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.uuid = _Math.generateUUID();\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.onUploadCallback = function () {};\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.itemSize : 0;\n\t\tthis.array = array;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyIndicesArray: function ( indices ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\tvar index = indices[ i ];\n\n\t\t\tarray[ offset ++ ] = index.a;\n\t\t\tarray[ offset ++ ] = index.b;\n\t\t\tarray[ offset ++ ] = index.c;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.indices = [];\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = [];\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = [];\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: bufferGeometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n}\n\nObject.assign( BufferGeometry.prototype, EventDispatcher.prototype, {\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\taddAttribute: function ( name, attribute ) {\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\tthis.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tremoveAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( position );\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.applyToBufferAttribute( normal );\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tvar offset = this.boundingBox.getCenter().negate();\n\n\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\treturn offset;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\tif ( geometry.indices.length > 0 ) {\n\n\t\t\tvar TypeArray = arrayMax( geometry.indices ) > 65535 ? Uint32Array : Uint16Array;\n\t\t\tvar indices = new TypeArray( geometry.indices.length * 3 );\n\t\t\tthis.setIndex( new BufferAttribute( indices, 1 ).copyIndicesArray( geometry.indices ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.length * 3, 3 );\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar box = new Box3();\n\t\tvar vector = new Vector3();\n\n\t\treturn function computeBoundingSphere() {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t\t}\n\n\t\t\tvar position = this.attributes.position;\n\n\t\t\tif ( position ) {\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tbox.setFromBufferAttribute( position );\n\t\t\t\tbox.getCenter( center );\n\n\t\t\t\t// hoping to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t\tvector.x = position.getX( i );\n\t\t\t\t\tvector.y = position.getY( i );\n\t\t\t\t\tvector.z = position.getZ( i );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\t\tvar groups = this.groups;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tthis.addGroup( 0, indices.length );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = groups.length; j < jl; ++ j ) {\n\n\t\t\t\t\tvar group = groups[ j ];\n\n\t\t\t\t\tvar start = group.start;\n\t\t\t\t\tvar count = group.count;\n\n\t\t\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\n\n\t\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeSize = attribute2.itemSize;\n\n\t\t\tfor ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar vector = new Vector3();\n\n\t\treturn function normalizeNormals() {\n\n\t\t\tvar normals = this.attributes.normal;\n\n\t\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t\tvector.x = normals.getX( i );\n\t\t\t\tvector.y = normals.getY( i );\n\t\t\t\tvector.z = normals.getZ( i );\n\n\t\t\t\tvector.normalize();\n\n\t\t\t\tnormals.setXYZ( i, vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoNonIndexed: function () {\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry2.addAttribute( name, new BufferAttribute( array2, itemSize ) );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tvar array = Array.prototype.slice.call( index.array );\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: array\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar array = Array.prototype.slice.call( attribute.array );\n\n\t\t\tdata.data.attributes[ key ] = {\n\t\t\t\titemSize: attribute.itemSize,\n\t\t\t\ttype: attribute.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: attribute.normalized\n\t\t\t};\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nfunction BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'BoxGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\tthis.mergeVertices();\n\n}\n\nBoxGeometry.prototype = Object.create( Geometry.prototype );\nBoxGeometry.prototype.constructor = BoxGeometry;\n\n// BoxBufferGeometry\n\nfunction BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'BoxBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tvar scope = this;\n\n\twidth = width || 1;\n\theight = height || 1;\n\tdepth = depth || 1;\n\n\t// segments\n\n\twidthSegments = Math.floor( widthSegments ) || 1;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar numberOfVertices = 0;\n\tvar groupStart = 0;\n\n\t// build each side of the box geometry\n\n\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\tvar segmentWidth = width / gridX;\n\t\tvar segmentHeight = height / gridY;\n\n\t\tvar widthHalf = width / 2;\n\t\tvar heightHalf = height / 2;\n\t\tvar depthHalf = depth / 2;\n\n\t\tvar gridX1 = gridX + 1;\n\t\tvar gridY1 = gridY + 1;\n\n\t\tvar vertexCounter = 0;\n\t\tvar groupCount = 0;\n\n\t\tvar ix, iy;\n\n\t\tvar vector = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = 0;\n\t\t\t\tvector[ v ] = 0;\n\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// uvs\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t// counters\n\n\t\t\t\tvertexCounter += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\t// 1. you need three indices to draw a single face\n\t\t// 2. a single segment consists of two faces\n\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// increase counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t\t// update total number of vertices\n\n\t\tnumberOfVertices += vertexCounter;\n\n\t}\n\n}\n\nBoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nBoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\n\tthis.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = UniformsUtils.clone( source.uniforms );\n\n\tthis.defines = source.defines;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = this.uniforms;\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\treturn data;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn result.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function recast( t ) {\n\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\tresult.subVectors( point, this.origin );\n\t\tvar directionDistance = result.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn result.copy( this.origin );\n\n\t\t}\n\n\t\treturn result.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceSqToPoint( point ) {\n\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t\t// point behind the ray\n\n\t\t\tif ( directionDistance < 0 ) {\n\n\t\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t\t}\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\treturn v1.distanceToSquared( point );\n\n\t\t};\n\n\t}(),\n\n\tdistanceSqToSegment: function () {\n\n\t\tvar segCenter = new Vector3();\n\t\tvar segDir = new Vector3();\n\t\tvar diff = new Vector3();\n\n\t\treturn function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\n\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\n\t\t\tdiff.copy( this.origin ).sub( segCenter );\n\n\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\t\tvar a01 = - this.direction.dot( segDir );\n\t\t\tvar b0 = diff.dot( this.direction );\n\t\t\tvar b1 = - diff.dot( segDir );\n\t\t\tvar c = diff.lengthSq();\n\t\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\t\tvar s0, s1, sqrDist, extDet;\n\n\t\t\tif ( det > 0 ) {\n\n\t\t\t\t// The ray and segment are not parallel.\n\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 5\n\n\t\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t\t// region 4\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 3\n\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 2\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Ray and segment are parallel.\n\n\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnRay ) {\n\n\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnSegment ) {\n\n\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\n\t\t};\n\n\t}(),\n\n\tintersectSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectSphere( sphere, optionalTarget ) {\n\n\t\t\tv1.subVectors( sphere.center, this.origin );\n\t\t\tvar tca = v1.dot( this.direction );\n\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\n\t\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\t\tif ( d2 > radius2 ) return null;\n\n\t\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t\t// t0 = first intersect point - entrance on front of sphere\n\t\t\tvar t0 = tca - thc;\n\n\t\t\t// t1 = second intersect point - exit point on back of sphere\n\t\t\tvar t1 = tca + thc;\n\n\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t\t// test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\t\t\tif ( t0 < 0 ) return this.at( t1, optionalTarget );\n\n\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\t\treturn this.at( t0, optionalTarget );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) <= sphere.radius;\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, optionalTarget ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, optionalTarget );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, optionalTarget ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, optionalTarget );\n\n\t},\n\n\tintersectsBox: ( function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\treturn this.intersectBox( box, v ) !== null;\n\n\t\t};\n\n\t} )(),\n\n\tintersectTriangle: function () {\n\n\t\t// Compute the offset origin, edges, and normal.\n\t\tvar diff = new Vector3();\n\t\tvar edge1 = new Vector3();\n\t\tvar edge2 = new Vector3();\n\t\tvar normal = new Vector3();\n\n\t\treturn function intersectTriangle( a, b, c, backfaceCulling, optionalTarget ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t\tedge1.subVectors( b, a );\n\t\t\tedge2.subVectors( c, a );\n\t\t\tnormal.crossVectors( edge1, edge2 );\n\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\tvar sign;\n\n\t\t\tif ( DdN > 0 ) {\n\n\t\t\t\tif ( backfaceCulling ) return null;\n\t\t\t\tsign = 1;\n\n\t\t\t} else if ( DdN < 0 ) {\n\n\t\t\t\tsign = - 1;\n\t\t\t\tDdN = - DdN;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tdiff.subVectors( this.origin, a );\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n\t\t\t// b1 < 0, no intersection\n\t\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n\t\t\t// b2 < 0, no intersection\n\t\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// b1+b2 > 1, no intersection\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Line intersects triangle, check if ray does.\n\t\t\tvar QdN = - sign * diff.dot( normal );\n\n\t\t\t// t < 0, no intersection\n\t\t\tif ( QdN < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Ray intersects triangle.\n\t\t\treturn this.at( QdN / DdN, optionalTarget );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn result.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn result.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function () {\n\n\t\tvar startP = new Vector3();\n\t\tvar startEnd = new Vector3();\n\n\t\treturn function closestPointToPointParameter( point, clampToLine ) {\n\n\t\t\tstartP.subVectors( point, this.start );\n\t\t\tstartEnd.subVectors( this.end, this.start );\n\n\t\t\tvar startEnd2 = startEnd.dot( startEnd );\n\t\t\tvar startEnd_startP = startEnd.dot( startP );\n\n\t\t\tvar t = startEnd_startP / startEnd2;\n\n\t\t\tif ( clampToLine ) {\n\n\t\t\t\tt = _Math.clamp( t, 0, 1 );\n\n\t\t\t}\n\n\t\t\treturn t;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, clampToLine, optionalTarget ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tvar result = optionalTarget || new Vector3();\n\n\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tnormal: function () {\n\n\t\tvar v0 = new Vector3();\n\n\t\treturn function normal( a, b, c, optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\tresult.subVectors( c, b );\n\t\t\tv0.subVectors( a, b );\n\t\t\tresult.cross( v0 );\n\n\t\t\tvar resultLengthSq = result.lengthSq();\n\t\t\tif ( resultLengthSq > 0 ) {\n\n\t\t\t\treturn result.multiplyScalar( 1 / Math.sqrt( resultLengthSq ) );\n\n\t\t\t}\n\n\t\t\treturn result.set( 0, 0, 0 );\n\n\t\t};\n\n\t}(),\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tbarycoordFromPoint: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function barycoordFromPoint( point, a, b, c, optionalTarget ) {\n\n\t\t\tv0.subVectors( c, a );\n\t\t\tv1.subVectors( b, a );\n\t\t\tv2.subVectors( point, a );\n\n\t\t\tvar dot00 = v0.dot( v0 );\n\t\t\tvar dot01 = v0.dot( v1 );\n\t\t\tvar dot02 = v0.dot( v2 );\n\t\t\tvar dot11 = v1.dot( v1 );\n\t\t\tvar dot12 = v1.dot( v2 );\n\n\t\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\n\t\t\t// collinear or singular triangle\n\t\t\tif ( denom === 0 ) {\n\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn result.set( - 2, - 1, - 1 );\n\n\t\t\t}\n\n\t\t\tvar invDenom = 1 / denom;\n\t\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t\t// barycentric coordinates must always sum to 1\n\t\t\treturn result.set( 1 - u - v, v, u );\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function containsPoint( point, a, b, c ) {\n\n\t\t\tvar result = Triangle.barycoordFromPoint( point, a, b, c, v1 );\n\n\t\t\treturn ( result.x >= 0 ) && ( result.y >= 0 ) && ( ( result.x + result.y ) <= 1 );\n\n\t\t};\n\n\t}()\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tarea: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\n\t\treturn function area() {\n\n\t\t\tv0.subVectors( this.c, this.b );\n\t\t\tv1.subVectors( this.a, this.b );\n\n\t\t\treturn v0.cross( v1 ).length() * 0.5;\n\n\t\t};\n\n\t}(),\n\n\tmidpoint: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Vector3();\n\t\treturn result.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tnormal: function ( optionalTarget ) {\n\n\t\treturn Triangle.normal( this.a, this.b, this.c, optionalTarget );\n\n\t},\n\n\tplane: function ( optionalTarget ) {\n\n\t\tvar result = optionalTarget || new Plane();\n\n\t\treturn result.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tbarycoordFromPoint: function ( point, optionalTarget ) {\n\n\t\treturn Triangle.barycoordFromPoint( point, this.a, this.b, this.c, optionalTarget );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tclosestPointToPoint: function () {\n\n\t\tvar plane = new Plane();\n\t\tvar edgeList = [ new Line3(), new Line3(), new Line3() ];\n\t\tvar projectedPoint = new Vector3();\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function closestPointToPoint( point, optionalTarget ) {\n\n\t\t\tvar result = optionalTarget || new Vector3();\n\t\t\tvar minDistance = Infinity;\n\n\t\t\t// project the point onto the plane of the triangle\n\n\t\t\tplane.setFromCoplanarPoints( this.a, this.b, this.c );\n\t\t\tplane.projectPoint( point, projectedPoint );\n\n\t\t\t// check if the projection lies within the triangle\n\n\t\t\tif ( this.containsPoint( projectedPoint ) === true ) {\n\n\t\t\t\t// if so, this is the closest point\n\n\t\t\t\tresult.copy( projectedPoint );\n\n\t\t\t} else {\n\n\t\t\t\t// if not, the point falls outside the triangle. the result is the closest point to the triangle's edges or vertices\n\n\t\t\t\tedgeList[ 0 ].set( this.a, this.b );\n\t\t\t\tedgeList[ 1 ].set( this.b, this.c );\n\t\t\t\tedgeList[ 2 ].set( this.c, this.a );\n\n\t\t\t\tfor ( var i = 0; i < edgeList.length; i ++ ) {\n\n\t\t\t\t\tedgeList[ i ].closestPointToPoint( projectedPoint, true, closestPoint );\n\n\t\t\t\t\tvar distance = projectedPoint.distanceToSquared( closestPoint );\n\n\t\t\t\t\tif ( distance < minDistance ) {\n\n\t\t\t\t\t\tminDistance = distance;\n\n\t\t\t\t\t\tresult.copy( closestPoint );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn result;\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.drawMode = TrianglesDrawMode;\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tsetDrawMode: function ( value ) {\n\n\t\tthis.drawMode = value;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.drawMode = source.drawMode;\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( m = 0, ml = morphTargets.length; m < ml; m ++ ) {\n\n\t\t\t\t\tname = morphTargets[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar tempA = new Vector3();\n\t\tvar tempB = new Vector3();\n\t\tvar tempC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tvar barycoord = new Vector3();\n\n\t\tvar intersectionPoint = new Vector3();\n\t\tvar intersectionPointWorld = new Vector3();\n\n\t\tfunction uvIntersection( point, p1, p2, p3, uv1, uv2, uv3 ) {\n\n\t\t\tTriangle.barycoordFromPoint( point, p1, p2, p3, barycoord );\n\n\t\t\tuv1.multiplyScalar( barycoord.x );\n\t\t\tuv2.multiplyScalar( barycoord.y );\n\t\t\tuv3.multiplyScalar( barycoord.z );\n\n\t\t\tuv1.add( uv2 ).add( uv3 );\n\n\t\t\treturn uv1.clone();\n\n\t\t}\n\n\t\tfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\t\t\tvar intersect;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t\t\t} else {\n\n\t\t\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t\t\t}\n\n\t\t\tif ( intersect === null ) return null;\n\n\t\t\tintersectionPointWorld.copy( point );\n\t\t\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\t\t\treturn {\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectionPointWorld.clone(),\n\t\t\t\tobject: object\n\t\t\t};\n\n\t\t}\n\n\t\tfunction checkBufferGeometryIntersection( object, raycaster, ray, position, uv, a, b, c ) {\n\n\t\t\tvA.fromBufferAttribute( position, a );\n\t\t\tvB.fromBufferAttribute( position, b );\n\t\t\tvC.fromBufferAttribute( position, c );\n\n\t\t\tvar intersection = checkIntersection( object, object.material, raycaster, ray, vA, vB, vC, intersectionPoint );\n\n\t\t\tif ( intersection ) {\n\n\t\t\t\tif ( uv ) {\n\n\t\t\t\t\tuvA.fromBufferAttribute( uv, a );\n\t\t\t\t\tuvB.fromBufferAttribute( uv, b );\n\t\t\t\t\tuvC.fromBufferAttribute( uv, c );\n\n\t\t\t\t\tintersection.uv = uvIntersection( intersectionPoint, vA, vB, vC, uvA, uvB, uvC );\n\n\t\t\t\t}\n\n\t\t\t\tintersection.face = new Face3( a, b, c, Triangle.normal( vA, vB, vC ) );\n\t\t\t\tintersection.faceIndex = a;\n\n\t\t\t}\n\n\t\t\treturn intersection;\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar material = this.material;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\tif ( material === undefined ) return;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\t// Check boundingBox before continuing\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tif ( ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t\t}\n\n\t\t\tvar intersection;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar a, b, c;\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar position = geometry.attributes.position;\n\t\t\t\tvar uv = geometry.attributes.uv;\n\t\t\t\tvar i, l;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\t// indexed buffer geometry\n\n\t\t\t\t\tfor ( i = 0, l = index.count; i < l; i += 3 ) {\n\n\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indices buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\t\tfor ( i = 0, l = position.count; i < l; i += 3 ) {\n\n\t\t\t\t\t\ta = i;\n\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.index = a; // triangle number in positions buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar fvA, fvB, fvC;\n\t\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar uvs;\n\n\t\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tvar face = faces[ f ];\n\t\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\t\tif ( faceMaterial.morphTargets === true ) {\n\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\t\t\t\tvar morphInfluences = this.morphTargetInfluences;\n\n\t\t\t\t\t\tvA.set( 0, 0, 0 );\n\t\t\t\t\t\tvB.set( 0, 0, 0 );\n\t\t\t\t\t\tvC.set( 0, 0, 0 );\n\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\n\n\t\t\t\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\n\n\t\t\t\t\t\t\tvA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\n\t\t\t\t\t\t\tvB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\n\t\t\t\t\t\t\tvC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvA.add( fvA );\n\t\t\t\t\t\tvB.add( fvB );\n\t\t\t\t\t\tvC.add( fvC );\n\n\t\t\t\t\t\tfvA = vA;\n\t\t\t\t\t\tfvB = vB;\n\t\t\t\t\t\tfvC = vC;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t\tuvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t\tuvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t\tuvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\t\tintersection.uv = uvIntersection( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tintersection.face = face;\n\t\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, geometries, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeCamera, planeMesh;\n\tvar boxMesh;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && background.isCubeTexture ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tuniforms: ShaderLib.cube.uniforms,\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: true,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.removeAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.removeAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\tgeometries.update( boxMesh.geometry );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.tCube.value = background;\n\n\t\t\trenderList.push( boxMesh, boxMesh.geometry, boxMesh.material, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeCamera === undefined ) {\n\n\t\t\t\tplaneCamera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew MeshBasicMaterial( { depthTest: false, depthWrite: false, fog: false } )\n\t\t\t\t);\n\n\t\t\t\tgeometries.update( planeMesh.geometry );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.map = background;\n\n\t\t\t// TODO Push this to renderList\n\n\t\t\trenderer.renderBufferDirect( planeCamera, null, planeMesh.geometry, planeMesh.material, planeMesh, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program && b.program && a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction push( object, geometry, material, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t\trenderItemsIndex ++;\n\n\t}\n\n\tfunction sort() {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( reversePainterSortStable );\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = {};\n\n\tfunction get( scene, camera ) {\n\n\t\tvar hash = scene.id + ',' + camera.id;\n\t\tvar list = lists[ hash ];\n\n\t\tif ( list === undefined ) {\n\n\t\t\t// console.log( 'THREE.WebGLRenderLists:', hash );\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists[ hash ] = list;\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\tvar length = objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.removeAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.removeAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, infoRender ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfoRender.calls ++;\n\t\tinfoRender.vertices += count;\n\n\t\tif ( mode === gl.TRIANGLES ) infoRender.faces += count / 3;\n\t\telse if ( mode === gl.POINTS ) infoRender.points += count;\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\tif ( extension === null ) {\n\n\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\textension.drawElementsInstancedANGLE( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\n\n\t\tinfoRender.calls ++;\n\t\tinfoRender.vertices += count * geometry.maxInstancedCount;\n\n\t\tif ( mode === gl.TRIANGLES ) infoRender.faces += geometry.maxInstancedCount * count / 3;\n\t\telse if ( mode === gl.POINTS ) infoRender.points += geometry.maxInstancedCount * count;\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, infoRender ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfoRender.calls ++;\n\t\tinfoRender.vertices += count;\n\n\t\tif ( mode === gl.TRIANGLES ) infoRender.faces += count / 3;\n\t\telse if ( mode === gl.POINTS ) infoRender.points += count;\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\tif ( extension === null ) {\n\n\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar position = geometry.attributes.position;\n\n\t\tif ( position.isInterleavedBufferAttribute ) {\n\n\t\t\tcount = position.data.count;\n\n\t\t\textension.drawArraysInstancedANGLE( mode, 0, count, geometry.maxInstancedCount );\n\n\t\t} else {\n\n\t\t\textension.drawArraysInstancedANGLE( mode, start, count, geometry.maxInstancedCount );\n\n\t\t}\n\n\t\tinfoRender.calls ++;\n\t\tinfoRender.vertices += count * geometry.maxInstancedCount;\n\n\t\tif ( mode === gl.TRIANGLES ) infoRender.faces += geometry.maxInstancedCount * count / 3;\n\t\telse if ( mode === gl.POINTS ) infoRender.points += geometry.maxInstancedCount * count;\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, infoMemory ) {\n\n\tvar geometries = {};\n\tvar wireframeAttributes = {};\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\t// TODO Remove duplicate code\n\n\t\tvar attribute = wireframeAttributes[ geometry.id ];\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\tdelete wireframeAttributes[ geometry.id ];\n\n\t\t}\n\n\t\tattribute = wireframeAttributes[ buffergeometry.id ];\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\tdelete wireframeAttributes[ buffergeometry.id ];\n\n\t\t}\n\n\t\t//\n\n\t\tinfoMemory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries[ geometry.id ] = buffergeometry;\n\n\t\tinfoMemory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, gl.ELEMENT_ARRAY_BUFFER );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], gl.ARRAY_BUFFER );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], gl.ARRAY_BUFFER );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar attribute = wireframeAttributes[ geometry.id ];\n\n\t\tif ( attribute ) return attribute;\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\t// console.time( 'wireframe' );\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryAttributes.position.array;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// console.timeEnd( 'wireframe' );\n\n\t\tattribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\n\t\tattributes.update( attribute, gl.ELEMENT_ARRAY_BUFFER );\n\n\t\twireframeAttributes[ geometry.id ] = attribute;\n\n\t\treturn attribute;\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar state = {\n\n\t\thash: '',\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tdirectional: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = ( light.distance === 0 ) ? 0.0 : light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity controls irradiance of entire light\n\t\t\t\tuniforms.color\n\t\t\t\t\t.copy( color )\n\t\t\t\t\t.multiplyScalar( intensity / ( light.width * light.height ) );\n\n\t\t\t\t// (b) intensity controls the radiance per light area\n\t\t\t\t// uniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = ( light.distance === 0 ) ? 0.0 : light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tuniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tuniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t}\n\n\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tstate.directional.length = directionalLength;\n\t\tstate.spot.length = spotLength;\n\t\tstate.rectArea.length = rectAreaLength;\n\t\tstate.point.length = pointLength;\n\t\tstate.hemi.length = hemiLength;\n\n\t\t// TODO (sam-g-steel) why aren't we using join\n\t\tstate.hash = directionalLength + ',' + pointLength + ',' + spotLength + ',' + rectAreaLength + ',' + hemiLength + ',' + shadows.length;\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( geometries, infoRender ) {\n\n\tvar updateList = {};\n\n\tfunction update( object ) {\n\n\t\tvar frame = infoRender.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateList[ buffergeometry.id ] !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateList[ buffergeometry.id ] = frame;\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction clear() {\n\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tclear: clear\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\tif ( gl.getShaderParameter( shader, gl.COMPILE_STATUS ) === false ) {\n\n\t\tconsole.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\n\n\t}\n\n\tif ( gl.getShaderInfoLog( shader ) !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\n\n\t}\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn \"vec4 \" + functionName + \"( vec4 value ) { return \" + components[ 0 ] + \"ToLinear\" + components[ 1 ] + \"; }\";\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn \"vec4 \" + functionName + \"( vec4 value ) { return LinearTo\" + components[ 0 ] + components[ 1 ] + \"; }\";\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = \"Linear\";\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = \"Reinhard\";\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = \"Uncharted2\";\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = \"OptimizedCineon\";\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn \"vec3 \" + functionName + \"( vec3 color ) { return \" + toneMappingName + \"ToneMapping( color ); }\";\n\n}\n\nfunction generateExtensions( extensions, parameters, rendererExtensions ) {\n\n\textensions = extensions || {};\n\n\tvar chunks = [\n\t\t( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.normalMap || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, gl.ACTIVE_ATTRIBUTES );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\n\n}\n\nfunction parseIncludes( string ) {\n\n\tvar pattern = /^[ \\t]*#include +<([\\w\\d.]+)>/gm;\n\n\tfunction replace( match, include ) {\n\n\t\tvar replace = ShaderChunk[ include ];\n\n\t\tif ( replace === undefined ) {\n\n\t\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t\t}\n\n\t\treturn parseIncludes( replace );\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction unrollLoops( string ) {\n\n\tvar pattern = /for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n\tfunction replace( match, start, end, snippet ) {\n\n\t\tvar unroll = '';\n\n\t\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\t\tunroll += snippet.replace( /\\[ i \\]/g, '[ ' + i + ' ]' );\n\n\t\t}\n\n\t\treturn unroll;\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction WebGLProgram( renderer, extensions, code, material, shader, parameters ) {\n\n\tvar gl = renderer.context;\n\n\tvar defines = material.defines;\n\n\tvar vertexShader = shader.vertexShader;\n\tvar fragmentShader = shader.fragmentShader;\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t}\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\t// console.log( 'building new program ' );\n\n\t//\n\n\tvar customExtensions = generateExtensions( material.extensions, parameters, extensions );\n\n\tvar customDefines = generateDefines( defines );\n\n\t//\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( material.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\t'#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\t'#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes,\n\t\t\t'#define UNION_CLIPPING_PLANES ' + ( parameters.numClippingPlanes - parameters.numClipIntersection ),\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? \"#define PREMULTIPLIED_ALPHA\" : '',\n\n\t\t\tparameters.physicallyCorrectLights ? \"#define PHYSICALLY_CORRECT_LIGHTS\" : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\tparameters.envMap && extensions.get( 'EXT_shader_texture_lod' ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? \"#define TONE_MAPPING\" : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( \"toneMapping\", parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ? ShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( \"linearToOutputTexel\", parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? \"#define DEPTH_PACKING \" + material.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = parseIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\n\tfragmentShader = parseIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\n\tif ( ! material.isShaderMaterial ) {\n\n\t\tvertexShader = unrollLoops( vertexShader );\n\t\tfragmentShader = unrollLoops( fragmentShader );\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, gl.VERTEX_SHADER, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, gl.FRAGMENT_SHADER, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( material.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\tvar programLog = gl.getProgramInfoLog( program );\n\tvar vertexLog = gl.getShaderInfoLog( glVertexShader );\n\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader );\n\n\tvar runnable = true;\n\tvar haveDiagnostics = true;\n\n\t// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n\t// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\n\n\tif ( gl.getProgramParameter( program, gl.LINK_STATUS ) === false ) {\n\n\t\trunnable = false;\n\n\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter( program, gl.VALIDATE_STATUS ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\n\n\t} else if ( programLog !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\thaveDiagnostics = false;\n\n\t}\n\n\tif ( haveDiagnostics ) {\n\n\t\tthis.diagnostics = {\n\n\t\t\trunnable: runnable,\n\t\t\tmaterial: material,\n\n\t\t\tprogramLog: programLog,\n\n\t\t\tvertexShader: {\n\n\t\t\t\tlog: vertexLog,\n\t\t\t\tprefix: prefixVertex\n\n\t\t\t},\n\n\t\t\tfragmentShader: {\n\n\t\t\t\tlog: fragmentLog,\n\t\t\t\tprefix: prefixFragment\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// clean up\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program, renderer );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t// DEPRECATED\n\n\tObject.defineProperties( this, {\n\n\t\tuniforms: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\n\t\t\t\treturn this.getUniforms();\n\n\t\t\t}\n\t\t},\n\n\t\tattributes: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\n\t\t\t\treturn this.getAttributes();\n\n\t\t\t}\n\t\t}\n\n\t} );\n\n\n\t//\n\n\tthis.id = programIdCount ++;\n\tthis.code = code;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'phong',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\"\n\t];\n\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map, gammaOverrideLinear ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\t// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n\t\tif ( encoding === LinearEncoding && gammaOverrideLinear ) {\n\n\t\t\tencoding = GammaEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\t\tvar precision = capabilities.precision;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tshaderID: shaderID,\n\n\t\t\tprecision: precision,\n\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\n\t\t\toutputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\n\t\t\tenvMap: !! material.envMap,\n\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\n\t\t\tenvMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexColors: material.vertexColors,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: capabilities.floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: renderer.toneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCode = function ( material, parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( material.fragmentShader );\n\t\t\tarray.push( material.vertexShader );\n\n\t\t}\n\n\t\tif ( material.defines !== undefined ) {\n\n\t\t\tfor ( var name in material.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( material.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t}\n\n\t\tarray.push( material.onBeforeCompile.toString() );\n\n\t\tarray.push( renderer.gammaOutput );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( material, shader, parameters, code ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar programInfo = programs[ p ];\n\n\t\t\tif ( programInfo.code === code ) {\n\n\t\t\t\tprogram = programInfo;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, extensions, code, material, shader, parameters );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, infoMemory ) {\n\n\tvar _isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && _gl instanceof window.WebGL2RenderingContext );\n\n\t//\n\n\tfunction clampToMaxSize( image, maxSize ) {\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\t// Warning: Scaling through the canvas will only work with images that use\n\t\t\t// premultiplied alpha.\n\n\t\t\tvar scale = maxSize / Math.max( image.width, image.height );\n\n\t\t\tvar canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\t\tcanvas.width = Math.floor( image.width * scale );\n\t\t\tcanvas.height = Math.floor( image.height * scale );\n\n\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height );\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\n\n\t\t\treturn canvas;\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction makePowerOfTwo( image ) {\n\n\t\tif ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement || image instanceof ImageBitmap ) {\n\n\t\t\tvar canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\t\t\tcanvas.width = _Math.floorPowerOfTwo( image.width );\n\t\t\tcanvas.height = _Math.floorPowerOfTwo( image.height );\n\n\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, canvas.width, canvas.height );\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\n\n\t\t\treturn canvas;\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, isPowerOfTwo ) {\n\n\t\treturn texture.generateMipmaps && isPowerOfTwo &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter ) {\n\n\t\t\treturn _gl.NEAREST;\n\n\t\t}\n\n\t\treturn _gl.LINEAR;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tinfoMemory.textures --;\n\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfoMemory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image && textureProperties.__image__webglTextureCube ) {\n\n\t\t\t// cube texture\n\n\t\t\t_gl.deleteTexture( textureProperties.__image__webglTextureCube );\n\n\t\t} else {\n\n\t\t\t// 2D texture\n\n\t\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\t// remove all webgl properties\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined', texture );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete', texture );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image.length === 6 ) {\n\n\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\t\tif ( ! textureProperties.__image__webglTextureCube ) {\n\n\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\ttextureProperties.__image__webglTextureCube = _gl.createTexture();\n\n\t\t\t\t\tinfoMemory.textures ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\n\t\t\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\n\t\t\t\tvar isCompressed = ( texture && texture.isCompressedTexture );\n\t\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\t\tvar cubeImage = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\t\tcubeImage[ i ] = clampToMaxSize( texture.image[ i ], capabilities.maxCubemapSize );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\t\tisPowerOfTwoImage = isPowerOfTwo( image ),\n\t\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, isPowerOfTwoImage );\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) {\n\n\t\t\t\t\t_gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t\t} else {\n\n\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tfunction setTextureParameters( textureType, texture, isPowerOfTwoImage ) {\n\n\t\tvar extension;\n\n\t\tif ( isPowerOfTwoImage ) {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, utils.convert( texture.wrapS ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, utils.convert( texture.wrapT ) );\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, utils.convert( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, utils.convert( texture.minFilter ) );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.', texture );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.', texture );\n\n\t\t\t}\n\n\t\t}\n\n\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && extensions.get( 'OES_texture_half_float_linear' ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfoMemory.textures ++;\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\n\n\t\tvar image = clampToMaxSize( texture.image, capabilities.maxTextureSize );\n\n\t\tif ( textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( image ) === false ) {\n\n\t\t\timage = makePowerOfTwo( image );\n\n\t\t}\n\n\t\tvar isPowerOfTwoImage = isPowerOfTwo( image ),\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type );\n\n\t\tsetTextureParameters( _gl.TEXTURE_2D, texture, isPowerOfTwoImage );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tvar internalFormat = _gl.DEPTH_COMPONENT;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( ! _isWebGL2 ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tinternalFormat = _gl.DEPTH_COMPONENT32F;\n\n\t\t\t} else if ( _isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tinternalFormat = _gl.DEPTH_COMPONENT16;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && internalFormat === _gl.DEPTH_COMPONENT ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tinternalFormat = _gl.DEPTH_STENCIL;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, internalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && isPowerOfTwoImage ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && isPowerOfTwoImage ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, glFormat, glType, image );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tstate.texImage2D( textureTarget, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget ) {\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else {\n\n\t\t\t// FIXME: We don't support !depth !stencil\n\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height );\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfoMemory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) _gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( _gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, isTargetPowerOfTwo ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\t_gl.generateMipmap( target );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = {};\n\n\tfunction get( object ) {\n\n\t\tvar uuid = object.uuid;\n\t\tvar map = properties[ uuid ];\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties[ uuid ] = map;\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tdelete properties[ object.uuid ];\n\n\t}\n\n\tfunction clear() {\n\n\t\tproperties = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tclear: clear\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, utils ) {\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( gl.DEPTH_TEST );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( gl.DEPTH_TEST );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.NEVER );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.ALWAYS );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LESS );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.EQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.GEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.GREATER );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.NOTEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\tenable( gl.STENCIL_TEST );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( gl.STENCIL_TEST );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar capabilities = {};\n\n\tvar compressedTextureFormats = null;\n\n\tvar currentProgram = null;\n\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS );\n\n\tvar version = parseFloat( /^WebGL\\ ([0-9])/.exec( gl.getParameter( gl.VERSION ) )[ 1 ] );\n\tvar lineWidthAvailable = parseFloat( version ) >= 1.0;\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\t\tgl.texParameteri( type, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ gl.TEXTURE_2D ] = createTexture( gl.TEXTURE_2D, gl.TEXTURE_2D, 1 );\n\temptyTextures[ gl.TEXTURE_CUBE_MAP ] = createTexture( gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( gl.DEPTH_TEST );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( gl.CULL_FACE );\n\n\tenable( gl.BLEND );\n\tsetBlending( NormalBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== 0 ) {\n\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension.vertexAttribDivisorANGLE( attribute, 0 );\n\t\t\tattributeDivisors[ attribute ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension.vertexAttribDivisorANGLE( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( capabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tcapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( capabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tcapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction getCompressedTextureFormats() {\n\n\t\tif ( compressedTextureFormats === null ) {\n\n\t\t\tcompressedTextureFormats = [];\n\n\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_etc1' ) ) {\n\n\t\t\t\tvar formats = gl.getParameter( gl.COMPRESSED_TEXTURE_FORMATS );\n\n\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\n\n\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn compressedTextureFormats;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending !== NoBlending ) {\n\n\t\t\tenable( gl.BLEND );\n\n\t\t} else {\n\n\t\t\tdisable( gl.BLEND );\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\tcase AdditiveBlending:\n\n\t\t\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE, gl.ONE, gl.ONE );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFunc( gl.SRC_ALPHA, gl.ONE );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase SubtractiveBlending:\n\n\t\t\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.ONE_MINUS_SRC_COLOR );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase MultiplyBlending:\n\n\t\t\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.SRC_COLOR );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcurrentBlendEquation = null;\n\t\t\tcurrentBlendSrc = null;\n\t\t\tcurrentBlendDst = null;\n\t\t\tcurrentBlendEquationAlpha = null;\n\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t} else {\n\n\t\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\t\tgl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\n\n\t\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t\t}\n\n\t\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\t\tgl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\n\n\t\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\t\tcurrentBlendDst = blendDst;\n\t\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t}\n\n\tfunction setMaterial( material ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( gl.CULL_FACE )\n\t\t\t: enable( gl.CULL_FACE );\n\n\t\tsetFlipSided( material.side === BackSide );\n\n\t\tmaterial.transparent === true\n\t\t\t? setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha )\n\t\t\t: setBlending( NoBlending );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( gl.CW );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( gl.CCW );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( gl.CULL_FACE );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( gl.BACK );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT_AND_BACK );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( gl.CULL_FACE );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( gl.POLYGON_OFFSET_FILL );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( gl.POLYGON_OFFSET_FILL );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( gl.SCISSOR_TEST );\n\n\t\t} else {\n\n\t\t\tdisable( gl.SCISSOR_TEST );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = gl.TEXTURE0 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcapabilities = {};\n\n\t\tcompressedTextureFormats = null;\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tgetCompressedTextureFormats: getCompressedTextureFormats,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\n\tvar maxVertexTextures = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\n\tvar maxTextureSize = gl.getParameter( gl.MAX_TEXTURE_SIZE );\n\tvar maxCubemapSize = gl.getParameter( gl.MAX_CUBE_MAP_TEXTURE_SIZE );\n\n\tvar maxAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\tvar maxVertexUniforms = gl.getParameter( gl.MAX_VERTEX_UNIFORM_VECTORS );\n\tvar maxVaryings = gl.getParameter( gl.MAX_VARYING_VECTORS );\n\tvar maxFragmentUniforms = gl.getParameter( gl.MAX_FRAGMENT_UNIFORM_VECTORS );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\treturn {\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn _Math.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan(\n\t\t\t\t_Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebVRManager( renderer ) {\n\n\tvar scope = this;\n\n\tvar device = null;\n\tvar frameData = null;\n\n\tif ( typeof window !== 'undefined' && 'VRFrameData' in window ) {\n\n\t\tframeData = new window.VRFrameData();\n\n\t}\n\n\tvar matrixWorldInverse = new Matrix4();\n\n\tvar standingMatrix = new Matrix4();\n\tvar standingMatrixInverse = new Matrix4();\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.bounds = new Vector4( 0.0, 0.0, 0.5, 1.0 );\n\tcameraL.layers.enable( 1 );\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.bounds = new Vector4( 0.5, 0.0, 0.5, 1.0 );\n\tcameraR.layers.enable( 2 );\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tvar currentSize, currentPixelRatio;\n\n\tfunction onVRDisplayPresentChange() {\n\n\t\tif ( device !== null && device.isPresenting ) {\n\n\t\t\tvar eyeParameters = device.getEyeParameters( 'left' );\n\t\t\tvar renderWidth = eyeParameters.renderWidth;\n\t\t\tvar renderHeight = eyeParameters.renderHeight;\n\n\t\t\tcurrentPixelRatio = renderer.getPixelRatio();\n\t\t\tcurrentSize = renderer.getSize();\n\n\t\t\trenderer.setDrawingBufferSize( renderWidth * 2, renderHeight, 1 );\n\n\t\t} else if ( scope.enabled ) {\n\n\t\t\trenderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\n\n\t\t}\n\n\t}\n\n\tif ( typeof window !== 'undefined' ) {\n\n\t\twindow.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\t}\n\n\t//\n\n\tthis.enabled = false;\n\tthis.standing = false;\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) device = value;\n\n\t};\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tif ( device === null ) return camera;\n\n\t\tdevice.depthNear = camera.near;\n\t\tdevice.depthFar = camera.far;\n\n\t\tdevice.getFrameData( frameData );\n\n\t\t//\n\n\t\tvar pose = frameData.pose;\n\n\t\tif ( pose.position !== null ) {\n\n\t\t\tcamera.position.fromArray( pose.position );\n\n\t\t} else {\n\n\t\t\tcamera.position.set( 0, 0, 0 );\n\n\t\t}\n\n\t\tif ( pose.orientation !== null ) {\n\n\t\t\tcamera.quaternion.fromArray( pose.orientation );\n\n\t\t}\n\n\t\tcamera.updateMatrixWorld();\n\n\t\tvar stageParameters = device.stageParameters;\n\n\t\tif ( this.standing && stageParameters ) {\n\n\t\t\tstandingMatrix.fromArray( stageParameters.sittingToStandingTransform );\n\t\t\tstandingMatrixInverse.getInverse( standingMatrix );\n\n\t\t\tcamera.matrixWorld.multiply( standingMatrix );\n\t\t\tcamera.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tif ( device.isPresenting === false ) return camera;\n\n\t\t//\n\n\t\tcameraL.near = camera.near;\n\t\tcameraR.near = camera.near;\n\n\t\tcameraL.far = camera.far;\n\t\tcameraR.far = camera.far;\n\n\t\tcameraVR.matrixWorld.copy( camera.matrixWorld );\n\t\tcameraVR.matrixWorldInverse.copy( camera.matrixWorldInverse );\n\n\t\tcameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\n\t\tcameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\n\n\t\tif ( this.standing && stageParameters ) {\n\n\t\t\tcameraL.matrixWorldInverse.multiply( standingMatrixInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tvar parent = camera.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\n\t\t\tcameraL.matrixWorldInverse.multiply( matrixWorldInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( matrixWorldInverse );\n\n\t\t}\n\n\t\t// envMap and Mirror needs camera.matrixWorld\n\n\t\tcameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\n\t\tcameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\n\n\t\tcameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\n\t\tcameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\n\n\t\t// HACK @mrdoob\n\t\t// https://github.com/w3c/webvr/issues/203\n\n\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t//\n\n\t\tvar layers = device.getLayers();\n\n\t\tif ( layers.length ) {\n\n\t\t\tvar layer = layers[ 0 ];\n\n\t\t\tif ( layer.leftBounds !== null && layer.leftBounds.length === 4 ) {\n\n\t\t\t\tcameraL.bounds.fromArray( layer.leftBounds );\n\n\t\t\t}\n\n\t\t\tif ( layer.rightBounds !== null && layer.rightBounds.length === 4 ) {\n\n\t\t\t\tcameraR.bounds.fromArray( layer.rightBounds );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn cameraVR;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.submitFrame = function () {\n\n\t\tif ( device && device.isPresenting ) device.submitFrame();\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tif ( typeof window !== 'undefined' ) {\n\n\t\t\twindow.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_etc1':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_etc1' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions ) {\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === RepeatWrapping ) return gl.REPEAT;\n\t\tif ( p === ClampToEdgeWrapping ) return gl.CLAMP_TO_EDGE;\n\t\tif ( p === MirroredRepeatWrapping ) return gl.MIRRORED_REPEAT;\n\n\t\tif ( p === NearestFilter ) return gl.NEAREST;\n\t\tif ( p === NearestMipMapNearestFilter ) return gl.NEAREST_MIPMAP_NEAREST;\n\t\tif ( p === NearestMipMapLinearFilter ) return gl.NEAREST_MIPMAP_LINEAR;\n\n\t\tif ( p === LinearFilter ) return gl.LINEAR;\n\t\tif ( p === LinearMipMapNearestFilter ) return gl.LINEAR_MIPMAP_NEAREST;\n\t\tif ( p === LinearMipMapLinearFilter ) return gl.LINEAR_MIPMAP_LINEAR;\n\n\t\tif ( p === UnsignedByteType ) return gl.UNSIGNED_BYTE;\n\t\tif ( p === UnsignedShort4444Type ) return gl.UNSIGNED_SHORT_4_4_4_4;\n\t\tif ( p === UnsignedShort5551Type ) return gl.UNSIGNED_SHORT_5_5_5_1;\n\t\tif ( p === UnsignedShort565Type ) return gl.UNSIGNED_SHORT_5_6_5;\n\n\t\tif ( p === ByteType ) return gl.BYTE;\n\t\tif ( p === ShortType ) return gl.SHORT;\n\t\tif ( p === UnsignedShortType ) return gl.UNSIGNED_SHORT;\n\t\tif ( p === IntType ) return gl.INT;\n\t\tif ( p === UnsignedIntType ) return gl.UNSIGNED_INT;\n\t\tif ( p === FloatType ) return gl.FLOAT;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) return extension.HALF_FLOAT_OES;\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return gl.ALPHA;\n\t\tif ( p === RGBFormat ) return gl.RGB;\n\t\tif ( p === RGBAFormat ) return gl.RGBA;\n\t\tif ( p === LuminanceFormat ) return gl.LUMINANCE;\n\t\tif ( p === LuminanceAlphaFormat ) return gl.LUMINANCE_ALPHA;\n\t\tif ( p === DepthFormat ) return gl.DEPTH_COMPONENT;\n\t\tif ( p === DepthStencilFormat ) return gl.DEPTH_STENCIL;\n\n\t\tif ( p === AddEquation ) return gl.FUNC_ADD;\n\t\tif ( p === SubtractEquation ) return gl.FUNC_SUBTRACT;\n\t\tif ( p === ReverseSubtractEquation ) return gl.FUNC_REVERSE_SUBTRACT;\n\n\t\tif ( p === ZeroFactor ) return gl.ZERO;\n\t\tif ( p === OneFactor ) return gl.ONE;\n\t\tif ( p === SrcColorFactor ) return gl.SRC_COLOR;\n\t\tif ( p === OneMinusSrcColorFactor ) return gl.ONE_MINUS_SRC_COLOR;\n\t\tif ( p === SrcAlphaFactor ) return gl.SRC_ALPHA;\n\t\tif ( p === OneMinusSrcAlphaFactor ) return gl.ONE_MINUS_SRC_ALPHA;\n\t\tif ( p === DstAlphaFactor ) return gl.DST_ALPHA;\n\t\tif ( p === OneMinusDstAlphaFactor ) return gl.ONE_MINUS_DST_ALPHA;\n\n\t\tif ( p === DstColorFactor ) return gl.DST_COLOR;\n\t\tif ( p === OneMinusDstColorFactor ) return gl.ONE_MINUS_DST_COLOR;\n\t\tif ( p === SrcAlphaSaturateFactor ) return gl.SRC_ALPHA_SATURATE;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t}\n\n\t\tif ( p === MinEquation || p === MaxEquation ) {\n\n\t\t\textension = extensions.get( 'EXT_blend_minmax' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === MinEquation ) return extension.MIN_EXT;\n\t\t\t\tif ( p === MaxEquation ) return extension.MAX_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) return extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tconsole.log( 'THREE.WebGLRenderer', REVISION );\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false;\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tvar currentRenderList = null;\n\n\tvar spritesArray = [];\n\tvar flaresArray = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\tthis.context = null;\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.gammaInput = false;\n\tthis.gammaOutput = false;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\t\t_currentGeometryProgram = '',\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_usedTextureUnits = 0,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3(),\n\n\t\t// info\n\n\t\t_infoMemory = {\n\t\t\tgeometries: 0,\n\t\t\ttextures: 0\n\t\t},\n\n\t\t_infoRender = {\n\n\t\t\tframe: 0,\n\t\t\tcalls: 0,\n\t\t\tvertices: 0,\n\t\t\tfaces: 0,\n\t\t\tpoints: 0\n\n\t\t};\n\n\tthis.info = {\n\n\t\trender: _infoRender,\n\t\tmemory: _infoMemory,\n\t\tprograms: null\n\n\t};\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer\n\t\t};\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow 'Error creating WebGL context with your selected attributes.';\n\n\t\t\t} else {\n\n\t\t\t\tthrow 'Error creating WebGL context.';\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error );\n\n\t}\n\n\tvar extensions, capabilities, state;\n\tvar properties, textures, attributes, geometries, objects, lights;\n\tvar programCache, renderLists;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\tvar flareRenderer, spriteRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\t\textensions.get( 'WEBGL_depth_texture' );\n\t\textensions.get( 'OES_texture_float' );\n\t\textensions.get( 'OES_texture_float_linear' );\n\t\textensions.get( 'OES_texture_half_float' );\n\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\textensions.get( 'OES_standard_derivatives' );\n\t\textensions.get( 'OES_element_index_uint' );\n\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\tutils = new WebGLUtils( _gl, extensions );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tstate = new WebGLState( _gl, extensions, utils );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, _infoMemory );\n\t\tattributes = new WebGLAttributes( _gl );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, _infoMemory );\n\t\tobjects = new WebGLObjects( geometries, _infoRender );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\tlights = new WebGLLights();\n\t\trenderLists = new WebGLRenderLists();\n\n\t\tbackground = new WebGLBackground( _this, state, geometries, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, _infoRender );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, _infoRender );\n\n\t\tflareRenderer = new WebGLFlareRenderer( _this, _gl, state, textures, capabilities );\n\t\tspriteRenderer = new WebGLSpriteRenderer( _this, _gl, state, textures, capabilities );\n\n\t\t_this.info.programs = programCache.programs;\n\n\t\t_this.context = _gl;\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\n\t}\n\n\tinitGLContext();\n\n\t// vr\n\n\tvar vr = new WebVRManager( _this );\n\n\tthis.vr = vr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width,\n\t\t\theight: _height\n\t\t};\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tvar device = vr.getDevice();\n\n\t\tif ( device && device.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = width * _pixelRatio;\n\t\t_canvas.height = height * _pixelRatio;\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width * _pixelRatio,\n\t\t\theight: _height * _pixelRatio\n\t\t};\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = width * pixelRatio;\n\t\t_canvas.height = height * pixelRatio;\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\t_viewport.set( x, _height - y - height, width, height );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\t_scissor.set( x, _height - y - height, width, height );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= _gl.COLOR_BUFFER_BIT;\n\t\tif ( depth === undefined || depth ) bits |= _gl.DEPTH_BUFFER_BIT;\n\t\tif ( stencil === undefined || stencil ) bits |= _gl.STENCIL_BUFFER_BIT;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\tthis.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\n\t\tvr.dispose();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program, material ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program, material );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program, material ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.position );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.normal );\n\n\t\t\tif ( ! material.isMeshPhongMaterial &&\n\t\t\t\t! material.isMeshStandardMaterial &&\n\t\t\t\t! material.isMeshNormalMaterial &&\n\t\t\t\tmaterial.flatShading === true ) {\n\n\t\t\t\tfor ( var i = 0, l = object.count * 3; i < l; i += 9 ) {\n\n\t\t\t\t\tvar array = object.normalArray;\n\n\t\t\t\t\tvar nx = ( array[ i + 0 ] + array[ i + 3 ] + array[ i + 6 ] ) / 3;\n\t\t\t\t\tvar ny = ( array[ i + 1 ] + array[ i + 4 ] + array[ i + 7 ] ) / 3;\n\t\t\t\t\tvar nz = ( array[ i + 2 ] + array[ i + 5 ] + array[ i + 8 ] ) / 3;\n\n\t\t\t\t\tarray[ i + 0 ] = nx;\n\t\t\t\t\tarray[ i + 1 ] = ny;\n\t\t\t\t\tarray[ i + 2 ] = nz;\n\n\t\t\t\t\tarray[ i + 3 ] = nx;\n\t\t\t\t\tarray[ i + 4 ] = ny;\n\t\t\t\t\tarray[ i + 5 ] = nz;\n\n\t\t\t\t\tarray[ i + 6 ] = nx;\n\t\t\t\t\tarray[ i + 7 ] = ny;\n\t\t\t\t\tarray[ i + 8 ] = nz;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs && material.map ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.uv );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors && material.vertexColors !== NoColors ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.color );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( _gl.TRIANGLES, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\n\n\t\tstate.setMaterial( material );\n\n\t\tvar program = setProgram( camera, fog, material, object );\n\t\tvar geometryProgram = geometry.id + '_' + program.id + '_' + ( material.wireframe === true );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( geometryProgram !== _currentGeometryProgram ) {\n\n\t\t\t_currentGeometryProgram = geometryProgram;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = 0;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdataCount = index.count;\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\tdataCount = position.count;\n\n\t\t}\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( _gl.LINES );\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( object.drawMode ) {\n\n\t\t\t\t\tcase TrianglesDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLES );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleStripDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLE_STRIP );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleFanDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLE_FAN );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( _gl.LINES );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( _gl.LINE_LOOP );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( _gl.LINE_STRIP );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( _gl.POINTS );\n\n\t\t}\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( geometry.maxInstancedCount > 0 ) {\n\n\t\t\t\trenderer.renderInstances( geometry, drawStart, drawCount );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( material, program, geometry, startIndex ) {\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( startIndex === undefined ) startIndex = 0;\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, ( startIndex * stride + offset ) * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, startIndex * size * bytesPerElement );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tlightsArray.push( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tshadowsArray.push( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tinitMaterial( object.material[ i ], scene.fog, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinitMaterial( object.material, scene.fog, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar isAnimating = false;\n\tvar onAnimationFrame = null;\n\n\tfunction start() {\n\n\t\tif ( isAnimating ) return;\n\n\t\tvar device = vr.getDevice();\n\t\t\n\t\tif ( device && device.isPresenting ) {\n\n\t\t\tdevice.requestAnimationFrame( loop );\n\n\t\t} else {\n\n\t\t\twindow.requestAnimationFrame( loop );\n\n\t\t}\n\n\t\tisAnimating = true;\n\n\t}\n\n\tfunction loop( time ) {\n\n\t\tif ( onAnimationFrame !== null ) onAnimationFrame( time );\n\n\t\tvar device = vr.getDevice();\n\t\t\n\t\tif ( device && device.isPresenting ) {\n\n\t\t\tdevice.requestAnimationFrame( loop );\n\n\t\t} else {\n\n\t\t\twindow.requestAnimationFrame( loop );\n\n\t\t}\n\n\t}\n\n\tthis.animate = function ( callback ) {\n\n\t\tonAnimationFrame = callback;\n\t\tstart();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram = '';\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tcamera = vr.getCamera( camera );\n\n\t\t}\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t\tspritesArray.length = 0;\n\t\tflaresArray.length = 0;\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, _this.sortObjects );\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort();\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\t_infoRender.frame ++;\n\t\t_infoRender.calls = 0;\n\t\t_infoRender.vertices = 0;\n\t\t_infoRender.faces = 0;\n\t\t_infoRender.points = 0;\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\trenderTarget = null;\n\n\t\t}\n\n\t\tthis.setRenderTarget( renderTarget );\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t// custom renderers\n\n\t\tspriteRenderer.render( spritesArray, scene, camera );\n\t\tflareRenderer.render( flaresArray, scene, camera, _currentViewport );\n\n\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\tif ( renderTarget ) {\n\n\t\t\ttextures.updateRenderTargetMipmap( renderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tvr.submitFrame();\n\n\t\t}\n\n\t\t// _gl.finish();\n\n\t};\n\n\t/*\n\t// TODO Duplicated code (Frustum)\n\n\tvar _sphere = new Sphere();\n\n\tfunction isObjectViewable( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null )\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere ).\n\t\tapplyMatrix4( object.matrixWorld );\n\n\t\treturn isSphereViewable( _sphere );\n\n\t}\n\n\tfunction isSpriteViewable( sprite ) {\n\n\t\t_sphere.center.set( 0, 0, 0 );\n\t\t_sphere.radius = 0.7071067811865476;\n\t\t_sphere.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn isSphereViewable( _sphere );\n\n\t}\n\n\tfunction isSphereViewable( sphere ) {\n\n\t\tif ( ! _frustum.intersectsSphere( sphere ) ) return false;\n\n\t\tvar numPlanes = _clipping.numPlanes;\n\n\t\tif ( numPlanes === 0 ) return true;\n\n\t\tvar planes = _this.clippingPlanes,\n\n\t\t\tcenter = sphere.center,\n\t\t\tnegRad = - sphere.radius,\n\t\t\ti = 0;\n\n\t\tdo {\n\n\t\t\t// out when deeper than radius in the negative halfspace\n\t\t\tif ( planes[ i ].distanceToPoint( center ) < negRad ) return false;\n\n\t\t} while ( ++ i !== numPlanes );\n\n\t\treturn true;\n\n\t}\n\t*/\n\n\tfunction projectObject( object, camera, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tlightsArray.push( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tshadowsArray.push( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tspritesArray.push( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isLensFlare ) {\n\n\t\t\t\tflaresArray.push( object );\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\tobject.skeleton.update();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tvar bounds = camera2.bounds;\n\n\t\t\t\t\t\tvar x = bounds.x * _width;\n\t\t\t\t\t\tvar y = bounds.y * _height;\n\t\t\t\t\t\tvar width = bounds.z * _width;\n\t\t\t\t\t\tvar height = bounds.w * _height;\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.set( x, y, width, height ).multiplyScalar( _pixelRatio ) );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tvar program = setProgram( camera, scene.fog, material, object );\n\n\t\t\t_currentGeometryProgram = '';\n\n\t\t\trenderObjectImmediate( object, program, material );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction initMaterial( material, fog, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar parameters = programCache.getParameters(\n\t\t\tmaterial, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\n\n\t\tvar code = programCache.getProgramCode( material, parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.code !== code ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tif ( parameters.shaderID ) {\n\n\t\t\t\tvar shader = ShaderLib[ parameters.shaderID ];\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: material.uniforms,\n\t\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tmaterial.onBeforeCompile( materialProperties.shader );\n\n\t\t\tprogram = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = fog;\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.lightsHash = lights.state.hash;\n\n\t\tif ( material.lights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, fog, material, object ) {\n\n\t\t_usedTextureUnits = 0;\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate === false ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.lights && materialProperties.lightsHash !== lights.state.hash ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate ) {\n\n\t\t\tinitMaterial( material, fog, object );\n\t\t\tmaterial.needsUpdate = false;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || camera !== _currentCamera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\t// Avoid unneeded uniform updates per ArrayCamera's sub-camera\n\n\t\t\tif ( _currentCamera !== ( _currentArrayCamera || camera ) ) {\n\n\t\t\t\t_currentCamera = ( _currentArrayCamera || camera );\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = _Math.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( material.lights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshToonMaterial ) {\n\n\t\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value = material.color;\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltcMat !== undefined ) m_uniforms.ltcMat.value = UniformsLib.LTC_MAT_TEXTURE;\n\t\t\tif ( m_uniforms.ltcMag !== undefined ) m_uniforms.ltcMag.value = UniformsLib.LTC_MAG_TEXTURE;\n\n\t\t\tWebGLUniforms.upload(\n\t\t\t\t_gl, materialProperties.uniformsList, m_uniforms, _this );\n\n\t\t}\n\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value = material.color;\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\tuniforms.envMap.value = material.envMap;\n\n\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\tuniforms.flipEnvMap.value = ( ! ( material.envMap && material.envMap.isCubeTexture ) ) ? 1 : - 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tvar offset = uvScaleMap.offset;\n\t\t\t\tvar repeat = uvScaleMap.repeat;\n\t\t\t\tvar rotation = uvScaleMap.rotation;\n\t\t\t\tvar center = uvScaleMap.center;\n\n\t\t\t\tuvScaleMap.matrix.setUvTransform( offset.x, offset.y, repeat.x, repeat.y, rotation, center.x, center.y );\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tvar offset = material.map.offset;\n\t\t\t\tvar repeat = material.map.repeat;\n\t\t\t\tvar rotation = material.map.rotation;\n\t\t\t\tvar center = material.map.center;\n\n\t\t\t\tmaterial.map.matrix.setUvTransform( offset.x, offset.y, repeat.x, repeat.y, rotation, center.x, center.y );\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value = fog.color;\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value = material.specular;\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\trefreshUniformsPhong( uniforms, material );\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\tuniforms.clearCoat.value = material.clearCoat;\n\t\tuniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\t// GL state setting\n\n\tthis.setFaceCulling = function ( cullFace, frontFaceDirection ) {\n\n\t\tstate.setCullFace( cullFace );\n\t\tstate.setFlipSided( frontFaceDirection === FrontFaceDirectionCW );\n\n\t};\n\n\t// Textures\n\n\tfunction allocTextureUnit() {\n\n\t\tvar textureUnit = _usedTextureUnits;\n\n\t\tif ( textureUnit >= capabilities.maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\n\t\t}\n\n\t\t_usedTextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tthis.allocTextureUnit = allocTextureUnit;\n\n\t// this.setTexture2D = setTexture2D;\n\tthis.setTexture2D = ( function () {\n\n\t\tvar warned = false;\n\n\t\t// backwards compatibility: peel texture.texture\n\t\treturn function setTexture2D( texture, slot ) {\n\n\t\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTexture = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTexture( texture, slot ) {\n\n\t\t\tif ( ! warned ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\" );\n\t\t\t\twarned = true;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTextureCube = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTextureCube( texture, slot ) {\n\n\t\t\t// backwards compatibility: peel texture.texture\n\t\t\tif ( texture && texture.isWebGLRenderTargetCube ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\t// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n\t\t\t// TODO: unify these code paths\n\t\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t\t// this function alone should take care of cube textures\n\t\t\t\ttextures.setTextureCube( texture, slot );\n\n\t\t\t} else {\n\n\t\t\t\t// assumed: texture property of THREE.WebGLRenderTargetCube\n\n\t\t\t\ttextures.setTextureCubeDynamic( texture, slot );\n\n\t\t\t}\n\n\t\t};\n\n\t}() );\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = null;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ renderTarget.activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_FORMAT ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_TYPE ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && extensions.get( 'EXT_color_buffer_half_float' ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( _gl.FRAMEBUFFER ) === _gl.FRAMEBUFFER_COMPLETE ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nFogExp2.prototype.clone = function () {\n\n\treturn new FogExp2( this.color.getHex(), this.density );\n\n};\n\nFogExp2.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'FogExp2',\n\t\tcolor: this.color.getHex(),\n\t\tdensity: this.density\n\t};\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nFog.prototype.isFog = true;\n\nFog.prototype.clone = function () {\n\n\treturn new Fog( this.color.getHex(), this.near, this.far );\n\n};\n\nFog.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'Fog',\n\t\tcolor: this.color.getHex(),\n\t\tnear: this.near,\n\t\tfar: this.far\n\t};\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.fog = null;\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction LensFlare( texture, size, distance, blending, color ) {\n\n\tObject3D.call( this );\n\n\tthis.lensFlares = [];\n\n\tthis.positionScreen = new Vector3();\n\tthis.customUpdateCallback = undefined;\n\n\tif ( texture !== undefined ) {\n\n\t\tthis.add( texture, size, distance, blending, color );\n\n\t}\n\n}\n\nLensFlare.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LensFlare,\n\n\tisLensFlare: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.positionScreen.copy( source.positionScreen );\n\t\tthis.customUpdateCallback = source.customUpdateCallback;\n\n\t\tfor ( var i = 0, l = source.lensFlares.length; i < l; i ++ ) {\n\n\t\t\tthis.lensFlares.push( source.lensFlares[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( texture, size, distance, blending, color, opacity ) {\n\n\t\tif ( size === undefined ) size = - 1;\n\t\tif ( distance === undefined ) distance = 0;\n\t\tif ( opacity === undefined ) opacity = 1;\n\t\tif ( color === undefined ) color = new Color( 0xffffff );\n\t\tif ( blending === undefined ) blending = NormalBlending;\n\n\t\tdistance = Math.min( distance, Math.max( 0, distance ) );\n\n\t\tthis.lensFlares.push( {\n\t\t\ttexture: texture,\t// THREE.Texture\n\t\t\tsize: size, \t\t// size in pixels (-1 = use texture.width)\n\t\t\tdistance: distance, \t// distance (0-1) from light source (0=at light source)\n\t\t\tx: 0, y: 0, z: 0,\t// screen position (-1 => 1) z = 0 is in front z = 1 is back\n\t\t\tscale: 1, \t\t// scale\n\t\t\trotation: 0, \t\t// rotation\n\t\t\topacity: opacity,\t// opacity\n\t\t\tcolor: color,\t\t// color\n\t\t\tblending: blending\t// blending\n\t\t} );\n\n\t},\n\n\t/*\n\t * Update lens flares update positions on all flares based on the screen position\n\t * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\n\t */\n\n\tupdateLensFlares: function () {\n\n\t\tvar f, fl = this.lensFlares.length;\n\t\tvar flare;\n\t\tvar vecX = - this.positionScreen.x * 2;\n\t\tvar vecY = - this.positionScreen.y * 2;\n\n\t\tfor ( f = 0; f < fl; f ++ ) {\n\n\t\t\tflare = this.lensFlares[ f ];\n\n\t\t\tflare.x = this.positionScreen.x + vecX * flare.distance;\n\t\t\tflare.y = this.positionScreen.y + vecY * flare.distance;\n\n\t\t\tflare.wantedRotation = flare.x * Math.PI * 0.25;\n\t\t\tflare.rotation += ( flare.wantedRotation - flare.rotation ) * 0.25;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *\tuvOffset: new THREE.Vector2(),\n *\tuvScale: new THREE.Vector2()\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.map = null;\n\n\tthis.rotation = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.map = source.map;\n\n\tthis.rotation = source.rotation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: ( function () {\n\n\t\tvar intersectPoint = new Vector3();\n\t\tvar worldPosition = new Vector3();\n\t\tvar worldScale = new Vector3();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tworldPosition.setFromMatrixPosition( this.matrixWorld );\n\t\t\traycaster.ray.closestPointToPoint( worldPosition, intersectPoint );\n\n\t\t\tworldScale.setFromMatrixScale( this.matrixWorld );\n\t\t\tvar guessSizeSq = worldScale.x * worldScale.y / 4;\n\n\t\t\tif ( worldPosition.distanceToSquared( intersectPoint ) > guessSizeSq ) return;\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\tintersects.push( {\n\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\tface: null,\n\t\t\t\tobject: this\n\n\t\t\t} );\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn levels[ i - 1 ].object;\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar matrixPosition = new Vector3();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( matrixPosition );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t};\n\n\t}() ),\n\n\tupdate: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar levels = this.levels;\n\n\t\t\tif ( levels.length > 1 ) {\n\n\t\t\t\tv1.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\tv2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\t\tvar distance = v1.distanceTo( v2 );\n\n\t\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: ( function () {\n\n\t\tvar offsetMatrix = new Matrix4();\n\t\tvar identityMatrix = new Matrix4();\n\n\t\treturn function update() {\n\n\t\t\tvar bones = this.bones;\n\t\t\tvar boneInverses = this.boneInverses;\n\t\t\tvar boneMatrices = this.boneMatrices;\n\t\t\tvar boneTexture = this.boneTexture;\n\n\t\t\t// flatten bone matrices to array\n\n\t\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t\t// compute the offset between the current and the original transform\n\n\t\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : identityMatrix;\n\n\t\t\t\toffsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t\toffsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t\t}\n\n\t\t\tif ( boneTexture !== undefined ) {\n\n\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t}\n\n\t\t};\n\n\t} )(),\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n\tvar bones = this.initBones();\n\tvar skeleton = new Skeleton( bones );\n\n\tthis.bind( skeleton, this.matrixWorld );\n\n\tthis.normalizeSkinWeights();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tinitBones: function () {\n\n\t\tvar bones = [], bone, gbone;\n\t\tvar i, il;\n\n\t\tif ( this.geometry && this.geometry.bones !== undefined ) {\n\n\t\t\t// first, create array of 'Bone' objects from geometry data\n\n\t\t\tfor ( i = 0, il = this.geometry.bones.length; i < il; i ++ ) {\n\n\t\t\t\tgbone = this.geometry.bones[ i ];\n\n\t\t\t\t// create new 'Bone' object\n\n\t\t\t\tbone = new Bone();\n\t\t\t\tbones.push( bone );\n\n\t\t\t\t// apply values\n\n\t\t\t\tbone.name = gbone.name;\n\t\t\t\tbone.position.fromArray( gbone.pos );\n\t\t\t\tbone.quaternion.fromArray( gbone.rotq );\n\t\t\t\tif ( gbone.scl !== undefined ) bone.scale.fromArray( gbone.scl );\n\n\t\t\t}\n\n\t\t\t// second, create bone hierarchy\n\n\t\t\tfor ( i = 0, il = this.geometry.bones.length; i < il; i ++ ) {\n\n\t\t\t\tgbone = this.geometry.bones[ i ];\n\n\t\t\t\tif ( ( gbone.parent !== - 1 ) && ( gbone.parent !== null ) && ( bones[ gbone.parent ] !== undefined ) ) {\n\n\t\t\t\t\t// subsequent bones in the hierarchy\n\n\t\t\t\t\tbones[ gbone.parent ].add( bones[ i ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// topmost bone, immediate child of the skinned mesh\n\n\t\t\t\t\tthis.add( bones[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// now the bones are part of the scene graph and children of the skinned mesh.\n\t\t// let's update the corresponding matrices\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn bones;\n\n\t},\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar scale, i;\n\n\t\tif ( this.geometry && this.geometry.isGeometry ) {\n\n\t\t\tfor ( i = 0; i < this.geometry.skinWeights.length; i ++ ) {\n\n\t\t\t\tvar sw = this.geometry.skinWeights[ i ];\n\n\t\t\t\tscale = 1.0 / sw.manhattanLength();\n\n\t\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\t\tsw.multiplyScalar( scale );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsw.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( this.geometry && this.geometry.isBufferGeometry ) {\n\n\t\t\tvar vec = new Vector4();\n\n\t\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\t\tfor ( i = 0; i < skinWeight.count; i ++ ) {\n\n\t\t\t\tvec.x = skinWeight.getX( i );\n\t\t\t\tvec.y = skinWeight.getY( i );\n\t\t\t\tvec.z = skinWeight.getZ( i );\n\t\t\t\tvec.w = skinWeight.getW( i );\n\n\t\t\t\tscale = 1.0 / vec.manhattanLength();\n\n\t\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\t\tvec.multiplyScalar( scale );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvec.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t\t}\n\n\t\t\t\tskinWeight.setXYZW( i, vec.x, vec.y, vec.z, vec.w );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.warn( 'THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.' );\n\t\treturn new LineSegments( geometry, material );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar precision = raycaster.linePrecision;\n\t\t\tvar precisionSq = precision * precision;\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar vStart = new Vector3();\n\t\t\tvar vEnd = new Vector3();\n\t\t\tvar interSegment = new Vector3();\n\t\t\tvar interRay = new Vector3();\n\t\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar object = this;\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\t\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += threshold;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localThresholdSq = localThreshold * localThreshold;\n\t\t\tvar position = new Vector3();\n\n\t\t\tfunction testPoint( point, index ) {\n\n\t\t\t\tvar rayPointDistanceSq = ray.distanceSqToPoint( point );\n\n\t\t\t\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\t\t\t\tvar intersectPoint = ray.closestPointToPoint( point );\n\t\t\t\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t\tposition.fromArray( positions, a * 3 );\n\n\t\t\t\t\t\ttestPoint( position, a );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t\tposition.fromArray( positions, i * 3 );\n\n\t\t\t\t\t\ttestPoint( position, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\ttestPoint( vertices[ i ], i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.generateMipmaps = false;\n\n\tvar scope = this;\n\n\tfunction update() {\n\n\t\tvar video = scope.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tscope.needsUpdate = true;\n\n\t\t}\n\n\t\trequestAnimationFrame( update );\n\n\t}\n\n\trequestAnimationFrame( update );\n\n}\n\nVideoTexture.prototype = Object.create( Texture.prototype );\nVideoTexture.prototype.constructor = VideoTexture;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tp0 = func( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tp1 = func( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tp1 = func( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tp1 = func( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tp1 = func( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tappplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction appplyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (1, 1, 1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, 1/, )\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (1/, , 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (, 0, 1/)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\ttriangulate: ( function () {\n\n\t\t/**\n\t\t * This code is a quick port of code written in C++ which was submitted to\n\t\t * flipcode.com by John W. Ratcliff  // July 22, 2000\n\t\t * See original code and more information here:\n\t\t * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\n\t\t *\n\t\t * ported to actionscript by Zevan Rosser\n\t\t * www.actionsnippet.com\n\t\t *\n\t\t * ported to javascript by Joshua Koo\n\t\t * http://www.lab4games.net/zz85/blog\n\t\t *\n\t\t */\n\n\t\tfunction snip( contour, u, v, w, n, verts ) {\n\n\t\t\tvar p;\n\t\t\tvar ax, ay, bx, by;\n\t\t\tvar cx, cy, px, py;\n\n\t\t\tax = contour[ verts[ u ] ].x;\n\t\t\tay = contour[ verts[ u ] ].y;\n\n\t\t\tbx = contour[ verts[ v ] ].x;\n\t\t\tby = contour[ verts[ v ] ].y;\n\n\t\t\tcx = contour[ verts[ w ] ].x;\n\t\t\tcy = contour[ verts[ w ] ].y;\n\n\t\t\tif ( ( bx - ax ) * ( cy - ay ) - ( by - ay ) * ( cx - ax ) <= 0 ) return false;\n\n\t\t\tvar aX, aY, bX, bY, cX, cY;\n\t\t\tvar apx, apy, bpx, bpy, cpx, cpy;\n\t\t\tvar cCROSSap, bCROSScp, aCROSSbp;\n\n\t\t\taX = cx - bx; aY = cy - by;\n\t\t\tbX = ax - cx; bY = ay - cy;\n\t\t\tcX = bx - ax; cY = by - ay;\n\n\t\t\tfor ( p = 0; p < n; p ++ ) {\n\n\t\t\t\tpx = contour[ verts[ p ] ].x;\n\t\t\t\tpy = contour[ verts[ p ] ].y;\n\n\t\t\t\tif ( ( ( px === ax ) && ( py === ay ) ) ||\n\t\t\t\t\t ( ( px === bx ) && ( py === by ) ) ||\n\t\t\t\t\t ( ( px === cx ) && ( py === cy ) ) )\tcontinue;\n\n\t\t\t\tapx = px - ax; apy = py - ay;\n\t\t\t\tbpx = px - bx; bpy = py - by;\n\t\t\t\tcpx = px - cx; cpy = py - cy;\n\n\t\t\t\t// see if p is inside triangle abc\n\n\t\t\t\taCROSSbp = aX * bpy - aY * bpx;\n\t\t\t\tcCROSSap = cX * apy - cY * apx;\n\t\t\t\tbCROSScp = bX * cpy - bY * cpx;\n\n\t\t\t\tif ( ( aCROSSbp >= - Number.EPSILON ) && ( bCROSScp >= - Number.EPSILON ) && ( cCROSSap >= - Number.EPSILON ) ) return false;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// takes in an contour array and returns\n\n\t\treturn function triangulate( contour, indices ) {\n\n\t\t\tvar n = contour.length;\n\n\t\t\tif ( n < 3 ) return null;\n\n\t\t\tvar result = [],\n\t\t\t\tverts = [],\n\t\t\t\tvertIndices = [];\n\n\t\t\t/* we want a counter-clockwise polygon in verts */\n\n\t\t\tvar u, v, w;\n\n\t\t\tif ( ShapeUtils.area( contour ) > 0.0 ) {\n\n\t\t\t\tfor ( v = 0; v < n; v ++ ) verts[ v ] = v;\n\n\t\t\t} else {\n\n\t\t\t\tfor ( v = 0; v < n; v ++ ) verts[ v ] = ( n - 1 ) - v;\n\n\t\t\t}\n\n\t\t\tvar nv = n;\n\n\t\t\t/*  remove nv - 2 vertices, creating 1 triangle every time */\n\n\t\t\tvar count = 2 * nv; /* error detection */\n\n\t\t\tfor ( v = nv - 1; nv > 2; ) {\n\n\t\t\t\t/* if we loop, it is probably a non-simple polygon */\n\n\t\t\t\tif ( ( count -- ) <= 0 ) {\n\n\t\t\t\t\t//** Triangulate: ERROR - probable bad polygon!\n\n\t\t\t\t\t//throw ( \"Warning, unable to triangulate polygon!\" );\n\t\t\t\t\t//return null;\n\t\t\t\t\t// Sometimes warning is fine, especially polygons are triangulated in reverse.\n\t\t\t\t\tconsole.warn( 'THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()' );\n\n\t\t\t\t\tif ( indices ) return vertIndices;\n\t\t\t\t\treturn result;\n\n\t\t\t\t}\n\n\t\t\t\t/* three consecutive vertices in current polygon, <u,v,w> */\n\n\t\t\t\tu = v; if ( nv <= u ) u = 0; /* previous */\n\t\t\t\tv = u + 1; if ( nv <= v ) v = 0; /* new v    */\n\t\t\t\tw = v + 1; if ( nv <= w ) w = 0; /* next     */\n\n\t\t\t\tif ( snip( contour, u, v, w, nv, verts ) ) {\n\n\t\t\t\t\tvar a, b, c, s, t;\n\n\t\t\t\t\t/* true names of the vertices */\n\n\t\t\t\t\ta = verts[ u ];\n\t\t\t\t\tb = verts[ v ];\n\t\t\t\t\tc = verts[ w ];\n\n\t\t\t\t\t/* output Triangle */\n\n\t\t\t\t\tresult.push( [ contour[ a ],\n\t\t\t\t\t\tcontour[ b ],\n\t\t\t\t\t\tcontour[ c ] ] );\n\n\n\t\t\t\t\tvertIndices.push( [ verts[ u ], verts[ v ], verts[ w ] ] );\n\n\t\t\t\t\t/* remove v from the remaining polygon */\n\n\t\t\t\t\tfor ( s = v, t = v + 1; t < nv; s ++, t ++ ) {\n\n\t\t\t\t\t\tverts[ s ] = verts[ t ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tnv --;\n\n\t\t\t\t\t/* reset error detection counter */\n\n\t\t\t\t\tcount = 2 * nv;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( indices ) return vertIndices;\n\t\t\treturn result;\n\n\t\t};\n\n\t} )(),\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tfunction removeDupEndPts( points ) {\n\n\t\t\tvar l = points.length;\n\n\t\t\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\t\tpoints.pop();\n\n\t\t\t}\n\n\t\t}\n\n\t\tremoveDupEndPts( contour );\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfunction point_in_segment_2D_colin( inSegPt1, inSegPt2, inOtherPt ) {\n\n\t\t\t// inOtherPt needs to be collinear to the inSegment\n\t\t\tif ( inSegPt1.x !== inSegPt2.x ) {\n\n\t\t\t\tif ( inSegPt1.x < inSegPt2.x ) {\n\n\t\t\t\t\treturn\t( ( inSegPt1.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt2.x ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn\t( ( inSegPt2.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt1.x ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( inSegPt1.y < inSegPt2.y ) {\n\n\t\t\t\t\treturn\t( ( inSegPt1.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt2.y ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn\t( ( inSegPt2.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt1.y ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction intersect_segments_2D( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1, inSeg2Pt2, inExcludeAdjacentSegs ) {\n\n\t\t\tvar seg1dx = inSeg1Pt2.x - inSeg1Pt1.x, seg1dy = inSeg1Pt2.y - inSeg1Pt1.y;\n\t\t\tvar seg2dx = inSeg2Pt2.x - inSeg2Pt1.x, seg2dy = inSeg2Pt2.y - inSeg2Pt1.y;\n\n\t\t\tvar seg1seg2dx = inSeg1Pt1.x - inSeg2Pt1.x;\n\t\t\tvar seg1seg2dy = inSeg1Pt1.y - inSeg2Pt1.y;\n\n\t\t\tvar limit\t\t= seg1dy * seg2dx - seg1dx * seg2dy;\n\t\t\tvar perpSeg1\t= seg1dy * seg1seg2dx - seg1dx * seg1seg2dy;\n\n\t\t\tif ( Math.abs( limit ) > Number.EPSILON ) {\n\n\t\t\t\t// not parallel\n\n\t\t\t\tvar perpSeg2;\n\t\t\t\tif ( limit > 0 ) {\n\n\t\t\t\t\tif ( ( perpSeg1 < 0 ) || ( perpSeg1 > limit ) ) \t\treturn [];\n\t\t\t\t\tperpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n\t\t\t\t\tif ( ( perpSeg2 < 0 ) || ( perpSeg2 > limit ) ) \t\treturn [];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ( perpSeg1 > 0 ) || ( perpSeg1 < limit ) ) \t\treturn [];\n\t\t\t\t\tperpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n\t\t\t\t\tif ( ( perpSeg2 > 0 ) || ( perpSeg2 < limit ) ) \t\treturn [];\n\n\t\t\t\t}\n\n\t\t\t\t// i.e. to reduce rounding errors\n\t\t\t\t// intersection at endpoint of segment#1?\n\t\t\t\tif ( perpSeg2 === 0 ) {\n\n\t\t\t\t\tif ( ( inExcludeAdjacentSegs ) &&\n\t\t\t\t\t\t ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\n\t\t\t\t\treturn [ inSeg1Pt1 ];\n\n\t\t\t\t}\n\t\t\t\tif ( perpSeg2 === limit ) {\n\n\t\t\t\t\tif ( ( inExcludeAdjacentSegs ) &&\n\t\t\t\t\t\t ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\n\t\t\t\t\treturn [ inSeg1Pt2 ];\n\n\t\t\t\t}\n\t\t\t\t// intersection at endpoint of segment#2?\n\t\t\t\tif ( perpSeg1 === 0 )\t\treturn [ inSeg2Pt1 ];\n\t\t\t\tif ( perpSeg1 === limit )\treturn [ inSeg2Pt2 ];\n\n\t\t\t\t// return real intersection point\n\t\t\t\tvar factorSeg1 = perpSeg2 / limit;\n\t\t\t\treturn\t[ { x: inSeg1Pt1.x + factorSeg1 * seg1dx, y: inSeg1Pt1.y + factorSeg1 * seg1dy } ];\n\n\t\t\t} else {\n\n\t\t\t\t// parallel or collinear\n\t\t\t\tif ( ( perpSeg1 !== 0 ) ||\n\t\t\t\t\t ( seg2dy * seg1seg2dx !== seg2dx * seg1seg2dy ) ) \t\t\treturn [];\n\n\t\t\t\t// they are collinear or degenerate\n\t\t\t\tvar seg1Pt = ( ( seg1dx === 0 ) && ( seg1dy === 0 ) );\t// segment1 is just a point?\n\t\t\t\tvar seg2Pt = ( ( seg2dx === 0 ) && ( seg2dy === 0 ) );\t// segment2 is just a point?\n\t\t\t\t// both segments are points\n\t\t\t\tif ( seg1Pt && seg2Pt ) {\n\n\t\t\t\t\tif ( ( inSeg1Pt1.x !== inSeg2Pt1.x ) ||\n\t\t\t\t\t\t ( inSeg1Pt1.y !== inSeg2Pt1.y ) )\t\treturn [];\t// they are distinct  points\n\t\t\t\t\treturn [ inSeg1Pt1 ];\t// they are the same point\n\n\t\t\t\t}\n\t\t\t\t// segment#1  is a single point\n\t\t\t\tif ( seg1Pt ) {\n\n\t\t\t\t\tif ( ! point_in_segment_2D_colin( inSeg2Pt1, inSeg2Pt2, inSeg1Pt1 ) )\t\treturn [];\t\t// but not in segment#2\n\t\t\t\t\treturn [ inSeg1Pt1 ];\n\n\t\t\t\t}\n\t\t\t\t// segment#2  is a single point\n\t\t\t\tif ( seg2Pt ) {\n\n\t\t\t\t\tif ( ! point_in_segment_2D_colin( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1 ) )\t\treturn [];\t\t// but not in segment#1\n\t\t\t\t\treturn [ inSeg2Pt1 ];\n\n\t\t\t\t}\n\n\t\t\t\t// they are collinear segments, which might overlap\n\t\t\t\tvar seg1min, seg1max, seg1minVal, seg1maxVal;\n\t\t\t\tvar seg2min, seg2max, seg2minVal, seg2maxVal;\n\t\t\t\tif ( seg1dx !== 0 ) {\n\n\t\t\t\t\t// the segments are NOT on a vertical line\n\t\t\t\t\tif ( inSeg1Pt1.x < inSeg1Pt2.x ) {\n\n\t\t\t\t\t\tseg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.x;\n\t\t\t\t\t\tseg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tseg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.x;\n\t\t\t\t\t\tseg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.x;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( inSeg2Pt1.x < inSeg2Pt2.x ) {\n\n\t\t\t\t\t\tseg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.x;\n\t\t\t\t\t\tseg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tseg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.x;\n\t\t\t\t\t\tseg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.x;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// the segments are on a vertical line\n\t\t\t\t\tif ( inSeg1Pt1.y < inSeg1Pt2.y ) {\n\n\t\t\t\t\t\tseg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.y;\n\t\t\t\t\t\tseg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tseg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.y;\n\t\t\t\t\t\tseg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.y;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( inSeg2Pt1.y < inSeg2Pt2.y ) {\n\n\t\t\t\t\t\tseg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.y;\n\t\t\t\t\t\tseg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tseg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.y;\n\t\t\t\t\t\tseg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.y;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif ( seg1minVal <= seg2minVal ) {\n\n\t\t\t\t\tif ( seg1maxVal < seg2minVal )\treturn [];\n\t\t\t\t\tif ( seg1maxVal === seg2minVal )\t{\n\n\t\t\t\t\t\tif ( inExcludeAdjacentSegs )\t\treturn [];\n\t\t\t\t\t\treturn [ seg2min ];\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( seg1maxVal <= seg2maxVal )\treturn [ seg2min, seg1max ];\n\t\t\t\t\treturn\t[ seg2min, seg2max ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( seg1minVal > seg2maxVal )\treturn [];\n\t\t\t\t\tif ( seg1minVal === seg2maxVal )\t{\n\n\t\t\t\t\t\tif ( inExcludeAdjacentSegs )\t\treturn [];\n\t\t\t\t\t\treturn [ seg1min ];\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( seg1maxVal <= seg2maxVal )\treturn [ seg1min, seg1max ];\n\t\t\t\t\treturn\t[ seg1min, seg2max ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction isPointInsideAngle( inVertex, inLegFromPt, inLegToPt, inOtherPt ) {\n\n\t\t\t// The order of legs is important\n\n\t\t\t// translation of all points, so that Vertex is at (0,0)\n\t\t\tvar legFromPtX\t= inLegFromPt.x - inVertex.x, legFromPtY = inLegFromPt.y - inVertex.y;\n\t\t\tvar legToPtX\t= inLegToPt.x\t- inVertex.x, legToPtY = inLegToPt.y\t- inVertex.y;\n\t\t\tvar otherPtX\t= inOtherPt.x\t- inVertex.x, otherPtY = inOtherPt.y\t- inVertex.y;\n\n\t\t\t// main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.\n\t\t\tvar from2toAngle\t= legFromPtX * legToPtY - legFromPtY * legToPtX;\n\t\t\tvar from2otherAngle\t= legFromPtX * otherPtY - legFromPtY * otherPtX;\n\n\t\t\tif ( Math.abs( from2toAngle ) > Number.EPSILON ) {\n\n\t\t\t\t// angle != 180 deg.\n\n\t\t\t\tvar other2toAngle\t\t= otherPtX * legToPtY - otherPtY * legToPtX;\n\t\t\t\t// console.log( \"from2to: \" + from2toAngle + \", from2other: \" + from2otherAngle + \", other2to: \" + other2toAngle );\n\n\t\t\t\tif ( from2toAngle > 0 ) {\n\n\t\t\t\t\t// main angle < 180 deg.\n\t\t\t\t\treturn\t( ( from2otherAngle >= 0 ) && ( other2toAngle >= 0 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// main angle > 180 deg.\n\t\t\t\t\treturn\t( ( from2otherAngle >= 0 ) || ( other2toAngle >= 0 ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// angle == 180 deg.\n\t\t\t\t// console.log( \"from2to: 180 deg., from2other: \" + from2otherAngle  );\n\t\t\t\treturn\t( from2otherAngle > 0 );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tfunction removeHoles( contour, holes ) {\n\n\t\t\tvar shape = contour.concat(); // work on this shape\n\t\t\tvar hole;\n\n\t\t\tfunction isCutLineInsideAngles( inShapeIdx, inHoleIdx ) {\n\n\t\t\t\t// Check if hole point lies within angle around shape point\n\t\t\t\tvar lastShapeIdx = shape.length - 1;\n\n\t\t\t\tvar prevShapeIdx = inShapeIdx - 1;\n\t\t\t\tif ( prevShapeIdx < 0 )\t\t\tprevShapeIdx = lastShapeIdx;\n\n\t\t\t\tvar nextShapeIdx = inShapeIdx + 1;\n\t\t\t\tif ( nextShapeIdx > lastShapeIdx )\tnextShapeIdx = 0;\n\n\t\t\t\tvar insideAngle = isPointInsideAngle( shape[ inShapeIdx ], shape[ prevShapeIdx ], shape[ nextShapeIdx ], hole[ inHoleIdx ] );\n\t\t\t\tif ( ! insideAngle ) {\n\n\t\t\t\t\t// console.log( \"Vertex (Shape): \" + inShapeIdx + \", Point: \" + hole[inHoleIdx].x + \"/\" + hole[inHoleIdx].y );\n\t\t\t\t\treturn\tfalse;\n\n\t\t\t\t}\n\n\t\t\t\t// Check if shape point lies within angle around hole point\n\t\t\t\tvar lastHoleIdx = hole.length - 1;\n\n\t\t\t\tvar prevHoleIdx = inHoleIdx - 1;\n\t\t\t\tif ( prevHoleIdx < 0 )\t\t\tprevHoleIdx = lastHoleIdx;\n\n\t\t\t\tvar nextHoleIdx = inHoleIdx + 1;\n\t\t\t\tif ( nextHoleIdx > lastHoleIdx )\tnextHoleIdx = 0;\n\n\t\t\t\tinsideAngle = isPointInsideAngle( hole[ inHoleIdx ], hole[ prevHoleIdx ], hole[ nextHoleIdx ], shape[ inShapeIdx ] );\n\t\t\t\tif ( ! insideAngle ) {\n\n\t\t\t\t\t// console.log( \"Vertex (Hole): \" + inHoleIdx + \", Point: \" + shape[inShapeIdx].x + \"/\" + shape[inShapeIdx].y );\n\t\t\t\t\treturn\tfalse;\n\n\t\t\t\t}\n\n\t\t\t\treturn\ttrue;\n\n\t\t\t}\n\n\t\t\tfunction intersectsShapeEdge( inShapePt, inHolePt ) {\n\n\t\t\t\t// checks for intersections with shape edges\n\t\t\t\tvar sIdx, nextIdx, intersection;\n\t\t\t\tfor ( sIdx = 0; sIdx < shape.length; sIdx ++ ) {\n\n\t\t\t\t\tnextIdx = sIdx + 1; nextIdx %= shape.length;\n\t\t\t\t\tintersection = intersect_segments_2D( inShapePt, inHolePt, shape[ sIdx ], shape[ nextIdx ], true );\n\t\t\t\t\tif ( intersection.length > 0 )\t\treturn\ttrue;\n\n\t\t\t\t}\n\n\t\t\t\treturn\tfalse;\n\n\t\t\t}\n\n\t\t\tvar indepHoles = [];\n\n\t\t\tfunction intersectsHoleEdge( inShapePt, inHolePt ) {\n\n\t\t\t\t// checks for intersections with hole edges\n\t\t\t\tvar ihIdx, chkHole,\n\t\t\t\t\thIdx, nextIdx, intersection;\n\t\t\t\tfor ( ihIdx = 0; ihIdx < indepHoles.length; ihIdx ++ ) {\n\n\t\t\t\t\tchkHole = holes[ indepHoles[ ihIdx ] ];\n\t\t\t\t\tfor ( hIdx = 0; hIdx < chkHole.length; hIdx ++ ) {\n\n\t\t\t\t\t\tnextIdx = hIdx + 1; nextIdx %= chkHole.length;\n\t\t\t\t\t\tintersection = intersect_segments_2D( inShapePt, inHolePt, chkHole[ hIdx ], chkHole[ nextIdx ], true );\n\t\t\t\t\t\tif ( intersection.length > 0 )\t\treturn\ttrue;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn\tfalse;\n\n\t\t\t}\n\n\t\t\tvar holeIndex, shapeIndex,\n\t\t\t\tshapePt, holePt,\n\t\t\t\tholeIdx, cutKey, failedCuts = [],\n\t\t\t\ttmpShape1, tmpShape2,\n\t\t\t\ttmpHole1, tmpHole2;\n\n\t\t\tfor ( var h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tindepHoles.push( h );\n\n\t\t\t}\n\n\t\t\tvar minShapeIndex = 0;\n\t\t\tvar counter = indepHoles.length * 2;\n\t\t\twhile ( indepHoles.length > 0 ) {\n\n\t\t\t\tcounter --;\n\t\t\t\tif ( counter < 0 ) {\n\n\t\t\t\t\tconsole.log( 'THREE.ShapeUtils: Infinite Loop! Holes left:\" + indepHoles.length + \", Probably Hole outside Shape!' );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// search for shape-vertex and hole-vertex,\n\t\t\t\t// which can be connected without intersections\n\t\t\t\tfor ( shapeIndex = minShapeIndex; shapeIndex < shape.length; shapeIndex ++ ) {\n\n\t\t\t\t\tshapePt = shape[ shapeIndex ];\n\t\t\t\t\tholeIndex\t= - 1;\n\n\t\t\t\t\t// search for hole which can be reached without intersections\n\t\t\t\t\tfor ( var h = 0; h < indepHoles.length; h ++ ) {\n\n\t\t\t\t\t\tholeIdx = indepHoles[ h ];\n\n\t\t\t\t\t\t// prevent multiple checks\n\t\t\t\t\t\tcutKey = shapePt.x + ':' + shapePt.y + ':' + holeIdx;\n\t\t\t\t\t\tif ( failedCuts[ cutKey ] !== undefined )\t\t\tcontinue;\n\n\t\t\t\t\t\thole = holes[ holeIdx ];\n\t\t\t\t\t\tfor ( var h2 = 0; h2 < hole.length; h2 ++ ) {\n\n\t\t\t\t\t\t\tholePt = hole[ h2 ];\n\t\t\t\t\t\t\tif ( ! isCutLineInsideAngles( shapeIndex, h2 ) )\t\tcontinue;\n\t\t\t\t\t\t\tif ( intersectsShapeEdge( shapePt, holePt ) )\t\tcontinue;\n\t\t\t\t\t\t\tif ( intersectsHoleEdge( shapePt, holePt ) )\t\tcontinue;\n\n\t\t\t\t\t\t\tholeIndex = h2;\n\t\t\t\t\t\t\tindepHoles.splice( h, 1 );\n\n\t\t\t\t\t\t\ttmpShape1 = shape.slice( 0, shapeIndex + 1 );\n\t\t\t\t\t\t\ttmpShape2 = shape.slice( shapeIndex );\n\t\t\t\t\t\t\ttmpHole1 = hole.slice( holeIndex );\n\t\t\t\t\t\t\ttmpHole2 = hole.slice( 0, holeIndex + 1 );\n\n\t\t\t\t\t\t\tshape = tmpShape1.concat( tmpHole1 ).concat( tmpHole2 ).concat( tmpShape2 );\n\n\t\t\t\t\t\t\tminShapeIndex = shapeIndex;\n\n\t\t\t\t\t\t\t// Debug only, to show the selected cuts\n\t\t\t\t\t\t\t// glob_CutLines.push( [ shapePt, holePt ] );\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\n\n\t\t\t\t\t\tfailedCuts[ cutKey ] = true;\t\t\t// remember failure\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn shape; \t\t\t/* shape with no holes */\n\n\t\t}\n\n\n\t\tvar i, il, f, face,\n\t\t\tkey, index,\n\t\t\tallPointsMap = {};\n\n\t\t// To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\n\n\t\tvar allpoints = contour.concat();\n\n\t\tfor ( var h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tArray.prototype.push.apply( allpoints, holes[ h ] );\n\n\t\t}\n\n\t\t//console.log( \"allpoints\",allpoints, allpoints.length );\n\n\t\t// prepare all points map\n\n\t\tfor ( i = 0, il = allpoints.length; i < il; i ++ ) {\n\n\t\t\tkey = allpoints[ i ].x + ':' + allpoints[ i ].y;\n\n\t\t\tif ( allPointsMap[ key ] !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ShapeUtils: Duplicate point', key, i );\n\n\t\t\t}\n\n\t\t\tallPointsMap[ key ] = i;\n\n\t\t}\n\n\t\t// remove holes by cutting paths to holes and adding them to the shape\n\t\tvar shapeWithoutHoles = removeHoles( contour, holes );\n\n\t\tvar triangles = ShapeUtils.triangulate( shapeWithoutHoles, false ); // True returns indices for points of spooled shape\n\t\t//console.log( \"triangles\",triangles, triangles.length );\n\n\t\t// check all face vertices against all points map\n\n\t\tfor ( i = 0, il = triangles.length; i < il; i ++ ) {\n\n\t\t\tface = triangles[ i ];\n\n\t\t\tfor ( f = 0; f < 3; f ++ ) {\n\n\t\t\t\tkey = face[ f ].x + ':' + face[ f ].y;\n\n\t\t\t\tindex = allPointsMap[ key ];\n\n\t\t\t\tif ( index !== undefined ) {\n\n\t\t\t\t\tface[ f ] = index;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn triangles.concat();\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  amount: <int>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline is bevel\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *  frames: <Object> // containing arrays of tangents, normals, binormals\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tif ( typeof ( shapes ) === \"undefined\" ) {\n\n\t\treturn;\n\n\t}\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tthis.addShapeList( shapes, options );\n\n\tthis.computeVertexNormals();\n\n\t// can't really use automatic vertex normals\n\t// as then front and back sides get smoothed too\n\t// should do separate smoothing just for sides\n\n\t//this.computeVertexNormals();\n\n\t//console.log( \"took\", ( Date.now() - startTime ) );\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.getArrays = function () {\n\n\tvar positionAttribute = this.getAttribute( \"position\" );\n\tvar verticesArray = positionAttribute ? Array.prototype.slice.call( positionAttribute.array ) : [];\n\n\tvar uvAttribute = this.getAttribute( \"uv\" );\n\tvar uvArray = uvAttribute ? Array.prototype.slice.call( uvAttribute.array ) : [];\n\n\tvar IndexAttribute = this.index;\n\tvar indicesArray = IndexAttribute ? Array.prototype.slice.call( IndexAttribute.array ) : [];\n\n\treturn {\n\t\tposition: verticesArray,\n\t\tuv: uvArray,\n\t\tindex: indicesArray\n\t};\n\n};\n\nExtrudeBufferGeometry.prototype.addShapeList = function ( shapes, options ) {\n\n\tvar sl = shapes.length;\n\toptions.arrays = this.getArrays();\n\n\tfor ( var s = 0; s < sl; s ++ ) {\n\n\t\tvar shape = shapes[ s ];\n\t\tthis.addShape( shape, options );\n\n\t}\n\n\tthis.setIndex( options.arrays.index );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( options.arrays.position, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( options.arrays.uv, 2 ) );\n\n};\n\nExtrudeBufferGeometry.prototype.addShape = function ( shape, options ) {\n\n\tvar arrays = options.arrays ? options.arrays : this.getArrays();\n\tvar verticesArray = arrays.position;\n\tvar indicesArray = arrays.index;\n\tvar uvArray = arrays.uv;\n\n\tvar placeholder = [];\n\n\n\tvar amount = options.amount !== undefined ? options.amount : 100;\n\n\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6; // 10\n\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2; // 8\n\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true; // false\n\n\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\n\tvar steps = options.steps !== undefined ? options.steps : 1;\n\n\tvar extrudePath = options.extrudePath;\n\tvar extrudePts, extrudeByPath = false;\n\n\t// Use default WorldUVGenerator if no UV generators are specified.\n\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : ExtrudeGeometry.WorldUVGenerator;\n\n\tvar splineTube, binormal, normal, position2;\n\tif ( extrudePath ) {\n\n\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\textrudeByPath = true;\n\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t// SETUP TNB variables\n\n\t\t// TODO1 - have a .isClosed in spline?\n\n\t\tsplineTube = options.frames !== undefined ? options.frames : extrudePath.computeFrenetFrames( steps, false );\n\n\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\tbinormal = new Vector3();\n\t\tnormal = new Vector3();\n\t\tposition2 = new Vector3();\n\n\t}\n\n\t// Safeguards if bevels are not enabled\n\n\tif ( ! bevelEnabled ) {\n\n\t\tbevelSegments = 0;\n\t\tbevelThickness = 0;\n\t\tbevelSize = 0;\n\n\t}\n\n\t// Variables initialization\n\n\tvar ahole, h, hl; // looping of holes\n\tvar scope = this;\n\n\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\tvar vertices = shapePoints.shape;\n\tvar holes = shapePoints.holes;\n\n\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\tif ( reverse ) {\n\n\t\tvertices = vertices.reverse();\n\n\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\n\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t/* Vertices */\n\n\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\tahole = holes[ h ];\n\n\t\tvertices = vertices.concat( ahole );\n\n\t}\n\n\n\tfunction scalePt2( pt, vec, size ) {\n\n\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t}\n\n\tvar b, bs, t, z,\n\t\tvert, vlen = vertices.length,\n\t\tface, flen = faces.length;\n\n\n\t// Find directions for point movement\n\n\n\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t//\n\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t// check for collinear edges\n\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t// not collinear\n\n\t\t\t// length of vectors for normalizing\n\n\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t// vector from inPt to intersection point\n\n\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t//  but prevent crazy spikes\n\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t} else {\n\n\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// handle special case of collinear edges\n\n\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( direction_eq ) {\n\n\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t} else {\n\n\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t}\n\n\n\tvar contourMovements = [];\n\n\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\tif ( j === il ) j = 0;\n\t\tif ( k === il ) k = 0;\n\n\t\t//  (j)---(i)---(k)\n\t\t// console.log('i,j,k', i, j , k)\n\n\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t}\n\n\tvar holesMovements = [],\n\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\tahole = holes[ h ];\n\n\t\toneHoleMovements = [];\n\n\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t}\n\n\t\tholesMovements.push( oneHoleMovements );\n\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t}\n\n\n\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\tt = b / bevelSegments;\n\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n\t\t// contract shape\n\n\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\tv( vert.x, vert.y, - z );\n\n\t\t}\n\n\t\t// expand holes\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tbs = bevelSize;\n\n\t// Back facing vertices\n\n\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\tif ( ! extrudeByPath ) {\n\n\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t} else {\n\n\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t}\n\n\t}\n\n\t// Add stepped vertices...\n\t// Including front facing vertices\n\n\tvar s;\n\n\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, amount / steps * s );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\n\t// Add bevel segments planes\n\n\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\tt = b / bevelSegments;\n\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n\t\t// contract shape\n\n\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\tv( vert.x, vert.y, amount + z );\n\n\t\t}\n\n\t\t// expand holes\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, amount + z );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/* Faces */\n\n\t// Top and bottom faces\n\n\tbuildLidFaces();\n\n\t// Sides faces\n\n\tbuildSideFaces();\n\n\n\t/////  Internal functions\n\n\tfunction buildLidFaces() {\n\n\t\tvar start = verticesArray.length / 3;\n\n\t\tif ( bevelEnabled ) {\n\n\t\t\tvar layer = 0; // steps + 1\n\t\t\tvar offset = vlen * layer;\n\n\t\t\t// Bottom faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t}\n\n\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\toffset = vlen * layer;\n\n\t\t\t// Top faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Bottom faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t}\n\n\t\t\t// Top faces\n\n\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\tface = faces[ i ];\n\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.addGroup( start, verticesArray.length / 3 - start, options.material !== undefined ? options.material : 0 );\n\n\t}\n\n\t// Create faces for the z-sides of the shape\n\n\tfunction buildSideFaces() {\n\n\t\tvar start = verticesArray.length / 3;\n\t\tvar layeroffset = 0;\n\t\tsidewalls( contour, layeroffset );\n\t\tlayeroffset += contour.length;\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t//, true\n\t\t\tlayeroffset += ahole.length;\n\n\t\t}\n\n\n\t\tscope.addGroup( start, verticesArray.length / 3 - start, options.extrudeMaterial !== undefined ? options.extrudeMaterial : 1 );\n\n\n\t}\n\n\tfunction sidewalls( contour, layeroffset ) {\n\n\t\tvar j, k;\n\t\ti = contour.length;\n\n\t\twhile ( -- i >= 0 ) {\n\n\t\t\tj = i;\n\t\t\tk = i - 1;\n\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\tvar s = 0,\n\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\tf4( a, b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction v( x, y, z ) {\n\n\t\tplaceholder.push( x );\n\t\tplaceholder.push( y );\n\t\tplaceholder.push( z );\n\n\t}\n\n\n\tfunction f3( a, b, c ) {\n\n\t\taddVertex( a );\n\t\taddVertex( b );\n\t\taddVertex( c );\n\n\t\tvar nextIndex = verticesArray.length / 3;\n\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\taddUV( uvs[ 0 ] );\n\t\taddUV( uvs[ 1 ] );\n\t\taddUV( uvs[ 2 ] );\n\n\t}\n\n\tfunction f4( a, b, c, d ) {\n\n\t\taddVertex( a );\n\t\taddVertex( b );\n\t\taddVertex( d );\n\n\t\taddVertex( b );\n\t\taddVertex( c );\n\t\taddVertex( d );\n\n\n\t\tvar nextIndex = verticesArray.length / 3;\n\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\taddUV( uvs[ 0 ] );\n\t\taddUV( uvs[ 1 ] );\n\t\taddUV( uvs[ 3 ] );\n\n\t\taddUV( uvs[ 1 ] );\n\t\taddUV( uvs[ 2 ] );\n\t\taddUV( uvs[ 3 ] );\n\n\t}\n\n\tfunction addVertex( index ) {\n\n\t\tindicesArray.push( verticesArray.length / 3 );\n\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t}\n\n\n\tfunction addUV( vector2 ) {\n\n\t\tuvArray.push( vector2.x );\n\t\tuvArray.push( vector2.y );\n\n\t}\n\n\tif ( ! options.arrays ) {\n\n\t\tthis.setIndex( indicesArray );\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.addAttribute( 'uv', new Float32BufferAttribute( options.arrays.uv, 2 ) );\n\n\t}\n\n};\n\nExtrudeGeometry.WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float> // how far from text outline is bevel\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size, parameters.curveSegments );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.amount = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = thetaStart + thetaLength;\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.set( vertex.x, vertex.y, vertex.z ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author astrodud / http://astrodud.isgreat.org/\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = _Math.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t// also check if holes are in the opposite direction\n\n\t\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( _Math.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = Object.freeze({\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>,\n *  opacity: <float>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.opacity = 1.0;\n\n\tthis.lights = true;\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 0.5;\n\tthis.metalness = 0.5;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearCoat = 0.0;\n\tthis.clearCoatRoughness = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearCoat = source.clearCoat;\n\tthis.clearCoatRoughness = source.clearCoatRoughness;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  gradientMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMeshPhongMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.gradientMap = null;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( MeshPhongMaterial.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMeshPhongMaterial.prototype.copy.call( this, source );\n\n\tthis.gradientMap = source.gradientMap;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = Object.freeze({\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FileLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = window.decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = window.atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\twindow.setTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\twindow.setTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = event.target.response;\n\n\t\t\t\tCache.add( url, response );\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 ) {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else if ( this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tconsole.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( CompressedTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( DataTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope._parser( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( undefined !== texData.image ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( undefined !== texData.data ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = undefined !== texData.wrapS ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = undefined !== texData.wrapT ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = undefined !== texData.magFilter ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = undefined !== texData.minFilter ? texData.minFilter : LinearMipMapLinearFilter;\n\n\t\t\ttexture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;\n\n\t\t\tif ( undefined !== texData.format ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( undefined !== texData.type ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( undefined !== texData.mipmaps ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\n\t\t\t}\n\n\t\t\tif ( 1 === texData.mipmapCount ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ImageLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( ImageLoader.prototype, {\n\n\tcrossOrigin: 'Anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\timage.addEventListener( 'load', function () {\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}, false );\n\n\t\t/*\n\t\timage.addEventListener( 'progress', function ( event ) {\n\n\t\t\tif ( onProgress ) onProgress( event );\n\n\t\t}, false );\n\t\t*/\n\n\t\timage.addEventListener( 'error', function ( event ) {\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemEnd( url );\n\t\t\tscope.manager.itemError( url );\n\n\t\t}, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( CubeTextureLoader.prototype, {\n\n\tcrossOrigin: 'Anonymous',\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction TextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( TextureLoader.prototype, {\n\n\tcrossOrigin: 'Anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar texture = new Texture();\n\t\ttexture.image = loader.load( url, function () {\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.(jpg|jpeg)$/ ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.matrix = new Matrix4();\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdate: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = _Math.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new LightShadow( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow( ) {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.position.set( 0, 1, 0 );\n\tthis.updateMatrix();\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n\t// TODO (abelnation): distance/decay\n\n\t// TODO (abelnation): update method for RectAreaLight to update transform to lookat target\n\n\t// TODO (abelnation): shadows\n\n}\n\n// TODO (abelnation): RectAreaLight update when light shape is changed\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\nvar KeyframeTrackPrototype;\n\nKeyframeTrackPrototype = {\n\n\tTimeBufferType: Float32Array,\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrackPrototype:', message );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) ++ from;\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) -- to;\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrackPrototype: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else keep = true;\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j )\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j )\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n};\n\nfunction KeyframeTrackConstructor( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'track name is undefined' );\n\n\tif ( times === undefined || times.length === 0 ) {\n\n\t\tthrow new Error( 'no keyframes in track named ' + name );\n\n\t}\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\tthis.validate();\n\tthis.optimize();\n\n}\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrackPrototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrackConstructor.apply( this, name, times, values, interpolation );\n\n}\n\nKeyframeTrack.prototype = KeyframeTrackPrototype;\nKeyframeTrackPrototype.constructor = KeyframeTrack;\n\n// Static methods:\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tparse: function ( json ) {\n\n\t\tif ( json.type === undefined ) {\n\n\t\t\tthrow new Error( 'track type undefined, can not parse' );\n\n\t\t}\n\n\t\tvar trackType = KeyframeTrack._getTrackTypeForValueTypeName( json.type );\n\n\t\tif ( json.times === undefined ) {\n\n\t\t\tvar times = [], values = [];\n\n\t\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\t\tjson.times = times;\n\t\t\tjson.values = values;\n\n\t\t}\n\n\t\t// derived classes can define a static parse method\n\t\tif ( trackType.parse !== undefined ) {\n\n\t\t\treturn trackType.parse( json );\n\n\t\t} else {\n\n\t\t\t// by default, we assume a constructor compatible with the base\n\t\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t},\n\n\t_getTrackTypeForValueTypeName: function ( typeName ) {\n\n\t\tswitch ( typeName.toLowerCase() ) {\n\n\t\t\tcase 'scalar':\n\t\t\tcase 'double':\n\t\t\tcase 'float':\n\t\t\tcase 'number':\n\t\t\tcase 'integer':\n\n\t\t\t\treturn NumberKeyframeTrack;\n\n\t\t\tcase 'vector':\n\t\t\tcase 'vector2':\n\t\t\tcase 'vector3':\n\t\t\tcase 'vector4':\n\n\t\t\t\treturn VectorKeyframeTrack;\n\n\t\t\tcase 'color':\n\n\t\t\t\treturn ColorKeyframeTrack;\n\n\t\t\tcase 'quaternion':\n\n\t\t\t\treturn QuaternionKeyframeTrack;\n\n\t\t\tcase 'bool':\n\t\t\tcase 'boolean':\n\n\t\t\t\treturn BooleanKeyframeTrack;\n\n\t\t\tcase 'string':\n\n\t\t\t\treturn StringKeyframeTrack;\n\n\t\t}\n\n\t\tthrow new Error( 'Unsupported typeName: ' + typeName );\n\n\t}\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n\tthis.optimize();\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.parse( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.textures = {};\n\n}\n\nObject.assign( MaterialLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearCoat !== undefined ) material.clearCoat = json.clearCoat;\n\t\tif ( json.clearCoatRoughness !== undefined ) material.clearCoatRoughness = json.clearCoatRoughness;\n\t\tif ( json.uniforms !== undefined ) material.uniforms = json.uniforms;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\n\t\tif ( json.alphaMap !== undefined ) {\n\n\t\t\tmaterial.alphaMap = getTexture( json.alphaMap );\n\t\t\tmaterial.transparent = true;\n\n\t\t}\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\treturn material;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( BufferGeometryLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\tgeometry.addAttribute( key, new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized ) );\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader() {\n\n\tthis.onLoadStart = function () {};\n\tthis.onLoadProgress = function () {};\n\tthis.onLoadComplete = function () {};\n\n}\n\nLoader.Handlers = {\n\n\thandlers: [],\n\n\tadd: function ( regex, loader ) {\n\n\t\tthis.handlers.push( regex, loader );\n\n\t},\n\n\tget: function ( file ) {\n\n\t\tvar handlers = this.handlers;\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n};\n\nObject.assign( Loader.prototype, {\n\n\tcrossOrigin: undefined,\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar parts = url.split( '/' );\n\n\t\tif ( parts.length === 1 ) return './';\n\n\t\tparts.pop();\n\n\t\treturn parts.join( '/' ) + '/';\n\n\t},\n\n\tinitMaterials: function ( materials, texturePath, crossOrigin ) {\n\n\t\tvar array = [];\n\n\t\tfor ( var i = 0; i < materials.length; ++ i ) {\n\n\t\t\tarray[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\n\n\t\t}\n\n\t\treturn array;\n\n\t},\n\n\tcreateMaterial: ( function () {\n\n\t\tvar BlendingMode = {\n\t\t\tNoBlending: NoBlending,\n\t\t\tNormalBlending: NormalBlending,\n\t\t\tAdditiveBlending: AdditiveBlending,\n\t\t\tSubtractiveBlending: SubtractiveBlending,\n\t\t\tMultiplyBlending: MultiplyBlending,\n\t\t\tCustomBlending: CustomBlending\n\t\t};\n\n\t\tvar color = new Color();\n\t\tvar textureLoader = new TextureLoader();\n\t\tvar materialLoader = new MaterialLoader();\n\n\t\treturn function createMaterial( m, texturePath, crossOrigin ) {\n\n\t\t\t// convert from old material format\n\n\t\t\tvar textures = {};\n\n\t\t\tfunction loadTexture( path, repeat, offset, wrap, anisotropy ) {\n\n\t\t\t\tvar fullPath = texturePath + path;\n\t\t\t\tvar loader = Loader.Handlers.get( fullPath );\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( loader !== null ) {\n\n\t\t\t\t\ttexture = loader.load( fullPath );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureLoader.setCrossOrigin( crossOrigin );\n\t\t\t\t\ttexture = textureLoader.load( fullPath );\n\n\t\t\t\t}\n\n\t\t\t\tif ( repeat !== undefined ) {\n\n\t\t\t\t\ttexture.repeat.fromArray( repeat );\n\n\t\t\t\t\tif ( repeat[ 0 ] !== 1 ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( repeat[ 1 ] !== 1 ) texture.wrapT = RepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( offset !== undefined ) {\n\n\t\t\t\t\ttexture.offset.fromArray( offset );\n\n\t\t\t\t}\n\n\t\t\t\tif ( wrap !== undefined ) {\n\n\t\t\t\t\tif ( wrap[ 0 ] === 'repeat' ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 0 ] === 'mirror' ) texture.wrapS = MirroredRepeatWrapping;\n\n\t\t\t\t\tif ( wrap[ 1 ] === 'repeat' ) texture.wrapT = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 1 ] === 'mirror' ) texture.wrapT = MirroredRepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( anisotropy !== undefined ) {\n\n\t\t\t\t\ttexture.anisotropy = anisotropy;\n\n\t\t\t\t}\n\n\t\t\t\tvar uuid = _Math.generateUUID();\n\n\t\t\t\ttextures[ uuid ] = texture;\n\n\t\t\t\treturn uuid;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tvar json = {\n\t\t\t\tuuid: _Math.generateUUID(),\n\t\t\t\ttype: 'MeshLambertMaterial'\n\t\t\t};\n\n\t\t\tfor ( var name in m ) {\n\n\t\t\t\tvar value = m[ name ];\n\n\t\t\t\tswitch ( name ) {\n\n\t\t\t\t\tcase 'DbgColor':\n\t\t\t\t\tcase 'DbgIndex':\n\t\t\t\t\tcase 'opticalDensity':\n\t\t\t\t\tcase 'illumination':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'DbgName':\n\t\t\t\t\t\tjson.name = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'blending':\n\t\t\t\t\t\tjson.blending = BlendingMode[ value ];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorAmbient':\n\t\t\t\t\tcase 'mapAmbient':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial:', name, 'is no longer supported.' );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorDiffuse':\n\t\t\t\t\t\tjson.color = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorSpecular':\n\t\t\t\t\t\tjson.specular = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorEmissive':\n\t\t\t\t\t\tjson.emissive = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'specularCoef':\n\t\t\t\t\t\tjson.shininess = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shading':\n\t\t\t\t\t\tif ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'standard' ) json.type = 'MeshStandardMaterial';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuse':\n\t\t\t\t\t\tjson.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuseRepeat':\n\t\t\t\t\tcase 'mapDiffuseOffset':\n\t\t\t\t\tcase 'mapDiffuseWrap':\n\t\t\t\t\tcase 'mapDiffuseAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissive':\n\t\t\t\t\t\tjson.emissiveMap = loadTexture( value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissiveRepeat':\n\t\t\t\t\tcase 'mapEmissiveOffset':\n\t\t\t\t\tcase 'mapEmissiveWrap':\n\t\t\t\t\tcase 'mapEmissiveAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLight':\n\t\t\t\t\t\tjson.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLightRepeat':\n\t\t\t\t\tcase 'mapLightOffset':\n\t\t\t\t\tcase 'mapLightWrap':\n\t\t\t\t\tcase 'mapLightAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAO':\n\t\t\t\t\t\tjson.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAORepeat':\n\t\t\t\t\tcase 'mapAOOffset':\n\t\t\t\t\tcase 'mapAOWrap':\n\t\t\t\t\tcase 'mapAOAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBump':\n\t\t\t\t\t\tjson.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpScale':\n\t\t\t\t\t\tjson.bumpScale = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpRepeat':\n\t\t\t\t\tcase 'mapBumpOffset':\n\t\t\t\t\tcase 'mapBumpWrap':\n\t\t\t\t\tcase 'mapBumpAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormal':\n\t\t\t\t\t\tjson.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalFactor':\n\t\t\t\t\t\tjson.normalScale = [ value, value ];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalRepeat':\n\t\t\t\t\tcase 'mapNormalOffset':\n\t\t\t\t\tcase 'mapNormalWrap':\n\t\t\t\t\tcase 'mapNormalAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecular':\n\t\t\t\t\t\tjson.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecularRepeat':\n\t\t\t\t\tcase 'mapSpecularOffset':\n\t\t\t\t\tcase 'mapSpecularWrap':\n\t\t\t\t\tcase 'mapSpecularAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalness':\n\t\t\t\t\t\tjson.metalnessMap = loadTexture( value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalnessRepeat':\n\t\t\t\t\tcase 'mapMetalnessOffset':\n\t\t\t\t\tcase 'mapMetalnessWrap':\n\t\t\t\t\tcase 'mapMetalnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughness':\n\t\t\t\t\t\tjson.roughnessMap = loadTexture( value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughnessRepeat':\n\t\t\t\t\tcase 'mapRoughnessOffset':\n\t\t\t\t\tcase 'mapRoughnessWrap':\n\t\t\t\t\tcase 'mapRoughnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlpha':\n\t\t\t\t\t\tjson.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlphaRepeat':\n\t\t\t\t\tcase 'mapAlphaOffset':\n\t\t\t\t\tcase 'mapAlphaWrap':\n\t\t\t\t\tcase 'mapAlphaAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'flipSided':\n\t\t\t\t\t\tjson.side = BackSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'doubleSided':\n\t\t\t\t\t\tjson.side = DoubleSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial: transparency has been renamed to opacity' );\n\t\t\t\t\t\tjson.opacity = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'depthTest':\n\t\t\t\t\tcase 'depthWrite':\n\t\t\t\t\tcase 'colorWrite':\n\t\t\t\t\tcase 'opacity':\n\t\t\t\t\tcase 'reflectivity':\n\t\t\t\t\tcase 'transparent':\n\t\t\t\t\tcase 'visible':\n\t\t\t\t\tcase 'wireframe':\n\t\t\t\t\t\tjson[ name ] = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vertexColors':\n\t\t\t\t\t\tif ( value === true ) json.vertexColors = VertexColors;\n\t\t\t\t\t\tif ( value === 'face' ) json.vertexColors = FaceColors;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.Loader.createMaterial: Unsupported', name, value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.type === 'MeshBasicMaterial' ) delete json.emissive;\n\t\t\tif ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\n\n\t\t\tif ( json.opacity < 1 ) json.transparent = true;\n\n\t\t\tmaterialLoader.setTextures( textures );\n\n\t\t\treturn materialLoader.parse( json );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction JSONLoader( manager ) {\n\n\tif ( typeof manager === 'boolean' ) {\n\n\t\tconsole.warn( 'THREE.JSONLoader: showStatus parameter has been removed from constructor.' );\n\t\tmanager = undefined;\n\n\t}\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.withCredentials = false;\n\n}\n\nObject.assign( JSONLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texturePath = this.texturePath && ( typeof this.texturePath === \"string\" ) ? this.texturePath : Loader.prototype.extractUrlBase( url );\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = JSON.parse( text );\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata !== undefined ) {\n\n\t\t\t\tvar type = metadata.type;\n\n\t\t\t\tif ( type !== undefined ) {\n\n\t\t\t\t\tif ( type.toLowerCase() === 'object' ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.' );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( type.toLowerCase() === 'scene' ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.SceneLoader instead.' );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar object = scope.parse( json, texturePath );\n\t\t\tonLoad( object.geometry, object.materials );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetTexturePath: function ( value ) {\n\n\t\tthis.texturePath = value;\n\n\t},\n\n\tparse: ( function () {\n\n\t\tfunction parseModel( json, geometry ) {\n\n\t\t\tfunction isBitSet( value, position ) {\n\n\t\t\t\treturn value & ( 1 << position );\n\n\t\t\t}\n\n\t\t\tvar i, j, fi,\n\n\t\t\t\toffset, zLength,\n\n\t\t\t\tcolorIndex, normalIndex, uvIndex, materialIndex,\n\n\t\t\t\ttype,\n\t\t\t\tisQuad,\n\t\t\t\thasMaterial,\n\t\t\t\thasFaceVertexUv,\n\t\t\t\thasFaceNormal, hasFaceVertexNormal,\n\t\t\t\thasFaceColor, hasFaceVertexColor,\n\n\t\t\t\tvertex, face, faceA, faceB, hex, normal,\n\n\t\t\t\tuvLayer, uv, u, v,\n\n\t\t\t\tfaces = json.faces,\n\t\t\t\tvertices = json.vertices,\n\t\t\t\tnormals = json.normals,\n\t\t\t\tcolors = json.colors,\n\n\t\t\t\tscale = json.scale,\n\n\t\t\t\tnUvLayers = 0;\n\n\n\t\t\tif ( json.uvs !== undefined ) {\n\n\t\t\t\t// disregard empty arrays\n\n\t\t\t\tfor ( i = 0; i < json.uvs.length; i ++ ) {\n\n\t\t\t\t\tif ( json.uvs[ i ].length ) nUvLayers ++;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\n\t\t\t\t\tgeometry.faceVertexUvs[ i ] = [];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\toffset = 0;\n\t\t\tzLength = vertices.length;\n\n\t\t\twhile ( offset < zLength ) {\n\n\t\t\t\tvertex = new Vector3();\n\n\t\t\t\tvertex.x = vertices[ offset ++ ] * scale;\n\t\t\t\tvertex.y = vertices[ offset ++ ] * scale;\n\t\t\t\tvertex.z = vertices[ offset ++ ] * scale;\n\n\t\t\t\tgeometry.vertices.push( vertex );\n\n\t\t\t}\n\n\t\t\toffset = 0;\n\t\t\tzLength = faces.length;\n\n\t\t\twhile ( offset < zLength ) {\n\n\t\t\t\ttype = faces[ offset ++ ];\n\n\t\t\t\tisQuad = isBitSet( type, 0 );\n\t\t\t\thasMaterial = isBitSet( type, 1 );\n\t\t\t\thasFaceVertexUv = isBitSet( type, 3 );\n\t\t\t\thasFaceNormal = isBitSet( type, 4 );\n\t\t\t\thasFaceVertexNormal = isBitSet( type, 5 );\n\t\t\t\thasFaceColor = isBitSet( type, 6 );\n\t\t\t\thasFaceVertexColor = isBitSet( type, 7 );\n\n\t\t\t\t// console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\n\n\t\t\t\tif ( isQuad ) {\n\n\t\t\t\t\tfaceA = new Face3();\n\t\t\t\t\tfaceA.a = faces[ offset ];\n\t\t\t\t\tfaceA.b = faces[ offset + 1 ];\n\t\t\t\t\tfaceA.c = faces[ offset + 3 ];\n\n\t\t\t\t\tfaceB = new Face3();\n\t\t\t\t\tfaceB.a = faces[ offset + 1 ];\n\t\t\t\t\tfaceB.b = faces[ offset + 2 ];\n\t\t\t\t\tfaceB.c = faces[ offset + 3 ];\n\n\t\t\t\t\toffset += 4;\n\n\t\t\t\t\tif ( hasMaterial ) {\n\n\t\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\n\t\t\t\t\t\tfaceA.materialIndex = materialIndex;\n\t\t\t\t\t\tfaceB.materialIndex = materialIndex;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// to get face <=> uv index correspondence\n\n\t\t\t\t\tfi = geometry.faces.length;\n\n\t\t\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\n\t\t\t\t\t\t\tuvLayer = json.uvs[ i ];\n\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi + 1 ] = [];\n\n\t\t\t\t\t\t\tfor ( j = 0; j < 4; j ++ ) {\n\n\t\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\n\n\t\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\n\t\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\n\n\t\t\t\t\t\t\t\tuv = new Vector2( u, v );\n\n\t\t\t\t\t\t\t\tif ( j !== 2 ) geometry.faceVertexUvs[ i ][ fi ].push( uv );\n\t\t\t\t\t\t\t\tif ( j !== 0 ) geometry.faceVertexUvs[ i ][ fi + 1 ].push( uv );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\n\t\t\t\t\t\tfaceA.normal.set(\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tfaceB.normal.copy( faceA.normal );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < 4; i ++ ) {\n\n\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\n\t\t\t\t\t\t\tnormal = new Vector3(\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t\t);\n\n\n\t\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexNormals.push( normal );\n\t\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexNormals.push( normal );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\thex = colors[ colorIndex ];\n\n\t\t\t\t\t\tfaceA.color.setHex( hex );\n\t\t\t\t\t\tfaceB.color.setHex( hex );\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < 4; i ++ ) {\n\n\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\thex = colors[ colorIndex ];\n\n\t\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexColors.push( new Color( hex ) );\n\t\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexColors.push( new Color( hex ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.faces.push( faceA );\n\t\t\t\t\tgeometry.faces.push( faceB );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface = new Face3();\n\t\t\t\t\tface.a = faces[ offset ++ ];\n\t\t\t\t\tface.b = faces[ offset ++ ];\n\t\t\t\t\tface.c = faces[ offset ++ ];\n\n\t\t\t\t\tif ( hasMaterial ) {\n\n\t\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\n\t\t\t\t\t\tface.materialIndex = materialIndex;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// to get face <=> uv index correspondence\n\n\t\t\t\t\tfi = geometry.faces.length;\n\n\t\t\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\n\t\t\t\t\t\t\tuvLayer = json.uvs[ i ];\n\n\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\n\n\t\t\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\n\n\t\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\n\t\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\n\n\t\t\t\t\t\t\t\tuv = new Vector2( u, v );\n\n\t\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ].push( uv );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\n\t\t\t\t\t\tface.normal.set(\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\n\t\t\t\t\t\t\tnormal = new Vector3(\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tface.vertexNormals.push( normal );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\tface.color.setHex( colors[ colorIndex ] );\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\n\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\tface.vertexColors.push( new Color( colors[ colorIndex ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.faces.push( face );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseSkin( json, geometry ) {\n\n\t\t\tvar influencesPerVertex = ( json.influencesPerVertex !== undefined ) ? json.influencesPerVertex : 2;\n\n\t\t\tif ( json.skinWeights ) {\n\n\t\t\t\tfor ( var i = 0, l = json.skinWeights.length; i < l; i += influencesPerVertex ) {\n\n\t\t\t\t\tvar x = json.skinWeights[ i ];\n\t\t\t\t\tvar y = ( influencesPerVertex > 1 ) ? json.skinWeights[ i + 1 ] : 0;\n\t\t\t\t\tvar z = ( influencesPerVertex > 2 ) ? json.skinWeights[ i + 2 ] : 0;\n\t\t\t\t\tvar w = ( influencesPerVertex > 3 ) ? json.skinWeights[ i + 3 ] : 0;\n\n\t\t\t\t\tgeometry.skinWeights.push( new Vector4( x, y, z, w ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.skinIndices ) {\n\n\t\t\t\tfor ( var i = 0, l = json.skinIndices.length; i < l; i += influencesPerVertex ) {\n\n\t\t\t\t\tvar a = json.skinIndices[ i ];\n\t\t\t\t\tvar b = ( influencesPerVertex > 1 ) ? json.skinIndices[ i + 1 ] : 0;\n\t\t\t\t\tvar c = ( influencesPerVertex > 2 ) ? json.skinIndices[ i + 2 ] : 0;\n\t\t\t\t\tvar d = ( influencesPerVertex > 3 ) ? json.skinIndices[ i + 3 ] : 0;\n\n\t\t\t\t\tgeometry.skinIndices.push( new Vector4( a, b, c, d ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.bones = json.bones;\n\n\t\t\tif ( geometry.bones && geometry.bones.length > 0 && ( geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length ) ) {\n\n\t\t\t\tconsole.warn( 'When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' +\n\t\t\t\t\tgeometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseMorphing( json, geometry ) {\n\n\t\t\tvar scale = json.scale;\n\n\t\t\tif ( json.morphTargets !== undefined ) {\n\n\t\t\t\tfor ( var i = 0, l = json.morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\t\tgeometry.morphTargets[ i ] = {};\n\t\t\t\t\tgeometry.morphTargets[ i ].name = json.morphTargets[ i ].name;\n\t\t\t\t\tgeometry.morphTargets[ i ].vertices = [];\n\n\t\t\t\t\tvar dstVertices = geometry.morphTargets[ i ].vertices;\n\t\t\t\t\tvar srcVertices = json.morphTargets[ i ].vertices;\n\n\t\t\t\t\tfor ( var v = 0, vl = srcVertices.length; v < vl; v += 3 ) {\n\n\t\t\t\t\t\tvar vertex = new Vector3();\n\t\t\t\t\t\tvertex.x = srcVertices[ v ] * scale;\n\t\t\t\t\t\tvertex.y = srcVertices[ v + 1 ] * scale;\n\t\t\t\t\t\tvertex.z = srcVertices[ v + 2 ] * scale;\n\n\t\t\t\t\t\tdstVertices.push( vertex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.morphColors !== undefined && json.morphColors.length > 0 ) {\n\n\t\t\t\tconsole.warn( 'THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.' );\n\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar morphColors = json.morphColors[ 0 ].colors;\n\n\t\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\t\tfaces[ i ].color.fromArray( morphColors, i * 3 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseAnimations( json, geometry ) {\n\n\t\t\tvar outputAnimations = [];\n\n\t\t\t// parse old style Bone/Hierarchy animations\n\t\t\tvar animations = [];\n\n\t\t\tif ( json.animation !== undefined ) {\n\n\t\t\t\tanimations.push( json.animation );\n\n\t\t\t}\n\n\t\t\tif ( json.animations !== undefined ) {\n\n\t\t\t\tif ( json.animations.length ) {\n\n\t\t\t\t\tanimations = animations.concat( json.animations );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tanimations.push( json.animations );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0; i < animations.length; i ++ ) {\n\n\t\t\t\tvar clip = AnimationClip.parseAnimation( animations[ i ], geometry.bones );\n\t\t\t\tif ( clip ) outputAnimations.push( clip );\n\n\t\t\t}\n\n\t\t\t// parse implicit morph animations\n\t\t\tif ( geometry.morphTargets ) {\n\n\t\t\t\t// TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\n\t\t\t\tvar morphAnimationClips = AnimationClip.CreateClipsFromMorphTargetSequences( geometry.morphTargets, 10 );\n\t\t\t\toutputAnimations = outputAnimations.concat( morphAnimationClips );\n\n\t\t\t}\n\n\t\t\tif ( outputAnimations.length > 0 ) geometry.animations = outputAnimations;\n\n\t\t}\n\n\t\treturn function ( json, texturePath ) {\n\n\t\t\tif ( json.data !== undefined ) {\n\n\t\t\t\t// Geometry 4.0 spec\n\t\t\t\tjson = json.data;\n\n\t\t\t}\n\n\t\t\tif ( json.scale !== undefined ) {\n\n\t\t\t\tjson.scale = 1.0 / json.scale;\n\n\t\t\t} else {\n\n\t\t\t\tjson.scale = 1.0;\n\n\t\t\t}\n\n\t\t\tvar geometry = new Geometry();\n\n\t\t\tparseModel( json, geometry );\n\t\t\tparseSkin( json, geometry );\n\t\t\tparseMorphing( json, geometry );\n\t\t\tparseAnimations( json, geometry );\n\n\t\t\tgeometry.computeFaceNormals();\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\tif ( json.materials === undefined || json.materials.length === 0 ) {\n\n\t\t\t\treturn { geometry: geometry };\n\n\t\t\t} else {\n\n\t\t\t\tvar materials = Loader.prototype.initMaterials( json.materials, texturePath, this.crossOrigin );\n\n\t\t\t\treturn { geometry: geometry, materials: materials };\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.texturePath = '';\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.texturePath === '' ) {\n\n\t\t\tthis.texturePath = url.substring( 0, url.lastIndexOf( '/' ) + 1 );\n\n\t\t}\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url + '. Use THREE.JSONLoader instead.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetTexturePath: function ( value ) {\n\n\t\tthis.texturePath = value;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar geometries = this.parseGeometries( json.geometries );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseGeometries: function ( json ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar geometryLoader = new JSONLoader();\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tgeometry = geometryLoader.parse( data, this.texturePath ).geometry;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tarray.push( loader.parse( data.materials[ j ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterials[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.texturePath + image.url;\n\n\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture = new Texture( images[ data.image ] );\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function parseObject( data, geometries, materials ) {\n\n\t\t\tvar object;\n\n\t\t\tfunction getGeometry( name ) {\n\n\t\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t\t}\n\n\t\t\t\treturn geometries[ name ];\n\n\t\t\t}\n\n\t\t\tfunction getMaterial( name ) {\n\n\t\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn array;\n\n\t\t\t\t}\n\n\t\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t\t}\n\n\t\t\t\treturn materials[ name ];\n\n\t\t\t}\n\n\t\t\tswitch ( data.type ) {\n\n\t\t\t\tcase 'Scene':\n\n\t\t\t\t\tobject = new Scene();\n\n\t\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'AmbientLight':\n\n\t\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DirectionalLight':\n\n\t\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\n\t\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\n\t\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\n\t\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\n\t\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\t\tcase 'Mesh':\n\n\t\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LOD':\n\n\t\t\t\t\tobject = new LOD();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Line':\n\n\t\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LineLoop':\n\n\t\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LineSegments':\n\n\t\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointCloud':\n\t\t\t\tcase 'Points':\n\n\t\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Sprite':\n\n\t\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Group':\n\n\t\t\t\t\tobject = new Group();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tobject = new Object3D();\n\n\t\t\t}\n\n\t\t\tobject.uuid = data.uuid;\n\n\t\t\tif ( data.name !== undefined ) object.name = data.name;\n\t\t\tif ( data.matrix !== undefined ) {\n\n\t\t\t\tmatrix.fromArray( data.matrix );\n\t\t\t\tmatrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\t} else {\n\n\t\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t\t}\n\n\t\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\t\tif ( data.shadow ) {\n\n\t\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t\t}\n\n\t\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\n\t\t\tif ( data.children !== undefined ) {\n\n\t\t\t\tvar children = data.children;\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( data.type === 'LOD' ) {\n\n\t\t\t\tvar levels = data.levels;\n\n\t\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\t\tvar level = levels[ l ];\n\t\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn object;\n\n\t\t};\n\n\t}()\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipMapNearestFilter: NearestMipMapNearestFilter,\n\tNearestMipMapLinearFilter: NearestMipMapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipMapNearestFilter: LinearMipMapNearestFilter,\n\tLinearMipMapLinearFilter: LinearMipMapLinearFilter\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bzier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( _Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( _Math.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && curve.isLineCurve ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle ||0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nvar PathPrototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = PathPrototype;\nPathPrototype.constructor = Path;\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( PathPrototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size, divisions ) {\n\n\t\tfunction createPaths( text ) {\n\n\t\t\tvar chars = String( text ).split( '' );\n\t\t\tvar scale = size / data.resolution;\n\t\t\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\t\t\tvar offsetX = 0, offsetY = 0;\n\n\t\t\tvar paths = [];\n\n\t\t\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\t\t\tvar char = chars[ i ];\n\n\t\t\t\tif ( char === '\\n' ) {\n\n\t\t\t\t\toffsetX = 0;\n\t\t\t\t\toffsetY -= line_height;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvar ret = createPath( char, scale, offsetX, offsetY );\n\t\t\t\t\toffsetX += ret.offsetX;\n\t\t\t\t\tpaths.push( ret.path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn paths;\n\n\t\t}\n\n\t\tfunction createPath( c, scale, offsetX, offsetY ) {\n\n\t\t\tvar glyph = data.glyphs[ c ] || data.glyphs[ '?' ];\n\n\t\t\tif ( ! glyph ) return;\n\n\t\t\tvar path = new ShapePath();\n\n\t\t\tvar pts = [];\n\t\t\tvar x, y, cpx, cpy, cpx0, cpy0, cpx1, cpy1, cpx2, cpy2, laste;\n\n\t\t\tif ( glyph.o ) {\n\n\t\t\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\t\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\t\t\tvar action = outline[ i ++ ];\n\n\t\t\t\t\tswitch ( action ) {\n\n\t\t\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\t\t\tlaste = pts[ pts.length - 1 ];\n\n\t\t\t\t\t\t\tif ( laste ) {\n\n\t\t\t\t\t\t\t\tcpx0 = laste.x;\n\t\t\t\t\t\t\t\tcpy0 = laste.y;\n\n\t\t\t\t\t\t\t\tfor ( var i2 = 1; i2 <= divisions; i2 ++ ) {\n\n\t\t\t\t\t\t\t\t\tvar t = i2 / divisions;\n\t\t\t\t\t\t\t\t\tQuadraticBezier( t, cpx0, cpx1, cpx );\n\t\t\t\t\t\t\t\t\tQuadraticBezier( t, cpy0, cpy1, cpy );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\t\t\tlaste = pts[ pts.length - 1 ];\n\n\t\t\t\t\t\t\tif ( laste ) {\n\n\t\t\t\t\t\t\t\tcpx0 = laste.x;\n\t\t\t\t\t\t\t\tcpy0 = laste.y;\n\n\t\t\t\t\t\t\t\tfor ( var i2 = 1; i2 <= divisions; i2 ++ ) {\n\n\t\t\t\t\t\t\t\t\tvar t = i2 / divisions;\n\t\t\t\t\t\t\t\t\tCubicBezier( t, cpx0, cpx1, cpx2, cpx );\n\t\t\t\t\t\t\t\t\tCubicBezier( t, cpy0, cpy1, cpy2, cpy );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn { offsetX: glyph.ha * scale, path: path };\n\n\t\t}\n\n\t\t//\n\n\t\tif ( size === undefined ) size = 100;\n\t\tif ( divisions === undefined ) divisions = 4;\n\n\t\tvar data = this.data;\n\n\t\tvar paths = createPaths( text );\n\t\tvar shapes = [];\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FontLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nvar context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( context === undefined ) {\n\n\t\t\tcontext = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\tcontext = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AudioLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar context = AudioContext.getContext();\n\n\t\t\tcontext.decodeAudioData( buffer, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: ( function () {\n\n\t\tvar instance, focus, fov, aspect, near, far, zoom, eyeSep;\n\n\t\tvar eyeRight = new Matrix4();\n\t\tvar eyeLeft = new Matrix4();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov ||\n\t\t\t\t\t\t\t\t\t\t\t\taspect !== camera.aspect * this.aspect || near !== camera.near ||\n\t\t\t\t\t\t\t\t\t\t\t\tfar !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\tinstance = this;\n\t\t\t\tfocus = camera.focus;\n\t\t\t\tfov = camera.fov;\n\t\t\t\taspect = camera.aspect * this.aspect;\n\t\t\t\tnear = camera.near;\n\t\t\t\tfar = camera.far;\n\t\t\t\tzoom = camera.zoom;\n\n\t\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\t\teyeSep = this.eyeSep / 2;\n\t\t\t\tvar eyeSepOnProjection = eyeSep * near / focus;\n\t\t\t\tvar ymax = ( near * Math.tan( _Math.DEG2RAD * fov * 0.5 ) ) / zoom;\n\t\t\t\tvar xmin, xmax;\n\n\t\t\t\t// translate xOffset\n\n\t\t\t\teyeLeft.elements[ 12 ] = - eyeSep;\n\t\t\t\teyeRight.elements[ 12 ] = eyeSep;\n\n\t\t\t\t// for left eye\n\n\t\t\t\txmin = - ymax * aspect + eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect + eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t\t// for right eye\n\n\t\t\t\txmin = - ymax * aspect - eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect - eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t}\n\n\t\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( eyeLeft );\n\t\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( eyeRight );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CubeCamera( near, far, cubeResolution ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar fov = 90, aspect = 1;\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\tvar options = { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderTarget.activeCubeFace = 0;\n\t\trenderer.render( scene, cameraPX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 1;\n\t\trenderer.render( scene, cameraNX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 2;\n\t\trenderer.render( scene, cameraPY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 3;\n\t\trenderer.render( scene, cameraNY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 4;\n\t\trenderer.render( scene, cameraPZ, renderTarget );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderTarget.activeCubeFace = 5;\n\t\trenderer.render( scene, cameraNZ, renderTarget );\n\n\t\trenderer.setRenderTarget( null );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderTarget.activeCubeFace = i;\n\t\t\trenderer.setRenderTarget( renderTarget );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( null );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.value = value;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\t\tvar scale = new Vector3();\n\n\t\tvar orientation = new Vector3();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tvar listener = this.context.listener;\n\t\t\tvar up = this.up;\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\n\t\t\torientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n\t\t\tif ( listener.positionX ) {\n\n\t\t\t\tlistener.positionX.setValueAtTime( position.x, this.context.currentTime );\n\t\t\t\tlistener.positionY.setValueAtTime( position.y, this.context.currentTime );\n\t\t\t\tlistener.positionZ.setValueAtTime( position.z, this.context.currentTime );\n\t\t\t\tlistener.forwardX.setValueAtTime( orientation.x, this.context.currentTime );\n\t\t\t\tlistener.forwardY.setValueAtTime( orientation.y, this.context.currentTime );\n\t\t\t\tlistener.forwardZ.setValueAtTime( orientation.z, this.context.currentTime );\n\t\t\t\tlistener.upX.setValueAtTime( up.x, this.context.currentTime );\n\t\t\t\tlistener.upY.setValueAtTime( up.y, this.context.currentTime );\n\t\t\t\tlistener.upZ.setValueAtTime( up.z, this.context.currentTime );\n\n\t\t\t} else {\n\n\t\t\t\tlistener.setPosition( position.x, position.y, position.z );\n\t\t\t\tlistener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.loop = false;\n\tthis.startTime = 0;\n\tthis.offset = 0;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function () {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar source = this.context.createBufferSource();\n\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.playbackRate.setValueAtTime( this.playbackRate, this.startTime );\n\t\tthis.startTime = this.context.currentTime;\n\t\tsource.start( this.startTime, this.offset );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.stop();\n\t\t\tthis.offset += ( this.context.currentTime - this.startTime ) * this.playbackRate;\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.source.stop();\n\t\tthis.offset = 0;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setValueAtTime( this.playbackRate, this.context.currentTime );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.value = value;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tposition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tthis.panner.setPosition( position.x, position.y, position.z );\n\n\t\t};\n\n\t} )()\n\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\n\t\t\t\t  n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\n\t\t\t\t  n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_,\n\t\t\t\t  n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param  {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( /[^\\w-]/g, '' );\n\n\t},\n\n\tparseTrackName: function () {\n\n\t\t// Parent directories, delimited by '/' or ':'. Currently unused, but must\n\t\t// be matched to parse the rest of the track name.\n\t\tvar directoryRe = /((?:[\\w-]+[\\/:])*)/;\n\n\t\t// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\t\tvar nodeRe = /([\\w-\\.]+)?/;\n\n\t\t// Object on target node, and accessor. Name may contain only word\n\t\t// characters. Accessor may contain any character except closing bracket.\n\t\tvar objectRe = /(?:\\.([\\w-]+)(?:\\[(.+)\\])?)?/;\n\n\t\t// Property and accessor. May contain only word characters. Accessor may\n\t\t// contain any non-bracket characters.\n\t\tvar propertyRe = /\\.([\\w-]+)(?:\\[(.+)\\])?/;\n\n\t\tvar trackRe = new RegExp( ''\n\t\t\t+ '^'\n\t\t\t+ directoryRe.source\n\t\t\t+ nodeRe.source\n\t\t\t+ objectRe.source\n\t\t\t+ propertyRe.source\n\t\t\t+ '$'\n\t\t);\n\n\t\tvar supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\n\t\treturn function ( trackName ) {\n\n\t\t\tvar matches = trackRe.exec( trackName );\n\n\t\t\tif ( ! matches ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\tvar results = {\n\t\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\t\tnodeName: matches[ 2 ],\n\t\t\t\tobjectName: matches[ 3 ],\n\t\t\t\tobjectIndex: matches[ 4 ],\n\t\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\t\tpropertyIndex: matches[ 6 ]\n\t\t\t};\n\n\t\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t\t// include '.' characters).\n\t\t\t\tif ( supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\t\tresults.objectName = objectName;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\treturn results;\n\n\t\t};\n\n\t}(),\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar searchSkeleton = function ( skeleton ) {\n\n\t\t\t\tfor ( var i = 0; i < skeleton.bones.length; i ++ ) {\n\n\t\t\t\t\tvar bone = skeleton.bones[ i ];\n\n\t\t\t\t\tif ( bone.name === nodeName ) {\n\n\t\t\t\t\t\treturn bone;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar bone = searchSkeleton( root.skeleton );\n\n\t\t\tif ( bone ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\t\t\tthis.targetObject = targetObject;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\t\t\tthis.targetObject = targetObject;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n * \t-\tAdd objects you would otherwise pass as 'root' to the\n * \t\tconstructor or the .clipAction method of AnimationMixer.\n *\n * \t-\tInstead pass this object as 'root'.\n *\n * \t-\tYou can also add and remove objects later when the mixer\n * \t\tis running.\n *\n * Note:\n *\n *  \tObjects of this class appear as one object to the mixer,\n *  \tso cache control of the individual objects must be done\n *  \ton the group.\n *\n * Limitation:\n *\n * \t- \tThe animated properties must be compatible among the\n * \t\tall objects in the group.\n *\n *  -\tA single property can either be controlled through a\n *  \ttarget group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0;\t\t\t// threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices;\t\t// for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = [];\t\t\t\t\t// inside: string\n\tthis._parsedPaths = [];\t\t\t\t// inside: { we don't care, here }\n\tthis._bindings = []; \t\t\t\t// inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; \t// inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ],\n\t\t\t\tknownObject = undefined;\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants;\t// bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null;\t\t\t// for the memory manager\n\tthis._byClipCacheIndex = null;\t\t// for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; \t\t// no. of repetitions when looping\n\n\tthis.paused = false;\t\t\t\t// true -> zero effective time scale\n\tthis.enabled = true;\t\t\t\t// false -> zero effective weight\n\n\tthis.clampWhenFinished \t= false;\t// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart \t= true;\t\t// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd\t\t= true;\t\t// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0;\t\t\t// restart clip\n\t\tthis._loopCount = - 1;\t// forget previous loops\n\t\tthis._startTime = null;\t// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\n\t\tif ( deltaTime === 0 ) return time;\n\n\t\tvar duration = this._clip.duration,\n\n\t\t\tloop = this.loop,\n\t\t\tloopCount = this._loopCount;\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else break handle_stop;\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending < 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 0 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\tthis.time = time;\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.time = time;\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart \t= ZeroSlopeEnding;\n\t\t\tsettings.endingEnd\t\t= ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now; \t\t\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nObject.assign( AnimationMixer.prototype, EventDispatcher.prototype, {\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \t\tknownActions: Array< AnimationAction >\t- used as prototypes\n\t\t// \t\tactionByRoot: AnimationAction\t\t\t- lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tremove_empty_map: {\n\n\t\t\tfor ( var _ in bindingByName ) break remove_empty_map; // eslint-disable-line no-unused-vars\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.onUploadCallback = function () {};\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.stride : 0;\n\t\tthis.array = array;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, meshPerAttribute ) {\n\n\tBufferAttribute.call( this, array, itemSize );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: {},\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.visible === false ) return;\n\n\tobject.raycast( raycaster, intersects );\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tlinePrecision: 1,\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive ) {\n\n\t\tvar intersects = [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive ) {\n\n\t\tvar intersects = [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The poles (phi) are at the positive and negative y axis.\n * The equator starts at positive z.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // up / down towards top and bottom pole\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // around the equator of the sphere\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( vec3 ) {\n\n\t\tthis.radius = vec3.length();\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( vec3.x, vec3.z ); // equator angle around y-up axis\n\t\t\tthis.phi = Math.acos( _Math.clamp( vec3.y / this.radius, - 1, 1 ) ); // polar angle\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( vec3 ) {\n\n\t\tthis.radius = Math.sqrt( vec3.x * vec3.x + vec3.z * vec3.z );\n\t\tthis.theta = Math.atan2( vec3.x, vec3.z );\n\t\tthis.y = vec3.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction VertexNormalsHelper( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length * 3;\n\n\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\tnNormals = objGeometry.attributes.normal.count;\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nVertexNormalsHelper.prototype = Object.create( LineSegments.prototype );\nVertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\n\nVertexNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tvar keys = [ 'a', 'b', 'c' ];\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\t\tvar vertices = objGeometry.vertices;\n\n\t\t\tvar faces = objGeometry.faces;\n\n\t\t\tvar idx = 0;\n\n\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tvar face = faces[ i ];\n\n\t\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar vertex = vertices[ face[ keys[ j ] ] ];\n\n\t\t\t\t\tvar normal = face.vertexNormals[ j ];\n\n\t\t\t\t\tv1.copy( vertex ).applyMatrix4( matrixWorld );\n\n\t\t\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\t\tvar objPos = objGeometry.attributes.position;\n\n\t\t\tvar objNorm = objGeometry.attributes.normal;\n\n\t\t\tvar idx = 0;\n\n\t\t\t// for simplicity, ignore index and drawcalls, and render every normal\n\n\t\t\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t\tv1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\n\n\t\t\t\tv2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\n\n\t\t\t\tv2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\tvar vector2 = new Vector3();\n\n\treturn function update() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\tvector.setFromMatrixPosition( this.light.matrixWorld );\n\t\tvector2.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( vector2.sub( vector ) );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t};\n\n}();\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.updateMatrixWorld = function () {\n\n\tvar vector = new Vector3();\n\n\tvar boneMatrix = new Matrix4();\n\tvar matrixWorldInv = new Matrix4();\n\n\treturn function updateMatrixWorld( force ) {\n\n\t\tvar bones = this.bones;\n\n\t\tvar geometry = this.geometry;\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tmatrixWorldInv.getInverse( this.root.matrixWorld );\n\n\t\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tvar bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j, vector.x, vector.y, vector.z );\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, vector.x, vector.y, vector.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction RectAreaLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.addAttribute( 'position', new BufferAttribute( new Float32Array( 5 * 3 ), 3 ) );\n\n\tthis.line = new Line( geometry, material );\n\tthis.add( this.line );\n\n\n\tthis.update();\n\n}\n\nRectAreaLightHelper.prototype = Object.create( Object3D.prototype );\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nRectAreaLightHelper.prototype.update = function () {\n\n\t// calculate new dimensions of the helper\n\n\tvar hx = this.light.width * 0.5;\n\tvar hy = this.light.height * 0.5;\n\n\tvar position = this.line.geometry.attributes.position;\n\tvar array = position.array;\n\n\t// update vertices\n\n\tarray[ 0 ] = hx; array[ 1 ] = - hy; array[ 2 ] = 0;\n\tarray[ 3 ] = hx; array[ 4 ] = hy; array[ 5 ] = 0;\n\tarray[ 6 ] = - hx; array[ 7 ] = hy; array[ 8 ] = 0;\n\tarray[ 9 ] = - hx; array[ 10 ] = - hy; array[ 11 ] = 0;\n\tarray[ 12 ] = hx; array[ 13 ] = - hy; array[ 14 ] = 0;\n\n\tposition.needsUpdate = true;\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.line.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.line.material.color.copy( this.light.color );\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = VertexColors;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\n\tvar color1 = new Color();\n\tvar color2 = new Color();\n\n\treturn function update() {\n\n\t\tvar mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\tcolor1.copy( this.light.color );\n\t\t\tcolor2.copy( this.light.groundColor );\n\n\t\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tvar color = ( i < ( l / 2 ) ) ? color1 : color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.create( LineSegments.prototype );\nGridHelper.prototype.constructor = GridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction FaceNormalsHelper( object, size, hex, linewidth ) {\n\n\t// FaceNormalsHelper only supports THREE.Geometry\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length;\n\n\t} else {\n\n\t\tconsole.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\tthis.update();\n\n}\n\nFaceNormalsHelper.prototype = Object.create( LineSegments.prototype );\nFaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\n\nFaceNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tvar vertices = objGeometry.vertices;\n\n\t\tvar faces = objGeometry.faces;\n\n\t\tvar idx = 0;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar normal = face.normal;\n\n\t\t\tv1.copy( vertices[ face.a ] )\n\t\t\t\t.add( vertices[ face.b ] )\n\t\t\t\t.add( vertices[ face.c ] )\n\t\t\t\t.divideScalar( 3 )\n\t\t\t\t.applyMatrix4( matrixWorld );\n\n\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar v3 = new Vector3();\n\n\treturn function update() {\n\n\t\tv1.setFromMatrixPosition( this.light.matrixWorld );\n\t\tv2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\tv3.subVectors( v2, v1 );\n\n\t\tthis.lightPlane.lookAt( v3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( v3 );\n\t\tthis.targetLine.scale.z = v3.length();\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry, pointMap;\n\n\tvar vector = new Vector3();\n\tvar camera = new Camera();\n\n\tfunction setPoint( point, x, y, z ) {\n\n\t\tvector.set( x, y, z ).unproject( camera );\n\n\t\tvar points = pointMap[ point ];\n\n\t\tif ( points !== undefined ) {\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\t\tposition.setXYZ( points[ i ], vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn function update() {\n\n\t\tgeometry = this.geometry;\n\t\tpointMap = this.pointMap;\n\n\t\tvar w = 1, h = 1;\n\n\t\t// we need just camera projection matrix\n\t\t// world matrix must be identity\n\n\t\tcamera.projectionMatrix.copy( this.camera.projectionMatrix );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', 0, 0, - 1 );\n\t\tsetPoint( 't', 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', - w, - h, - 1 );\n\t\tsetPoint( 'n2', w, - h, - 1 );\n\t\tsetPoint( 'n3', - w, h, - 1 );\n\t\tsetPoint( 'n4', w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', - w, - h, 1 );\n\t\tsetPoint( 'f2', w, - h, 1 );\n\t\tsetPoint( 'f3', - w, h, 1 );\n\t\tsetPoint( 'f4', w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', - w, 0, 1 );\n\t\tsetPoint( 'cf2', w, 0, 1 );\n\t\tsetPoint( 'cf3', 0, - h, 1 );\n\t\tsetPoint( 'cf4', 0, h, 1 );\n\n\t\tsetPoint( 'cn1', - w, 0, - 1 );\n\t\tsetPoint( 'cn2', w, 0, - 1 );\n\t\tsetPoint( 'cn3', 0, - h, - 1 );\n\t\tsetPoint( 'cn4', 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = ( function () {\n\n\tvar box = new Box3();\n\n\treturn function update( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\tbox.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tvar min = box.min;\n\t\tvar max = box.max;\n\n\t\t/*\n\t\t  5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tvar position = this.geometry.attributes.position;\n\t\tvar array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t};\n\n} )();\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, hex ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar lineGeometry;\nvar coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( length === undefined ) length = 1;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( lineGeometry === undefined ) {\n\n\t\tlineGeometry = new BufferGeometry();\n\t\tlineGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\tconeGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\tconeGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = ( function () {\n\n\tvar axis = new Vector3();\n\tvar radians;\n\n\treturn function setDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\taxis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tradians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( axis, radians );\n\n\t\t}\n\n\t};\n\n}() );\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.copy( color );\n\tthis.cone.material.color.copy( color );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly();\nvar py = new CubicPoly();\nvar pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / points.length ) + 1 ) * points.length;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( geometry, materials ) {\n\n\t\tvar group = new Group();\n\n\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\n\n\t\t\tgroup.add( new Mesh( geometry, materials[ i ] ) );\n\n\t\t}\n\n\t\treturn group;\n\n\t},\n\n\tdetach: function ( child, parent, scene ) {\n\n\t\tchild.applyMatrix( parent.matrixWorld );\n\t\tparent.remove( child );\n\t\tscene.add( child );\n\n\t},\n\n\tattach: function ( child, scene, parent ) {\n\n\t\tchild.applyMatrix( new Matrix4().getInverse( parent.matrixWorld ) );\n\n\t\tscene.remove( child );\n\t\tparent.add( child );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\n\nvar LinePieces = 1;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setDynamic( true );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\tthis.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( _Math, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn _Math.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn _Math.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tvar v1;\n\n\t\treturn function getPosition() {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\t\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\t\treturn v1.setFromMatrixColumn( this, 3 );\n\n\t\t};\n\n\t}(),\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nGeometry.prototype.computeTangents = function () {\n\n\tconsole.warn( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n};\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.cullFace;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.' );\n\t\t\tthis.shadowMap.cullFace = value;\n\n\t\t}\n\t}\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\treturn this.renderReverseSided ? CullFaceFront : CullFaceBack;\n\n\t\t},\n\t\tset: function ( cullFace ) {\n\n\t\t\tvar value = ( cullFace !== CullFaceBack );\n\t\t\tconsole.warn( \"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \" + value + \".\" );\n\t\t\tthis.renderReverseSided = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tvar scope = this;\n\tvar audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nvar ImageUtils = {\n\n\tcrossOrigin: undefined,\n\n\tloadTexture: function ( url, mapping, onLoad, onError ) {\n\n\t\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\t\tvar loader = new TextureLoader();\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\t\tif ( mapping ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t},\n\n\tloadTextureCube: function ( urls, mapping, onLoad, onError ) {\n\n\t\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\t\tvar loader = new CubeTextureLoader();\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\t\tif ( mapping ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t},\n\n\tloadCompressedTexture: function () {\n\n\t\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n\t},\n\n\tloadCompressedTextureCube: function () {\n\n\t\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n\t}\n\n};\n\n//\n\nfunction Projector() {\n\n\tconsole.error( 'THREE.Projector has been moved to /examples/js/renderers/Projector.js.' );\n\n\tthis.projectVector = function ( vector, camera ) {\n\n\t\tconsole.warn( 'THREE.Projector: .projectVector() is now vector.project().' );\n\t\tvector.project( camera );\n\n\t};\n\n\tthis.unprojectVector = function ( vector, camera ) {\n\n\t\tconsole.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );\n\t\tvector.unproject( camera );\n\n\t};\n\n\tthis.pickingRay = function () {\n\n\t\tconsole.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );\n\n\t};\n\n}\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js' );\n\n\tthis.domElement = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tthis.clear = function () {};\n\tthis.render = function () {};\n\tthis.setClearColor = function () {};\n\tthis.setSize = function () {};\n\n}\n\nexport { WebGLRenderTargetCube, WebGLRenderTarget, WebGLRenderer, ShaderLib, UniformsLib, UniformsUtils, ShaderChunk, FogExp2, Fog, Scene, LensFlare, Sprite, LOD, SkinnedMesh, Skeleton, Bone, Mesh, LineSegments, LineLoop, Line, Points, Group, VideoTexture, DataTexture, CompressedTexture, CubeTexture, CanvasTexture, DepthTexture, Texture, CompressedTextureLoader, DataTextureLoader, CubeTextureLoader, TextureLoader, ObjectLoader, MaterialLoader, BufferGeometryLoader, DefaultLoadingManager, LoadingManager, JSONLoader, ImageLoader, FontLoader, FileLoader, Loader, Cache, AudioLoader, SpotLightShadow, SpotLight, PointLight, RectAreaLight, HemisphereLight, DirectionalLightShadow, DirectionalLight, AmbientLight, LightShadow, Light, StereoCamera, PerspectiveCamera, OrthographicCamera, CubeCamera, ArrayCamera, Camera, AudioListener, PositionalAudio, AudioContext, AudioAnalyser, Audio, VectorKeyframeTrack, StringKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, ColorKeyframeTrack, BooleanKeyframeTrack, PropertyMixer, PropertyBinding, KeyframeTrack, AnimationUtils, AnimationObjectGroup, AnimationMixer, AnimationClip, Uniform, InstancedBufferGeometry, BufferGeometry, Geometry, InterleavedBufferAttribute, InstancedInterleavedBuffer, InterleavedBuffer, InstancedBufferAttribute, Face3, Object3D, Raycaster, Layers, EventDispatcher, Clock, QuaternionLinearInterpolant, LinearInterpolant, DiscreteInterpolant, CubicInterpolant, Interpolant, Triangle, _Math as Math, Spherical, Cylindrical, Plane, Frustum, Sphere, Ray, Matrix4, Matrix3, Box3, Box2, Line3, Euler, Vector4, Vector3, Vector2, Quaternion, Color, ImmediateRenderObject, VertexNormalsHelper, SpotLightHelper, SkeletonHelper, PointLightHelper, RectAreaLightHelper, HemisphereLightHelper, GridHelper, PolarGridHelper, FaceNormalsHelper, DirectionalLightHelper, CameraHelper, BoxHelper, Box3Helper, PlaneHelper, ArrowHelper, AxesHelper, CatmullRomCurve3, CubicBezierCurve3, QuadraticBezierCurve3, LineCurve3, ArcCurve, EllipseCurve, SplineCurve, CubicBezierCurve, QuadraticBezierCurve, LineCurve, Shape, Path, ShapePath, Font, CurvePath, Curve, ShapeUtils, SceneUtils, WebGLUtils, WireframeGeometry, ParametricGeometry, ParametricBufferGeometry, TetrahedronGeometry, TetrahedronBufferGeometry, OctahedronGeometry, OctahedronBufferGeometry, IcosahedronGeometry, IcosahedronBufferGeometry, DodecahedronGeometry, DodecahedronBufferGeometry, PolyhedronGeometry, PolyhedronBufferGeometry, TubeGeometry, TubeBufferGeometry, TorusKnotGeometry, TorusKnotBufferGeometry, TorusGeometry, TorusBufferGeometry, TextGeometry, TextBufferGeometry, SphereGeometry, SphereBufferGeometry, RingGeometry, RingBufferGeometry, PlaneGeometry, PlaneBufferGeometry, LatheGeometry, LatheBufferGeometry, ShapeGeometry, ShapeBufferGeometry, ExtrudeGeometry, ExtrudeBufferGeometry, EdgesGeometry, ConeGeometry, ConeBufferGeometry, CylinderGeometry, CylinderBufferGeometry, CircleGeometry, CircleBufferGeometry, BoxGeometry, BoxBufferGeometry, ShadowMaterial, SpriteMaterial, RawShaderMaterial, ShaderMaterial, PointsMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshPhongMaterial, MeshToonMaterial, MeshNormalMaterial, MeshLambertMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshBasicMaterial, LineDashedMaterial, LineBasicMaterial, Material, Float64BufferAttribute, Float32BufferAttribute, Uint32BufferAttribute, Int32BufferAttribute, Uint16BufferAttribute, Int16BufferAttribute, Uint8ClampedBufferAttribute, Uint8BufferAttribute, Int8BufferAttribute, BufferAttribute, REVISION, MOUSE, CullFaceNone, CullFaceBack, CullFaceFront, CullFaceFrontBack, FrontFaceDirectionCW, FrontFaceDirectionCCW, BasicShadowMap, PCFShadowMap, PCFSoftShadowMap, FrontSide, BackSide, DoubleSide, FlatShading, SmoothShading, NoColors, FaceColors, VertexColors, NoBlending, NormalBlending, AdditiveBlending, SubtractiveBlending, MultiplyBlending, CustomBlending, AddEquation, SubtractEquation, ReverseSubtractEquation, MinEquation, MaxEquation, ZeroFactor, OneFactor, SrcColorFactor, OneMinusSrcColorFactor, SrcAlphaFactor, OneMinusSrcAlphaFactor, DstAlphaFactor, OneMinusDstAlphaFactor, DstColorFactor, OneMinusDstColorFactor, SrcAlphaSaturateFactor, NeverDepth, AlwaysDepth, LessDepth, LessEqualDepth, EqualDepth, GreaterEqualDepth, GreaterDepth, NotEqualDepth, MultiplyOperation, MixOperation, AddOperation, NoToneMapping, LinearToneMapping, ReinhardToneMapping, Uncharted2ToneMapping, CineonToneMapping, UVMapping, CubeReflectionMapping, CubeRefractionMapping, EquirectangularReflectionMapping, EquirectangularRefractionMapping, SphericalReflectionMapping, CubeUVReflectionMapping, CubeUVRefractionMapping, RepeatWrapping, ClampToEdgeWrapping, MirroredRepeatWrapping, NearestFilter, NearestMipMapNearestFilter, NearestMipMapLinearFilter, LinearFilter, LinearMipMapNearestFilter, LinearMipMapLinearFilter, UnsignedByteType, ByteType, ShortType, UnsignedShortType, IntType, UnsignedIntType, FloatType, HalfFloatType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedInt248Type, AlphaFormat, RGBFormat, RGBAFormat, LuminanceFormat, LuminanceAlphaFormat, RGBEFormat, DepthFormat, DepthStencilFormat, RGB_S3TC_DXT1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGB_PVRTC_4BPPV1_Format, RGB_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_PVRTC_2BPPV1_Format, RGB_ETC1_Format, LoopOnce, LoopRepeat, LoopPingPong, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, ZeroCurvatureEnding, ZeroSlopeEnding, WrapAroundEnding, TrianglesDrawMode, TriangleStripDrawMode, TriangleFanDrawMode, LinearEncoding, sRGBEncoding, GammaEncoding, RGBEEncoding, LogLuvEncoding, RGBM7Encoding, RGBM16Encoding, RGBDEncoding, BasicDepthPacking, RGBADepthPacking, BoxGeometry as CubeGeometry, Face4, LineStrip, LinePieces, MeshFaceMaterial, MultiMaterial, PointCloud, Particle, ParticleSystem, PointCloudMaterial, ParticleBasicMaterial, ParticleSystemMaterial, Vertex, DynamicBufferAttribute, Int8Attribute, Uint8Attribute, Uint8ClampedAttribute, Int16Attribute, Uint16Attribute, Int32Attribute, Uint32Attribute, Float32Attribute, Float64Attribute, ClosedSplineCurve3, SplineCurve3, Spline, AxisHelper, BoundingBoxHelper, EdgesHelper, WireframeHelper, XHRLoader, BinaryTextureLoader, GeometryUtils, ImageUtils, Projector, CanvasRenderer };\n","// ;(function() {\n\n\"use strict\";\n\nimport * as THREE from 'three';\n// var root = this\n\nvar has_require = typeof require !== 'undefined'\n\n// var THREE = root.THREE || has_require && require('three')\n// if( !THREE )\n  // throw new Error( 'EquirectangularToCubemap requires three.js' )\n\nfunction MeshLine() {\n\n  this.positions = [];\n\n  this.previous = [];\n  this.next = [];\n  this.side = [];\n  this.width = [];\n  this.indices_array = [];\n  this.uvs = [];\n  this.counters = [];\n  this.geometry = new THREE.BufferGeometry();\n\n  this.widthCallback = null;\n\n}\n\nMeshLine.prototype.setGeometry = function( g, c ) {\n\n  this.widthCallback = c;\n\n  this.positions = [];\n  this.counters = [];\n\n  if( g instanceof THREE.Geometry ) {\n    for( var j = 0; j < g.vertices.length; j++ ) {\n      var v = g.vertices[ j ];\n      var c = j/g.vertices.length;\n      this.positions.push( v.x, v.y, v.z );\n      this.positions.push( v.x, v.y, v.z );\n      this.counters.push(c);\n      this.counters.push(c);\n    }\n  }\n\n  if( g instanceof THREE.BufferGeometry ) {\n    // read attribute positions ?\n  }\n\n  if( g instanceof Float32Array || g instanceof Array ) {\n    for( var j = 0; j < g.length; j += 3 ) {\n      var c = j/g.length;\n      this.positions.push( g[ j ], g[ j + 1 ], g[ j + 2 ] );\n      this.positions.push( g[ j ], g[ j + 1 ], g[ j + 2 ] );\n      this.counters.push(c);\n      this.counters.push(c);\n    }\n  }\n\n  this.process();\n\n}\n\nMeshLine.prototype.compareV3 = function( a, b ) {\n\n  var aa = a * 6;\n  var ab = b * 6;\n  return ( this.positions[ aa ] === this.positions[ ab ] ) && ( this.positions[ aa + 1 ] === this.positions[ ab + 1 ] ) && ( this.positions[ aa + 2 ] === this.positions[ ab + 2 ] );\n\n}\n\nMeshLine.prototype.copyV3 = function( a ) {\n\n  var aa = a * 6;\n  return [ this.positions[ aa ], this.positions[ aa + 1 ], this.positions[ aa + 2 ] ];\n\n}\n\nMeshLine.prototype.process = function() {\n\n  var l = this.positions.length / 6;\n\n  this.previous = [];\n  this.next = [];\n  this.side = [];\n  this.width = [];\n  this.indices_array = [];\n  this.uvs = [];\n\n  for( var j = 0; j < l; j++ ) {\n    this.side.push( 1 );\n    this.side.push( -1 );\n  }\n\n  var w;\n  for( var j = 0; j < l; j++ ) {\n    if( this.widthCallback ) w = this.widthCallback( j / ( l -1 ) );\n    else w = 1;\n    this.width.push( w );\n    this.width.push( w );\n  }\n\n  for( var j = 0; j < l; j++ ) {\n    this.uvs.push( j / ( l - 1 ), 0 );\n    this.uvs.push( j / ( l - 1 ), 1 );\n  }\n\n  var v;\n\n  if( this.compareV3( 0, l - 1 ) ){\n    v = this.copyV3( l - 2 );\n  } else {\n    v = this.copyV3( 0 );\n  }\n  this.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n  this.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n  for( var j = 0; j < l - 1; j++ ) {\n    v = this.copyV3( j );\n    this.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n    this.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n  }\n\n  for( var j = 1; j < l; j++ ) {\n    v = this.copyV3( j );\n    this.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n    this.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n  }\n\n  if( this.compareV3( l - 1, 0 ) ){\n    v = this.copyV3( 1 );\n  } else {\n    v = this.copyV3( l - 1 );\n  }\n  this.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n  this.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\n  for( var j = 0; j < l - 1; j++ ) {\n    var n = j * 2;\n    this.indices_array.push( n, n + 1, n + 2 );\n    this.indices_array.push( n + 2, n + 1, n + 3 );\n  }\n\n  if (!this.attributes) {\n    this.attributes = {\n      position: new THREE.BufferAttribute( new Float32Array( this.positions ), 3 ),\n      previous: new THREE.BufferAttribute( new Float32Array( this.previous ), 3 ),\n      next: new THREE.BufferAttribute( new Float32Array( this.next ), 3 ),\n      side: new THREE.BufferAttribute( new Float32Array( this.side ), 1 ),\n      width: new THREE.BufferAttribute( new Float32Array( this.width ), 1 ),\n      uv: new THREE.BufferAttribute( new Float32Array( this.uvs ), 2 ),\n      index: new THREE.BufferAttribute( new Uint16Array( this.indices_array ), 1 ),\n      counters: new THREE.BufferAttribute( new Float32Array( this.counters ), 1 )\n    }\n  } else {\n    this.attributes.position.copyArray(new Float32Array(this.positions));\n    this.attributes.position.needsUpdate = true;\n    this.attributes.previous.copyArray(new Float32Array(this.previous));\n    this.attributes.previous.needsUpdate = true;\n    this.attributes.next.copyArray(new Float32Array(this.next));\n    this.attributes.next.needsUpdate = true;\n    this.attributes.side.copyArray(new Float32Array(this.side));\n    this.attributes.side.needsUpdate = true;\n    this.attributes.width.copyArray(new Float32Array(this.width));\n    this.attributes.width.needsUpdate = true;\n    this.attributes.uv.copyArray(new Float32Array(this.uvs));\n    this.attributes.uv.needsUpdate = true;\n    this.attributes.index.copyArray(new Uint16Array(this.indices_array));\n    this.attributes.index.needsUpdate = true;\n    }\n\n  this.geometry.addAttribute( 'position', this.attributes.position );\n  this.geometry.addAttribute( 'previous', this.attributes.previous );\n  this.geometry.addAttribute( 'next', this.attributes.next );\n  this.geometry.addAttribute( 'side', this.attributes.side );\n  this.geometry.addAttribute( 'width', this.attributes.width );\n  this.geometry.addAttribute( 'uv', this.attributes.uv );\n  this.geometry.addAttribute( 'counters', this.attributes.counters );\n\n  this.geometry.setIndex( this.attributes.index );\n\n}\n\nfunction memcpy (src, srcOffset, dst, dstOffset, length) {\n  var i\n\n  src = src.subarray || src.slice ? src : src.buffer\n  dst = dst.subarray || dst.slice ? dst : dst.buffer\n\n  src = srcOffset ? src.subarray ?\n  src.subarray(srcOffset, length && srcOffset + length) :\n  src.slice(srcOffset, length && srcOffset + length) : src\n\n  if (dst.set) {\n    dst.set(src, dstOffset)\n  } else {\n    for (i=0; i<src.length; i++) {\n      dst[i + dstOffset] = src[i]\n    }\n  }\n\n  return dst\n}\n\n/**\n * Fast method to advance the line by one position.  The oldest position is removed.\n * @param position\n */\nMeshLine.prototype.advance = function(position) {\n\n  var positions = this.attributes.position.array;\n  var previous = this.attributes.previous.array;\n  var next = this.attributes.next.array;\n  var l = positions.length;\n\n  // PREVIOUS\n  memcpy( positions, 0, previous, 0, l );\n\n  // POSITIONS\n  memcpy( positions, 6, positions, 0, l - 6 );\n\n  positions[l - 6] = position.x;\n  positions[l - 5] = position.y;\n  positions[l - 4] = position.z;\n  positions[l - 3] = position.x;\n  positions[l - 2] = position.y;\n  positions[l - 1] = position.z;\n\n    // NEXT\n  memcpy( positions, 6, next, 0, l - 6 );\n\n  next[l - 6]  = position.x;\n  next[l - 5]  = position.y;\n  next[l - 4]  = position.z;\n  next[l - 3]  = position.x;\n  next[l - 2]  = position.y;\n  next[l - 1]  = position.z;\n\n  this.attributes.position.needsUpdate = true;\n  this.attributes.previous.needsUpdate = true;\n  this.attributes.next.needsUpdate = true;\n\n};\n\nfunction MeshLineMaterial( parameters ) {\n\n  var vertexShaderSource = [\n    'precision highp float;',\n    '',\n    'attribute vec3 position;',\n    'attribute vec3 previous;',\n    'attribute vec3 next;',\n    'attribute float side;',\n    'attribute float width;',\n    'attribute vec2 uv;',\n    'attribute float counters;',\n    '',\n    'uniform mat4 projectionMatrix;',\n    'uniform mat4 modelViewMatrix;',\n    'uniform vec2 resolution;',\n    'uniform float lineWidth;',\n    'uniform vec3 color;',\n    'uniform float opacity;',\n    'uniform float near;',\n    'uniform float far;',\n    'uniform float sizeAttenuation;',\n    '',\n    'varying vec2 vUV;',\n    'varying vec4 vColor;',\n    'varying float vCounters;',\n    '',\n    'vec2 fix( vec4 i, float aspect ) {',\n    '',\n    '    vec2 res = i.xy / i.w;',\n    '    res.x *= aspect;',\n    '  vCounters = counters;',\n    '    return res;',\n    '',\n    '}',\n    '',\n    'void main() {',\n    '',\n    '    float aspect = resolution.x / resolution.y;',\n    '  float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);',\n    '',\n    '    vColor = vec4( color, opacity );',\n    '    vUV = uv;',\n    '',\n    '    mat4 m = projectionMatrix * modelViewMatrix;',\n    '    vec4 finalPosition = m * vec4( position, 1.0 );',\n    '    vec4 prevPos = m * vec4( previous, 1.0 );',\n    '    vec4 nextPos = m * vec4( next, 1.0 );',\n    '',\n    '    vec2 currentP = fix( finalPosition, aspect );',\n    '    vec2 prevP = fix( prevPos, aspect );',\n    '    vec2 nextP = fix( nextPos, aspect );',\n    '',\n    '  float pixelWidth = finalPosition.w * pixelWidthRatio;',\n    '    float w = 1.8 * pixelWidth * lineWidth * width;',\n    '',\n    '    if( sizeAttenuation == 1. ) {',\n    '        w = 1.8 * lineWidth * width;',\n    '    }',\n    '',\n    '    vec2 dir;',\n    '    if( nextP == currentP ) dir = normalize( currentP - prevP );',\n    '    else if( prevP == currentP ) dir = normalize( nextP - currentP );',\n    '    else {',\n    '        vec2 dir1 = normalize( currentP - prevP );',\n    '        vec2 dir2 = normalize( nextP - currentP );',\n    '        dir = normalize( dir1 + dir2 );',\n    '',\n    '        vec2 perp = vec2( -dir1.y, dir1.x );',\n    '        vec2 miter = vec2( -dir.y, dir.x );',\n    '        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );',\n    '',\n    '    }',\n    '',\n    '    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;',\n    '    vec2 normal = vec2( -dir.y, dir.x );',\n    '    normal.x /= aspect;',\n    '    normal *= .5 * w;',\n    '',\n    '    vec4 offset = vec4( normal * side, 0.0, 1.0 );',\n    '    finalPosition.xy += offset.xy;',\n    '',\n    '    gl_Position = finalPosition;',\n    '',\n    '}' ];\n\n  var fragmentShaderSource = [\n    '#extension GL_OES_standard_derivatives : enable',\n    'precision mediump float;',\n    '',\n    'uniform sampler2D map;',\n    'uniform sampler2D alphaMap;',\n    'uniform float useMap;',\n    'uniform float useAlphaMap;',\n    'uniform float useDash;',\n    'uniform vec2 dashArray;',\n    'uniform float visibility;',\n    'uniform float alphaTest;',\n    'uniform vec2 repeat;',\n    '',\n    'varying vec2 vUV;',\n    'varying vec4 vColor;',\n    'varying float vCounters;',\n    '',\n    'void main() {',\n    '',\n    '    vec4 c = vColor;',\n    '    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );',\n    '    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;',\n    '  if( c.a < alphaTest ) discard;',\n    '  if( useDash == 1. ){',\n    '    ',\n    '  }',\n    '    gl_FragColor = c;',\n    '  gl_FragColor.a *= step(vCounters,visibility);',\n    '}' ];\n\n  function check(v, d) {\n    if(v === undefined) return d;\n    return v;\n  }\n\n  THREE.Material.call(this);\n\n  parameters = parameters || {};\n\n  this.lineWidth = check( parameters.lineWidth, 1 );\n  this.map = check( parameters.map, null );\n  this.useMap = check( parameters.useMap, 0 );\n  this.alphaMap = check( parameters.alphaMap, null );\n  this.useAlphaMap = check( parameters.useAlphaMap, 0 );\n  this.color = check( parameters.color, new THREE.Color( 0xffffff ) );\n  this.opacity = check( parameters.opacity, 1 );\n  this.resolution = check( parameters.resolution, new THREE.Vector2( 1, 1 ) );\n  this.sizeAttenuation = check( parameters.sizeAttenuation, 1 );\n  this.near = check( parameters.near, 1 );\n  this.far = check( parameters.far, 1 );\n  this.dashArray = check( parameters.dashArray, [] );\n  this.useDash = ( this.dashArray !== [] ) ? 1 : 0;\n  this.visibility = check( parameters.visibility, 1 );\n  this.alphaTest = check( parameters.alphaTest, 0 );\n  this.repeat = check( parameters.repeat, new THREE.Vector2( 1, 1 ) );\n\n  var material = new THREE.RawShaderMaterial( {\n    uniforms:{\n      lineWidth: { type: 'f', value: this.lineWidth },\n      map: { type: 't', value: this.map },\n      useMap: { type: 'f', value: this.useMap },\n      alphaMap: { type: 't', value: this.alphaMap },\n      useAlphaMap: { type: 'f', value: this.useAlphaMap },\n      color: { type: 'c', value: this.color },\n      opacity: { type: 'f', value: this.opacity },\n      resolution: { type: 'v2', value: this.resolution },\n      sizeAttenuation: { type: 'f', value: this.sizeAttenuation },\n      near: { type: 'f', value: this.near },\n      far: { type: 'f', value: this.far },\n      dashArray: { type: 'v2', value: new THREE.Vector2( this.dashArray[ 0 ], this.dashArray[ 1 ] ) },\n      useDash: { type: 'f', value: this.useDash },\n      visibility: {type: 'f', value: this.visibility},\n      alphaTest: {type: 'f', value: this.alphaTest},\n      repeat: { type: 'v2', value: this.repeat }\n    },\n    vertexShader: vertexShaderSource.join('\\r\\n'),\n    fragmentShader: fragmentShaderSource.join('\\r\\n')\n  });\n\n  delete parameters.lineWidth;\n  delete parameters.map;\n  delete parameters.useMap;\n  delete parameters.alphaMap;\n  delete parameters.useAlphaMap;\n  delete parameters.color;\n  delete parameters.opacity;\n  delete parameters.resolution;\n  delete parameters.sizeAttenuation;\n  delete parameters.near;\n  delete parameters.far;\n  delete parameters.dashArray;\n  delete parameters.visibility;\n  delete parameters.alphaTest;\n  delete parameters.repeat;\n\n  material.type = 'MeshLineMaterial';\n\n  material.setValues(parameters);\n\n  return material;\n}\n\nMeshLineMaterial.prototype = Object.create(THREE.Material.prototype);\nMeshLineMaterial.prototype.constructor = MeshLineMaterial;\n\nMeshLineMaterial.prototype.copy = (source) => {\n  THREE.Material.prototype.copy.call(this, source);\n  this.lineWidth = source.lineWidth;\n  this.map = source.map;\n  this.useMap = source.useMap;\n  this.alphaMap = source.alphaMap;\n  this.useAlphaMap = source.useAlphaMap;\n  this.color.copy(source.color);\n  this.opacity = source.opacity;\n  this.resolution.copy(source.resolution);\n  this.sizeAttenuation = source.sizeAttenuation;\n  this.near = source.near;\n  this.far = source.far;\n  this.dashArray.copy(source.dashArray);\n  this.useDash = source.useDash;\n  this.visibility = source.visibility;\n  this.alphaTest = source.alphaTest;\n  this.repeat.copy(source.repeat);\n  return this;\n};\n\nif (typeof exports !== 'undefined') {\n  if (typeof module !== 'undefined' && module.exports) {\n    exports = { MeshLine, MeshLineMaterial };\n    module.exports = { MeshLine, MeshLineMaterial };\n  }\n  exports.MeshLine = MeshLine;\n  exports.MeshLineMaterial = MeshLineMaterial;\n} else {\n  root.MeshLine = MeshLine;\n  root.MeshLineMaterial = MeshLineMaterial;\n}\n\n// }).call(this);\n","export default function(d) {\n  var x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\n\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      x1 = tree._x1,\n      xm,\n      xp,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var i, n = data.length,\n      x,\n      xz = new Array(n),\n      x0 = Infinity,\n      x1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0).cover(x1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\n\nexport default function binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = binarytree.prototype = Binarytree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(2)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(2)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d),\n      z = +this._z.call(null, d);\n  return add(this.cover(x, y, z), x, y, z, d);\n}\n\nfunction add(tree, x, y, z, d) {\n  if (isNaN(x) || isNaN(y) || isNaN(z)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      z0 = tree._z0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      z1 = tree._z1,\n      xm,\n      ym,\n      zm,\n      xp,\n      yp,\n      zp,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (parent = node, !(node = node[i = deep << 2 | bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  zp = +tree._z.call(null, node.data);\n  if (x === xp && y === yp && z === zp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(8) : tree._root = new Array(8);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n  } while ((i = deep << 2 | bottom << 1 | right) === (j = (zp >= zm) << 2 | (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      z,\n      xz = new Array(n),\n      yz = new Array(n),\n      zz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      z0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity,\n      z1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    zz[i] = z;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n    if (z < z0) z0 = z;\n    if (z > z1) z1 = z;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n  if (z1 < z0) z0 = this._z0, z1 = this._z1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0, z0).cover(x1, y1, z1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], zz[i], data[i]);\n  }\n\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","export function defaultZ(d) {\n  return d[2];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._z = _, this) : this._z;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\nimport tree_z, {defaultZ} from \"./z\";\n\nexport default function octree(nodes, x, y, z) {\n  var tree = new Octree(x == null ? defaultX : x, y == null ? defaultY : y, z == null ? defaultZ : z, NaN, NaN, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Octree(x, y, z, x0, y0, z0, x1, y1, z1) {\n  this._x = x;\n  this._y = y;\n  this._z = z;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = octree.prototype = Octree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Octree(this._x, this._y, this._z, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(8)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 8; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(8)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\ntreeProto.z = tree_z;\n","/* global window, document, navigator, XMLHttpRequest, performance */\n\nimport * as THREE from 'three';\nimport * as MeshLine from '../three_modules/THREE.MeshLine';\nimport StereoEffect from '../three_modules/StereoEffect';\nimport VRControls from '../three_modules/VRControls';\n\nimport * as d3Force from 'd3-force-3d';\nimport '../node_modules/webvr-polyfill/build/webvr-polyfill.min'; // eslint-disable-line no-unused-vars\nimport NoSleep from '../node_modules/nosleep.js/dist/NoSleep';\n\nimport { generateTextureCanvas } from './generateTextureCanvas';\n// import { generateCurveGeometry } from './generateCurveGeometry';\n// import { generateHorizon } from './generateHorizon';\n// import { generateFloor } from './generateFloor';\n\nimport * as sphereMaterials from './materials/sphereMaterials';\n// import * as lineMaterials from './materials/lineMaterials';\n\n\n/* Unused Modules */\n// import * as datguivr from '../node_modules/datguivr/modules/datguivr'; // <-- huge problem\n// import '../node_modules/datguivr/build/datguivr';\n// import 'three/VREffect';\n// import * as webvrui from 'webvr-ui';\n// import '../node_modules/three/examples/js/shaders/CopyShader.js';\n// import '../node_modules/three/examples/js/shaders/RGBShiftShader.js';\n// import '../node_modules/three/examples/js/postprocessing/EffectComposer.js';\n// import '../node_modules/three/examples/js/postprocessing/RenderPass.js';\n// import '../node_modules/three/examples/js/postprocessing/ShaderPass.js';\n/* Unused Modules */\n\n\nconst noSleep = new NoSleep();\n\n// export function initVis() {\n// console.log(THREE);\n// }\n\nlet vrDisplay; // Currently active VRDisplay.\nconst stageSize = 10;\n\n// // Various global THREE.Objects.\nlet scene;\nlet controls;\nlet effect;\nlet camera;\nlet renderer;\n// // let composer;\n\nconst cursor = new THREE.Group();\n// // let raycaster;\n// // let intersected;\n// // let timer = null;\n// // let vrButton; // EnterVRButton for rendering enter/exit UI.\n\n// // let data = {};\n// // const sceneObjects = {\n// //   nodes: new THREE.Group(),\n// //   links: new THREE.Group(),\n// // };\n\n// // const state = {\n// //   vrEnabled: false,\n// //   layoutMode: 1,\n// //   isTransitioning: false,\n// // };\n\n// // const linkScale = {\n// //   min: 0.5,\n// //   max: 5,\n// // };\n\n// // function layoutByColumns() {\n// //   const perRow = 10;\n\n// //   // data.nodes.sort((a, b) => a.linkCount < b.linkCount);\n// //   data.nodes.sort((a, b) => a.rank > b.rank);\n\n// //   data.nodes = data.nodes.map((n, i) => {\n// //     n.pos = new THREE.Vector3(\n// //       Math.cos(((Math.PI * 2) / perRow) * i) * (stageSize / 2),\n// //       (controls.userHeight / 2) + Math.floor(i / perRow),\n// //       Math.sin(((Math.PI * 2) / perRow) * i) * (stageSize / 2),\n// //     );\n// //     return n;\n// //   });\n\n// //   data.links = data.links.map((l) => {\n// //     l.spos = data.nodes.filter(n => l.sourceId === n.id)[0].pos;\n// //     l.tpos = data.nodes.filter(n => l.targetId === n.id)[0].pos;\n// //     return l;\n// //   });\n// // }\n\n// // function updateNetwork() {\n// //   sceneObjects.nodes.children.forEach((n) => {\n// //     const [nd] = data.nodes.filter(d => d.id === n.userData.id);\n// //     n.userData.nextPos = nd.pos;\n// //   });\n// //   sceneObjects.links.children.forEach((l) => {\n// //     l.userData.nextSPos = data.nodes.filter(n => l.userData.source === n.id)[0].pos;\n// //     l.userData.nextTPos = data.nodes.filter(n => l.userData.target === n.id)[0].pos;\n// //   });\n// // }\n\n// // function scaleValue(value, domain, range) {\n// //   return (((value - domain.min) * range.max) / domain.max) + range.min;\n// // }\n\n// // function layoutByForce() {\n// //   const simulation = d3Force.forceSimulation()\n// //     .numDimensions(3)\n// //     .nodes(data.nodes)\n// //     .force('link', d3Force.forceLink().id(d => d.id).links(data.links))\n// //     // .force('charge', d3Force.forceManyBody().strength(-10)) // 1, -1,\n// //     // .force('charge', d3Force.forceManyBody().strength(d => d.linkCount)) // 1, -1,\n// //     .force('charge', d3Force.forceManyBody().strength(-1)) // 1, -1,\n// //     .force('center', d3Force.forceCenter());\n\n// //   simulation.on('end', () => {\n// //     const dimensionMap = {};\n// //     ['x', 'y', 'z'].forEach((d) => {\n// //       const values = simulation.nodes().map(n => n[d]);\n// //       dimensionMap[d] = {\n// //         min: Math.min.apply(null, values),\n// //         max: Math.max.apply(null, values),\n// //       };\n// //     });\n\n// //     const offset = new THREE.Vector3(-stageSize, -controls.userHeight, -stageSize);\n// //     data.nodes = simulation.nodes().map((n) => {\n// //       n.pos = new THREE.Vector3(\n// //         scaleValue(n.x, dimensionMap.x, { min: 0, max: stageSize }),\n// //         scaleValue(n.y, dimensionMap.y, { min: 0, max: controls.userHeight * 2.5 }),\n// //         scaleValue(n.z, dimensionMap.z, { min: 0, max: stageSize }),\n// //       )\n// //         .add(offset);\n// //       return n;\n// //     });\n\n// //     data.links = data.links.map((l) => {\n// //       l.spos = data.nodes.filter(n => l.sourceId === n.id)[0].pos;\n// //       l.tpos = data.nodes.filter(n => l.targetId === n.id)[0].pos;\n// //       return l;\n// //     });\n\n// //     updateNetwork();\n// //   });\n// // }\n\n// // function layoutByRandom() {\n// //   data.nodes = data.nodes.map((n) => {\n// //     n.pos = new THREE.Vector3(\n// //       (0.5 - Math.random()) * (stageSize),\n// //       (controls.userHeight / 2) + (Math.random() * controls.userHeight),\n// //       (0.5 - Math.random()) * (stageSize),\n// //     );\n// //     return n;\n// //   });\n// //   data.links = data.links.map((l) => {\n// //     l.spos = data.nodes.filter(n => l.sourceId === n.id)[0].pos;\n// //     l.tpos = data.nodes.filter(n => l.targetId === n.id)[0].pos;\n// //     return l;\n// //   });\n// // }\n\n// // function layoutNetwork() {\n// //   switch (state.layoutMode) {\n// //     case 0:\n// //       layoutByColumns();\n// //       updateNetwork();\n// //       break;\n// //     case 1:\n// //       layoutByForce();\n// //       break;\n// //     default:\n// //       layoutByRandom();\n// //       updateNetwork();\n// //       break;\n// //   }\n// // }\n\n// // // state.reset = () => {\n// // //   state.layoutMode = 1;\n// // //   layoutNetwork();\n// // // };\n\n// // function onResize() {\n// //   camera.aspect = window.innerWidth / window.innerHeight;\n// //   camera.updateProjectionMatrix();\n// //   //\n// //   renderer.setSize(window.innerWidth, window.innerHeight);\n// //   // composer.setSize(window.innerWidth, window.innerHeight);\n// //   effect.setSize(window.innerWidth, window.innerHeight);\n// //   //\n// // }\n\n// // function enableNoSleep() {\n// //   noSleep.enable();\n// //   window.removeEventListener('touchstart', enableNoSleep, true);\n// // }\n\n// // function toggleVREnabled() {\n// //   state.vrEnabled = !state.vrEnabled;\n// //   //\n// //   if (state.vrEnabled) {\n// //     document.querySelector('#vrbutton').classList.add('enabled');\n// //   } else {\n// //     document.querySelector('#vrbutton').classList.remove('enabled');\n// //   }\n// //   //\n// //   renderer.setSize(window.innerWidth, window.innerHeight);\n// //   effect.setSize(window.innerWidth, window.innerHeight);\n// // }\n\nexport function setupScene() {\n  // Setup three.js WebGL renderer. Note: Antialiasing is a big performance hit.\n  // Only enable it if you actually need to.\n  renderer = new THREE.WebGLRenderer({\n    antialias: true,\n  });\n\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  document.body.appendChild(renderer.domElement);\n  scene = new THREE.Scene(); // Create a three.js scene.\n\n  // Create a three.js camera.\n  const aspect = window.innerWidth / window.innerHeight;\n  camera = new THREE.PerspectiveCamera(75, aspect, 0.01, 10000);\n  controls = new VRControls(camera);\n  controls.standing = true;\n  camera.position.y = controls.userHeight;\n\n  const ctx = renderer.context; // Quiet shader complaint log: GL_ARB_gpu_shader5\n  ctx.getShaderInfoLog = () => '';\n\n  // scene.add(generateHorizon());\n  // scene.add(generateFloor(stageSize, controls.userHeight));\n\n  const basicCursor = new THREE.Mesh(\n    new THREE.RingGeometry(0.02, 0.03, 24),\n    new THREE.MeshBasicMaterial({\n      color: 0xffffff,\n      opacity: 0.5,\n      transparent: true,\n    }),\n  );\n  const innerCursor = new THREE.Mesh(\n    new THREE.RingGeometry(0.018, 0.02, 24),\n    new THREE.MeshBasicMaterial({\n      color: 0x000000,\n      opacity: 0.5,\n      transparent: true,\n    }),\n  );\n  const outerCursor = new THREE.Mesh(\n    new THREE.RingGeometry(0.03, 0.032, 24),\n    new THREE.MeshBasicMaterial({\n      color: 0x000000,\n      opacity: 0.5,\n      transparent: true,\n    }),\n  );\n  const highlightCursor = new THREE.Mesh(\n    new THREE.RingGeometry(0.02, 0.03, 24, 8, 0, 0),\n    new THREE.MeshBasicMaterial({\n      color: 0xff7700,\n      opacity: 1.0,\n      transparent: true,\n    }),\n  );\n  cursor.add(basicCursor);\n  cursor.add(innerCursor);\n  cursor.add(outerCursor);\n  cursor.add(highlightCursor);\n  cursor.position.z = -1;\n\n  camera.add(cursor);\n  scene.add(camera);\n\n  // raycaster = new THREE.Raycaster();\n\n  // Postprocessing\n\n  // composer = new THREE.EffectComposer(renderer);\n  // composer.addPass(new THREE.RenderPass(scene, camera));\n\n  // const shader = new THREE.ShaderPass(THREE.RGBShiftShader);\n  // shader.uniforms.amount.value = 0.0015;\n  // // // shader.uniforms.amount.value = 0.5;\n  // shader.renderToScreen = true;\n  // composer.addPass(shader);\n\n  // console.log(renderer);\n  // console.log(composer);\n\n  // Apply VR stereo rendering to renderer.\n  // effect = new THREE.VREffect(renderer);\n  // effect = new THREE.StereoEffect(renderer);\n  effect = new StereoEffect(renderer);\n  effect.setSize(window.innerWidth, window.innerHeight);\n  //\n\n  // Event Listeners\n  // window.addEventListener('resize', onResize, true);\n  // window.addEventListener('vrdisplaypresentchange', onResize, true);\n  // window.addEventListener('touchstart', enableNoSleep, true);\n\n  // Initialize the WebVR UI.\n  // const uiOptions = {\n  //   color: 'black',\n  //   background: 'white',\n  //   corners: 'square',\n  // };\n  // vrButton = new webvrui.EnterVRButton(renderer.domElement, uiOptions);\n  // vrButton.on('exit', () => {\n  //   camera.quaternion.set(0, 0, 0, 1);\n  //   camera.position.set(0, controls.userHeight, 3);\n  // });\n  // vrButton.on('hide', () => {\n  //   document.getElementById('ui').style.display = 'none';\n  // });\n  // vrButton.on('show', () => {\n  //   document.getElementById('ui').style.display = 'inherit';\n  // });\n  // document.getElementById('vr-button').appendChild(vrButton.domElement);\n  // document.getElementById('vr-button').addEventListener('click', () => {\n  //   // vrButton.requestEnterFullscreen();\n  //   toggleVREnabled();\n  // });\n\n  // document.querySelector('#vrbutton').addEventListener('click', toggleVREnabled, true);\n\n  // // Setup datguivr\n  // // if (vrButton.isPresenting) {\n  // // datguivr.disableMouse();\n  // // } else {\n  // datguivr.enableMouse(camera, renderer);\n  // // }\n  // const gazeInput = datguivr.addInputObject(camera);\n  // scene.add(gazeInput.cursor);\n\n  // const gui = datguivr.create('Settings');\n  // // gui.position.set(-1.5, (controls.userHeight / 2) * 1, -0.75);\n  // gui.position.set(-1.5, (controls.userHeight / 2) * 1, -0.75);\n  // gui.rotation.set((Math.PI / 180) * -45, (Math.PI / 180) * 45, (Math.PI / 180) * 30);\n  // // gui.rotation.set((Math.PI / 180) * -45, 0, 0);\n  // scene.add(gui);\n\n  // // gui.add(state, 'linkWidth', 0.1, 1.0).step(0.01).listen().onChange(updateLineMaterial);\n  // gui.add(state, 'layoutMode', { Columns: 0, Force: 1, Random: 2 }).listen().onChange(layoutNetwork);\n  // // gui.add(state, 'reset');\n\n  // ['touchstart'].forEach((e) => {\n  //   window.addEventListener(e, () => {\n  //     gazeInput.pressed(true);\n  //   }, false);\n  // });\n  // ['touchend'].forEach((e) => {\n  //   window.addEventListener(e, () => {\n  //     gazeInput.pressed(false);\n  //   }, false);\n  // });\n  animate();\n}\n\n// // function resetIntersected() {\n// //   intersected.scale.set(1, 1, 1);\n// //   intersected.children.forEach((c) => {\n// //     if (c.userData.type !== 'text') {\n// //       c.material = c.currentMaterial;\n// //     }\n// //   });\n// // }\n\n// // function highlightIntersected() {\n// //   raycaster.setFromCamera({ x: 0, y: 0 }, camera);\n// //   const intersects = raycaster.intersectObjects(sceneObjects.nodes.children, true);\n// //   if (intersects.length > 0) {\n// //     let searching = true;\n// //     let index = 0;\n// //     let nextIntersected = null;\n// //     //\n// //     let foundCurrent = false;\n// //     intersects.forEach((o) => {\n// //       if (\n// //         o.object.parent === intersected\n// //         &&\n// //         o.object.userData.type !== 'text'\n// //       ) {\n// //         foundCurrent = true;\n// //       }\n// //     });\n// //     //\n// //     while (searching) {\n// //       if (\n// //         intersects[index].object.parent !== intersected\n// //         &&\n// //         (\n// //           intersects[index].distance > (stageSize / 2)\n// //             ||\n// //           intersects[index].object.userData.type !== 'text'\n// //         )\n// //       ) {\n// //         nextIntersected = intersects[index].object;\n// //         searching = false;\n// //       }\n// //       index += 1;\n// //       if (index > intersects.length - 1) {\n// //         searching = false;\n// //       }\n// //     }\n// //     //\n// //     if (nextIntersected !== null) {\n// //       if (intersected) {\n// //         resetIntersected();\n// //       }\n// //       timer = 0;\n// //       intersected = nextIntersected.parent;\n// //       sceneObjects.links.children.forEach((l) => {\n// //         if (l.userData.source === intersected.userData.id) {\n// //           l.material = lineMaterials.highlightOut;\n// //         } else if (l.userData.target === intersected.userData.id) {\n// //           l.material = lineMaterials.highlightIn;\n// //         } else {\n// //           l.material = lineMaterials.basic;\n// //         }\n// //       });\n// //       const scaleBy = Math.ceil(intersected.position.distanceTo(camera.position) / 2);\n// //       intersected.scale.set(scaleBy, scaleBy, scaleBy);\n// //       intersected.children.forEach((c) => {\n// //         if (c.userData.type !== 'text') {\n// //           c.currentMaterial = c.material;\n// //           c.material = sphereMaterials.highlight;\n// //         }\n// //       });\n// //     }\n// //     //\n// //     if (foundCurrent && timer === null) {\n// //       timer = 0;\n// //     } else if (!foundCurrent && timer !== null) {\n// //       timer = null;\n// //       cursor.children[3].geometry = new THREE.RingGeometry(0.02, 0.03, 24, 8, 0, 0);\n// //     }\n// //   } else {\n// //     timer = null;\n// //     cursor.children[3].geometry = new THREE.RingGeometry(0.02, 0.03, 24, 8, 0, 0);\n// //   }\n// // }\n\n// // function transitionElements() {\n// //   let countTransitioning = 0;\n// //   sceneObjects.nodes.children.forEach((n) => {\n// //     if (n.position.distanceTo(n.userData.nextPos) > 0.01) {\n// //       const tpos = new THREE.Vector3(\n// //         n.position.x,\n// //         n.position.y,\n// //         n.position.z,\n// //       ).lerp(n.userData.nextPos, 0.1);\n// //       n.position.set(tpos.x, tpos.y, tpos.z);\n// //       countTransitioning += 1;\n// //     }\n// //     n.quaternion.copy(camera.quaternion);\n// //   });\n\n// //   if (countTransitioning > 0) {\n// //     state.isTransitioning = true;\n// //   } else {\n// //     state.isTransitioning = false;\n// //   }\n\n// //   if (state.isTransitioning) {\n// //     sceneObjects.links.children.forEach((l) => {\n// //       l.material.visible = false;\n// //     });\n// //   } else {\n// //     sceneObjects.links.children.forEach((l) => {\n// //       l.material.visible = true;\n// //       if (\n// //         (l.userData.spos.distanceTo(l.userData.nextSPos) > 0.01)\n// //         ||\n// //         (l.userData.tpos.distanceTo(l.userData.nextTPos) > 0.01)\n// //       ) {\n// //         l.material.visible = true;\n// //         l.userData.spos = new THREE.Vector3(\n// //           l.userData.nextSPos.x,\n// //           l.userData.nextSPos.y,\n// //           l.userData.nextSPos.z,\n// //         );\n// //         l.userData.tpos = new THREE.Vector3(\n// //           l.userData.nextTPos.x,\n// //           l.userData.nextTPos.y,\n// //           l.userData.nextTPos.z,\n// //         );\n// //         const lineGeometry = generateCurveGeometry(\n// //           l.userData.spos,\n// //           l.userData.tpos,\n// //           controls.userHeight,\n// //         );\n// //         const line = new MeshLine();\n// //         line.setGeometry(\n// //           lineGeometry,\n// //           () => scaleValue(l.userData.value, { min: 1, max: 100 }, linkScale),\n// //         );\n// //         const lineMesh = new THREE.Mesh(line.geometry, lineMaterials.basic);\n// //         l.geometry = lineMesh.geometry;\n// //         l.geometry.attributes.position.needsUpdate = true;\n// //       }\n// //     });\n// //   }\n// // }\n\n// // // Request animation frame loop function\nfunction animate() {\n//   const time = performance.now() * 0.01;\n//   lineMaterials.basic.uniforms.time.value = time;\n//   lineMaterials.highlightOut.uniforms.time.value = time;\n//   lineMaterials.highlightIn.uniforms.time.value = time;\n\n//   transitionElements();\n\n//   if (!state.isTransitioning) {\n//     highlightIntersected();\n//     //\n//     if (timer !== null) {\n//       if (timer < Math.PI * 2) {\n//         timer += Math.PI / 60;\n//         cursor.children[3].geometry = new THREE.RingGeometry(0.02, 0.03, 24, 8, -timer, timer);\n//       } else {\n//         // console.log('do transition now');\n//       }\n//     }\n//   } else {\n//     timer = null;\n//     cursor.children[3].geometry = new THREE.RingGeometry(0.02, 0.03, 24, 8, 0, 0);\n//   }\n\n//   controls.update();\n//   // if (vrButton.isPresenting()) { // } // Only update controls if we're presenting.\n\n//   // renderer.clear();\n//   // effect.render(scene, camera); // Render the scene.\n//   // composer.render();\n//   // renderer.render(scene, camera);\n\n//   // var vrRenderFunction = renderer.render;\n//   // renderer.render = ogRenderFunction;\n//   // renderer.render = vrRenderFunction;\n\n//   // effect = new THREE.VREffect(composer.renderer);\n//   // effect.setSize(window.innerWidth, window.innerHeight);\n//   if (state.vrEnabled) {\n//     effect.render(scene, camera); // Render the scene.\n//   } else {\n    renderer.render(scene, camera);\n//   }\n//   // composer.render();\n\n  // vrDisplay.requestAnimationFrame(animate);\n}\n\n// // // Get the HMD, and if we're dealing with something that specifies\n// // // stageParameters, rearrange the scene.\n// // function setupStage() {\n// //   navigator.getVRDisplays().then((displays) => {\n// //     if (displays.length > 0) {\n// //       [vrDisplay] = displays;\n// //       if (vrDisplay.stageParameters) {\n// //         // TODO: Handle Stage Updates\n// //         // setStageDimensions(vrDisplay.stageParameters);\n// //       }\n// //       vrDisplay.requestAnimationFrame(animate);\n// //     }\n// //   });\n// // }\n\n// // function drawNetwork() {\n// //   layoutByRandom();\n\n// //   data.links.forEach((l) => {\n// //     const lineGeometry = generateCurveGeometry(l.spos, l.tpos, controls.userHeight);\n// //     const line = new MeshLine();\n// //     line.setGeometry(\n// //       lineGeometry,\n// //       () => scaleValue(l.value, { min: 1, max: 100 }, linkScale),\n// //     );\n// //     const lineMesh = new THREE.Mesh(line.geometry, lineMaterials.basic);\n// //     lineMesh.userData.source = l.source;\n// //     lineMesh.userData.spos = l.spos;\n// //     lineMesh.userData.target = l.target;\n// //     lineMesh.userData.tpos = l.tpos;\n// //     lineMesh.userData.value = l.value;\n// //     sceneObjects.links.add(lineMesh);\n// //   });\n// //   scene.add(sceneObjects.links);\n\n// //   const sphereGeometry = new THREE.SphereGeometry(0.1, 18, 18);\n// //   data.nodes.forEach((d) => {\n// //     const node = new THREE.Group();\n// //     node.userData.name = d.name;\n// //     node.userData.id = d.id;\n// //     node.position.set(d.pos.x, d.pos.y, d.pos.z);\n// //     const sphere = new THREE.Mesh(sphereGeometry, sphereMaterials.basic);\n// //     //\n// //     // const sphereScale = scaleValue(50 - d.rank, { min: 1, max: 50 }, { min: 0.25, max: 1.0 });\n// //     // sphere.scale.set(sphereScale, sphereScale, sphereScale);\n// //     //\n// //     sphere.userData.type = 'sphere';\n// //     node.add(sphere);\n// //     const text = generateTextureCanvas(`${d.rank}: ${d.name}`, 64, 1024, 256);\n// //     text.scale.set(0.001, 0.001, 0.001);\n// //     text.position.set(0, 0, 0.15);\n// //     text.userData.type = 'text';\n// //     node.add(text);\n// //     sceneObjects.nodes.add(node);\n// //   });\n// //   scene.add(sceneObjects.nodes);\n\n// //   setupStage();\n\n// //   updateNetwork();\n\n// //   layoutByForce();\n// // }\n\n// // function onDataLoad() {\n// //   if (this.status >= 200 && this.status < 400) {\n// //     data = JSON.parse(this.response);\n// //     data.links = data.links.map((l) => {\n// //       l.sourceId = l.source;\n// //       l.targetId = l.target;\n// //       return l;\n// //     });\n// //     data.nodes = data.nodes.map((n) => {\n// //       n.linkCount = data.links.filter(l => (l.sourceId === n.id || l.targetId === n.id)).length;\n// //       return n;\n// //     });\n// //     data.nodes = data.nodes.filter(n => n.linkCount);\n// //     drawNetwork();\n// //   } else {\n// //     // console.warn(this.status);\n// //   }\n// // }\n\n// // function loadData() {\n// //   const request = new XMLHttpRequest();\n// //   request.open('GET', 'data/show-data.json', true);\n// //   request.onload = onDataLoad;\n// //   request.onerror = () => {\n// //     // console.warn('Request error');\n// //     // console.warn(this);\n// //   };\n// //   request.send();\n// // }\n\n// // // function setStageDimensions(stage) {\n// // //     // Make the skybox fit the stage.\n// // //     const material = skybox.material;\n// // //     scene.remove(skybox);\n\n// // //     // Size the skybox according to the size of the actual stage.\n// // //     const geometry = new THREE.BoxGeometry(stage.sizeX, stageSize, stage.sizeZ);\n// // //     skybox = new THREE.Mesh(geometry, material);\n\n// // //     // Place it on the floor.\n// // //     skybox.position.y = stageSize / 2;\n// // //     scene.add(skybox);\n\n// // //     // Place the cube in the middle of the scene, at user height.\n// // //     cube.position.set(0, controls.userHeight, 0);\n// // // }\n\n// function onLoad() {\n//   setupScene();\n// //   loadData();\n// }\n\n// window.addEventListener('load', onLoad);\n","/**\n * @author dmarcos / https://github.com/dmarcos\n * @author mrdoob / http://mrdoob.com\n */\nimport * as THREE from 'three';\n\n// THREE.VRControls = function ( object, onError ) {\nexport default function VRControls ( object, onError ) {\n\n\tvar scope = this;\n\n\tvar vrDisplay, vrDisplays;\n\n\tvar standingMatrix = new THREE.Matrix4();\n\n\tvar frameData = null;\n\n\tif ( 'VRFrameData' in window ) {\n\n\t\tframeData = new VRFrameData();\n\n\t}\n\n\tfunction gotVRDisplays( displays ) {\n\n\t\tvrDisplays = displays;\n\n\t\tif ( displays.length > 0 ) {\n\n\t\t\tvrDisplay = displays[ 0 ];\n\n\t\t} else {\n\n\t\t\tif ( onError ) onError( 'VR input not available.' );\n\n\t\t}\n\n\t}\n\n\tif ( navigator.getVRDisplays ) {\n\n\t\tnavigator.getVRDisplays().then( gotVRDisplays ).catch( function () {\n\n\t\t\tconsole.warn( 'THREE.VRControls: Unable to get VR Displays' );\n\n\t\t} );\n\n\t}\n\n\t// the Rift SDK returns the position in meters\n\t// this scale factor allows the user to define how meters\n\t// are converted to scene units.\n\n\tthis.scale = 1;\n\n\t// If true will use \"standing space\" coordinate system where y=0 is the\n\t// floor and x=0, z=0 is the center of the room.\n\tthis.standing = false;\n\n\t// Distance from the users eyes to the floor in meters. Used when\n\t// standing=true but the VRDisplay doesn't provide stageParameters.\n\tthis.userHeight = 1.6;\n\n\tthis.getVRDisplay = function () {\n\n\t\treturn vrDisplay;\n\n\t};\n\n\tthis.setVRDisplay = function ( value ) {\n\n\t\tvrDisplay = value;\n\n\t};\n\n\tthis.getVRDisplays = function () {\n\n\t\tconsole.warn( 'THREE.VRControls: getVRDisplays() is being deprecated.' );\n\t\treturn vrDisplays;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.update = function () {\n\n\t\tif ( vrDisplay ) {\n\n\t\t\tvar pose;\n\n\t\t\tif ( vrDisplay.getFrameData ) {\n\n\t\t\t\tvrDisplay.getFrameData( frameData );\n\t\t\t\tpose = frameData.pose;\n\n\t\t\t} else if ( vrDisplay.getPose ) {\n\n\t\t\t\tpose = vrDisplay.getPose();\n\n\t\t\t}\n\n\t\t\tif ( pose.orientation !== null ) {\n\n\t\t\t\tobject.quaternion.fromArray( pose.orientation );\n\n\t\t\t}\n\n\t\t\tif ( pose.position !== null ) {\n\n\t\t\t\tobject.position.fromArray( pose.position );\n\n\t\t\t} else {\n\n\t\t\t\tobject.position.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tif ( this.standing ) {\n\n\t\t\t\tif ( vrDisplay.stageParameters ) {\n\n\t\t\t\t\tobject.updateMatrix();\n\n\t\t\t\t\tstandingMatrix.fromArray( vrDisplay.stageParameters.sittingToStandingTransform );\n\t\t\t\t\tobject.applyMatrix( standingMatrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject.position.setY( object.position.y + this.userHeight );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tobject.position.multiplyScalar( scope.scale );\n\n\t\t}\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tvrDisplay = null;\n\n\t};\n\n};\n","/**\n * @author alteredq / http://alteredqualia.com/\n * @authod mrdoob / http://mrdoob.com/\n * @authod arodic / http://aleksandarrodic.com/\n * @authod fonserbc / http://fonserbc.github.io/\n*/\nimport * as THREE from 'three';\n\n// THREE.StereoEffect = function ( renderer ) {\nexport default function StereoEffect ( renderer ) {\n\n\tvar _stereo = new THREE.StereoCamera();\n\t_stereo.aspect = 0.5;\n\n\tthis.setEyeSeparation = function ( eyeSep ) {\n\n\t\t_stereo.eyeSep = eyeSep;\n\n\t};\n\n\tthis.setSize = function ( width, height ) {\n\n\t\trenderer.setSize( width, height );\n\n\t};\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tscene.updateMatrixWorld();\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t_stereo.update( camera );\n\n\t\tvar size = renderer.getSize();\n\n\t\tif ( renderer.autoClear ) renderer.clear();\n\t\trenderer.setScissorTest( true );\n\n\t\trenderer.setScissor( 0, 0, size.width / 2, size.height );\n\t\trenderer.setViewport( 0, 0, size.width / 2, size.height );\n\t\trenderer.render( scene, _stereo.cameraL );\n\n\t\trenderer.setScissor( size.width / 2, 0, size.width / 2, size.height );\n\t\trenderer.setViewport( size.width / 2, 0, size.width / 2, size.height );\n\t\trenderer.render( scene, _stereo.cameraR );\n\n\t\trenderer.setScissorTest( false );\n\n\t};\n\n};\n","export default function(node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}\n","export default function(x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      x1 = this._x1;\n\n  // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = +(x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(2), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, x > x1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(2), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, x0 > x);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the binarytree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0]).cover(+_[1][0])\n      : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}\n","import Half from \"./half\";\n\nexport default function(x, radius) {\n  var data,\n      x0 = this._x0,\n      x1,\n      x2,\n      x3 = this._x1,\n      halves = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n\n  while (q = halves.pop()) {\n\n    // Stop searching if this half cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (x2 = q.x1) < x0) continue;\n\n    // Bisect the current half.\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n\n      halves.push(\n        new Half(node[1], xm, x2),\n        new Half(node[0], x1, xm)\n      );\n\n      // Visit the closest half first.\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var d = Math.abs(x - +this._x.call(null, node.data));\n      if (d < radius) {\n        radius = d;\n        x0 = x - d;\n        x3 = x + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      x1 = this._x1,\n      x,\n      xm,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 1]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1])\n      && node === (parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], q, node = this._root, child, x0, x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n  return this;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], next = [], q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n  while (q = halves.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, x1 = q.x1, xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y);\n        break;\n      }\n      case 3: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the quadtree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export default function(node, x0, y0, z0, x1, y1, z1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.z0 = z0;\n  this.x1 = x1;\n  this.y1 = y1;\n  this.z1 = z1;\n}\n","export default function(x, y, z) {\n  if (isNaN(x = +x) || isNaN(y = +y) || isNaN(z = +z)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1;\n\n  // If the octree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing octant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n    z1 = (z0 = Math.floor(z)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1 || z0 > z || z > z1) {\n    var t = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (z < (z0 + z1) / 2) << 2 | (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x1 = x0 + t, y1 = y0 + t, z1 = z0 + t, x > x1 || y > y1 || z > z1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x0 = x1 - t, y1 = y0 + t, z1 = z0 + t, x0 > x || y > y1 || z > z1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x1 = x0 + t, y0 = y1 - t, z1 = z0 + t, x > x1 || y0 > y || z > z1);\n        break;\n      }\n      case 3: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x0 = x1 - t, y0 = y1 - t, z1 = z0 + t, x0 > x || y0 > y || z > z1);\n        break;\n      }\n      case 4: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x1 = x0 + t, y1 = y0 + t, z0 = z1 - t, x > x1 || y > y1 || z0 > z);\n        break;\n      }\n      case 5: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x0 = x1 - t, y1 = y0 + t, z0 = z1 - t, x0 > x || y > y1 || z0 > z);\n        break;\n      }\n      case 6: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x1 = x0 + t, y0 = y1 - t, z0 = z1 - t, x > x1 || y0 > y || z0 > z);\n        break;\n      }\n      case 7: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x0 = x1 - t, y0 = y1 - t, z0 = z1 - t, x0 > x || y0 > y || z0 > z);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the octree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1], +_[0][2]).cover(+_[1][0], +_[1][1], +_[1][2])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0, this._z0], [this._x1, this._y1, this._z1]];\n}\n","import Octant from \"./octant\";\n\nexport default function(x, y, z, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1,\n      y1,\n      z1,\n      x2,\n      y2,\n      z2,\n      x3 = this._x1,\n      y3 = this._y1,\n      z3 = this._z1,\n      octs = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) octs.push(new Octant(node, x0, y0, z0, x3, y3, z3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius, z0 = z - radius;\n    x3 = x + radius, y3 = y + radius, z3 = z + radius;\n    radius *= radius;\n  }\n\n  while (q = octs.pop()) {\n\n    // Stop searching if this octant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (z1 = q.z0) > z3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0\n        || (z2 = q.z1) < z0) continue;\n\n    // Bisect the current octant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2,\n          zm = (z1 + z2) / 2;\n\n      octs.push(\n        new Octant(node[7], xm, ym, zm, x2, y2, z2),\n        new Octant(node[6], x1, ym, zm, xm, y2, z2),\n        new Octant(node[5], xm, y1, zm, x2, ym, z2),\n        new Octant(node[4], x1, y1, zm, xm, ym, z2),\n        new Octant(node[3], xm, ym, z1, x2, y2, zm),\n        new Octant(node[2], x1, ym, z1, xm, y2, zm),\n        new Octant(node[1], xm, y1, z1, x2, ym, zm),\n        new Octant(node[0], x1, y1, z1, xm, ym, zm)\n      );\n\n      // Visit the closest octant first.\n      if (i = (z >= zm) << 2 | (y >= ym) << 1 | (x >= xm)) {\n        q = octs[octs.length - 1];\n        octs[octs.length - 1] = octs[octs.length - 1 - i];\n        octs[octs.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          dz = z - +this._z.call(null, node.data),\n          d2 = dx * dx + dy * dy + dz * dz;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d, z0 = z - d;\n        x3 = x + d, y3 = y + d, z3 = z + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1,\n      x,\n      y,\n      z,\n      xm,\n      ym,\n      zm,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (!(parent = node, node = node[i = deep << 2 | bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 7] || parent[(i + 2) & 7] || parent[(i + 3) & 7] || parent[(i + 4) & 7] || parent[(i + 5) & 7] || parent[(i + 6) & 7] || parent[(i + 7) & 7]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3] || parent[4] || parent[5] || parent[6] || parent[7])\n      && node === (parent[7] || parent[6] || parent[5] || parent[4] || parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], q, node = this._root, child, x0, y0, z0, x1, y1, z1;\n  if (node) octs.push(new Octant(node, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n    }\n  }\n  return this;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], next = [], q;\n  if (this._root) octs.push(new Octant(this._root, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.z0, q.x1, q.y1, q.z1);\n  }\n  return this;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","/**\n * @license\n * webvr-polyfill\n * Copyright (c) 2015-2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @license\n * wglu-preserve-state.js\n * Copyright (c) 2016, Brandon Jones.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n!function(e){function i(t){if(M[t])return M[t].exports;var s=M[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var M={};i.m=e,i.c=M,i.d=function(e,M,t){i.o(e,M)||Object.defineProperty(e,M,{configurable:!1,enumerable:!0,get:t})},i.n=function(e){var M=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(M,\"a\",M),M},i.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},i.p=\"\",i(i.s=7)}([function(e,i){var M=window.Util||{};M.MIN_TIMESTEP=.001,M.MAX_TIMESTEP=1,M.base64=function(e,i){return\"data:\"+e+\";base64,\"+i},M.clamp=function(e,i,M){return Math.min(Math.max(i,e),M)},M.lerp=function(e,i,M){return e+(i-e)*M},M.race=function(e){return Promise.race?Promise.race(e):new Promise(function(i,M){for(var t=0;t<e.length;t++)e[t].then(i,M)})},M.isIOS=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),M.isWebViewAndroid=function(){var e=-1!==navigator.userAgent.indexOf(\"Version\")&&-1!==navigator.userAgent.indexOf(\"Android\")&&-1!==navigator.userAgent.indexOf(\"Chrome\");return function(){return e}}(),M.isSafari=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),M.isFirefoxAndroid=function(){var e=-1!==navigator.userAgent.indexOf(\"Firefox\")&&-1!==navigator.userAgent.indexOf(\"Android\");return function(){return e}}(),M.isR7=function(){var e=-1!==navigator.userAgent.indexOf(\"R7 Build\");return function(){return e}}(),M.isLandscapeMode=function(){var e=90==window.orientation||-90==window.orientation;return M.isR7()?!e:e},M.isTimestampDeltaValid=function(e){return!isNaN(e)&&(!(e<=M.MIN_TIMESTEP)&&!(e>M.MAX_TIMESTEP))},M.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},M.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},M.requestFullscreen=function(e){if(M.isWebViewAndroid())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},M.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},M.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},M.linkProgram=function(e,i,M,t){var s=e.createShader(e.VERTEX_SHADER);e.shaderSource(s,i),e.compileShader(s);var r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,M),e.compileShader(r);var N=e.createProgram();e.attachShader(N,s),e.attachShader(N,r);for(var D in t)e.bindAttribLocation(N,t[D],D);return e.linkProgram(N),e.deleteShader(s),e.deleteShader(r),N},M.getProgramUniforms=function(e,i){for(var M={},t=e.getProgramParameter(i,e.ACTIVE_UNIFORMS),s=\"\",r=0;r<t;r++){s=e.getActiveUniform(i,r).name.replace(\"[0]\",\"\"),M[s]=e.getUniformLocation(i,s)}return M},M.orthoMatrix=function(e,i,M,t,s,r,N){var D=1/(i-M),n=1/(t-s),u=1/(r-N);return e[0]=-2*D,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(i+M)*D,e[13]=(s+t)*n,e[14]=(N+r)*u,e[15]=1,e},M.copyArray=function(e,i){for(var M=0,t=e.length;M<t;M++)i[M]=e[M]},M.isMobile=function(){var e=!1;return function(i){(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(i.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},M.extend=function(e,i){for(var M in i)i.hasOwnProperty(M)&&(e[M]=i[M]);return e},M.safariCssSizeWorkaround=function(e){if(M.isIOS()){var i=e.style.width,t=e.style.height;e.style.width=parseInt(i)+1+\"px\",e.style.height=parseInt(t)+\"px\",setTimeout(function(){e.style.width=i,e.style.height=t},100)}window.Util=M,window.canvas=e},M.isDebug=function(){return M.getQueryParameter(\"debug\")},M.getQueryParameter=function(e){var e=e.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\"),i=new RegExp(\"[\\\\?&]\"+e+\"=([^&#]*)\"),M=i.exec(location.search);return null===M?\"\":decodeURIComponent(M[1].replace(/\\+/g,\" \"))},M.frameDataFromPose=function(){function e(e,i,M,t){var s=Math.tan(i?i.upDegrees*r:N),D=Math.tan(i?i.downDegrees*r:N),n=Math.tan(i?i.leftDegrees*r:N),u=Math.tan(i?i.rightDegrees*r:N),a=2/(n+u),o=2/(s+D);return e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=-(n-u)*a*.5,e[9]=(s-D)*o*.5,e[10]=t/(M-t),e[11]=-1,e[12]=0,e[13]=0,e[14]=t*M/(M-t),e[15]=0,e}function i(e,i,M){var t=i[0],s=i[1],r=i[2],N=i[3],D=t+t,n=s+s,u=r+r,a=t*D,o=t*n,g=t*u,L=s*n,j=s*u,I=r*u,c=N*D,T=N*n,A=N*u;return e[0]=1-(L+I),e[1]=o+A,e[2]=g-T,e[3]=0,e[4]=o-A,e[5]=1-(a+I),e[6]=j+c,e[7]=0,e[8]=g+T,e[9]=j-c,e[10]=1-(a+L),e[11]=0,e[12]=M[0],e[13]=M[1],e[14]=M[2],e[15]=1,e}function M(e,i,M){var t,s,r,N,D,n,u,a,o,g,L,j,I=M[0],c=M[1],T=M[2];return i===e?(e[12]=i[0]*I+i[4]*c+i[8]*T+i[12],e[13]=i[1]*I+i[5]*c+i[9]*T+i[13],e[14]=i[2]*I+i[6]*c+i[10]*T+i[14],e[15]=i[3]*I+i[7]*c+i[11]*T+i[15]):(t=i[0],s=i[1],r=i[2],N=i[3],D=i[4],n=i[5],u=i[6],a=i[7],o=i[8],g=i[9],L=i[10],j=i[11],e[0]=t,e[1]=s,e[2]=r,e[3]=N,e[4]=D,e[5]=n,e[6]=u,e[7]=a,e[8]=o,e[9]=g,e[10]=L,e[11]=j,e[12]=t*I+D*c+o*T+i[12],e[13]=s*I+n*c+g*T+i[13],e[14]=r*I+u*c+L*T+i[14],e[15]=N*I+a*c+j*T+i[15]),e}function t(e,i){var M=i[0],t=i[1],s=i[2],r=i[3],N=i[4],D=i[5],n=i[6],u=i[7],a=i[8],o=i[9],g=i[10],L=i[11],j=i[12],I=i[13],c=i[14],T=i[15],A=M*D-t*N,w=M*n-s*N,y=M*u-r*N,E=t*n-s*D,l=t*u-r*D,z=s*u-r*n,d=a*I-o*j,h=a*c-g*j,x=a*T-L*j,O=o*c-g*I,C=o*T-L*I,S=g*T-L*c,p=A*S-w*C+y*O+E*x-l*h+z*d;return p?(p=1/p,e[0]=(D*S-n*C+u*O)*p,e[1]=(s*C-t*S-r*O)*p,e[2]=(I*z-c*l+T*E)*p,e[3]=(g*l-o*z-L*E)*p,e[4]=(n*x-N*S-u*h)*p,e[5]=(M*S-s*x+r*h)*p,e[6]=(c*y-j*z-T*w)*p,e[7]=(a*z-g*y+L*w)*p,e[8]=(N*C-D*x+u*d)*p,e[9]=(t*x-M*C-r*d)*p,e[10]=(j*l-I*y+T*A)*p,e[11]=(o*y-a*l-L*A)*p,e[12]=(D*h-N*O-n*d)*p,e[13]=(M*O-t*h+s*d)*p,e[14]=(I*w-j*E-c*A)*p,e[15]=(a*E-o*w+g*A)*p,e):null}function s(s,r,N,u,a){e(s,u?u.fieldOfView:null,a.depthNear,a.depthFar),i(r,N.orientation||D,N.position||n),u&&M(r,r,u.offset),t(r,r)}var r=Math.PI/180,N=.25*Math.PI,D=new Float32Array([0,0,0,1]),n=new Float32Array([0,0,0]);return function(e,i,M){return!(!e||!i)&&(e.pose=i,e.timestamp=i.timestamp,s(e.leftProjectionMatrix,e.leftViewMatrix,i,M.getEyeParameters(\"left\"),M),s(e.rightProjectionMatrix,e.rightViewMatrix,i,M.getEyeParameters(\"right\"),M),!0)}}(),M.isInsideCrossDomainIFrame=function(){var e=window.self!==window.top,i=M.getDomainFromUrl(document.referrer),t=M.getDomainFromUrl(window.location.href);return e&&i!==t},M.getDomainFromUrl=function(e){var i;return i=e.indexOf(\"://\")>-1?e.split(\"/\")[2]:e.split(\"/\")[0],i=i.split(\":\")[0]},e.exports=M},function(e,i,M){function t(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function s(){this.isPolyfilled=!0,this.displayId=a++,this.displayName=\"webvr-polyfill displayName\",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new u}function r(){this.isPolyfilled=!0,this.hardwareUnitId=\"webvr-polyfill hardwareUnitId\",this.deviceId=\"webvr-polyfill deviceId\",this.deviceName=\"webvr-polyfill deviceName\"}function N(){}function D(){}var n=M(0),u=M(21),a=1e3,o=!1,g=[0,0,.5,1],L=[.5,0,.5,1];s.prototype.getFrameData=function(e){return n.frameDataFromPose(e,this.getPose(),this)},s.prototype.getPose=function(){return this.getImmediatePose()},s.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},s.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},s.prototype.wrapForFullscreen=function(e){if(n.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement(\"div\");var i=[\"height: \"+Math.min(screen.height,screen.width)+\"px !important\",\"top: 0 !important\",\"left: 0 !important\",\"right: 0 !important\",\"border: 0\",\"margin: 0\",\"padding: 0\",\"z-index: 999999 !important\",\"position: fixed\"];this.fullscreenWrapper_.setAttribute(\"style\",i.join(\"; \")+\";\"),this.fullscreenWrapper_.classList.add(\"webvr-polyfill-fullscreen-wrapper\")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var M=this.fullscreenElement_.parentElement;M.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),M.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute(\"style\");var t=this;return function(){if(t.fullscreenElement_){var e=[\"position: absolute\",\"top: 0\",\"left: 0\",\"width: \"+Math.max(screen.width,screen.height)+\"px\",\"height: \"+Math.min(screen.height,screen.width)+\"px\",\"border: 0\",\"margin: 0\",\"padding: 0\"];t.fullscreenElement_.setAttribute(\"style\",e.join(\"; \")+\";\")}}(),this.fullscreenWrapper_},s.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute(\"style\",this.fullscreenElementCachedStyle_):e.removeAttribute(\"style\"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var i=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),i.insertBefore(e,this.fullscreenWrapper_),i.removeChild(this.fullscreenWrapper_),e}},s.prototype.requestPresent=function(e){var i=this.isPresenting,M=this;return e instanceof Array||(o||(console.warn(\"Using a deprecated form of requestPresent. Should pass in an array of VRLayers.\"),o=!0),e=[e]),new Promise(function(t,s){if(!M.capabilities.canPresent)return void s(new Error(\"VRDisplay is not capable of presenting.\"));if(0==e.length||e.length>M.capabilities.maxLayers)return void s(new Error(\"Invalid number of layers.\"));var r=e[0];if(!r.source)return void t();var N=r.leftBounds||g,D=r.rightBounds||L;if(i){var u=M.layer_;u.source!==r.source&&(u.source=r.source);for(var a=0;a<4;a++)u.leftBounds[a]=N[a],u.rightBounds[a]=D[a];return void t()}if(M.layer_={predistorted:r.predistorted,source:r.source,leftBounds:N.slice(0),rightBounds:D.slice(0)},M.waitingForPresent_=!1,M.layer_&&M.layer_.source){var o=M.wrapForFullscreen(M.layer_.source),j=function(){var e=n.getFullscreenElement();M.isPresenting=o===e,M.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock(\"landscape-primary\").catch(function(e){console.error(\"screen.orientation.lock() failed due to\",e.message)}),M.waitingForPresent_=!1,M.beginPresent_(),t()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),M.removeFullscreenWrapper(),M.wakelock_.release(),M.endPresent_(),M.removeFullscreenListeners_()),M.fireVRDisplayPresentChange_()},I=function(){M.waitingForPresent_&&(M.removeFullscreenWrapper(),M.removeFullscreenListeners_(),M.wakelock_.release(),M.waitingForPresent_=!1,M.isPresenting=!1,s(new Error(\"Unable to present.\")))};M.addFullscreenListeners_(o,j,I),n.requestFullscreen(o)?(M.wakelock_.request(),M.waitingForPresent_=!0):(n.isIOS()||n.isWebViewAndroid())&&(M.wakelock_.request(),M.isPresenting=!0,M.beginPresent_(),M.fireVRDisplayPresentChange_(),t())}M.waitingForPresent_||n.isIOS()||(n.exitFullscreen(),s(new Error(\"Unable to present.\")))})},s.prototype.exitPresent=function(){var e=this.isPresenting,i=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(M,t){e?(!n.exitFullscreen()&&n.isIOS()&&(i.endPresent_(),i.fireVRDisplayPresentChange_()),n.isWebViewAndroid()&&(i.removeFullscreenWrapper(),i.removeFullscreenListeners_(),i.endPresent_(),i.fireVRDisplayPresentChange_()),M()):t(new Error(\"Was not presenting to VRDisplay.\"))})},s.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},s.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent(\"vrdisplaypresentchange\",{detail:{display:this}});window.dispatchEvent(e)},s.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent(\"vrdisplayconnect\",{detail:{display:this}});window.dispatchEvent(e)},s.prototype.addFullscreenListeners_=function(e,i,M){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=i,this.fullscreenErrorHandler_=M,i&&(document.fullscreenEnabled?e.addEventListener(\"fullscreenchange\",i,!1):document.webkitFullscreenEnabled?e.addEventListener(\"webkitfullscreenchange\",i,!1):document.mozFullScreenEnabled?document.addEventListener(\"mozfullscreenchange\",i,!1):document.msFullscreenEnabled&&e.addEventListener(\"msfullscreenchange\",i,!1)),M&&(document.fullscreenEnabled?e.addEventListener(\"fullscreenerror\",M,!1):document.webkitFullscreenEnabled?e.addEventListener(\"webkitfullscreenerror\",M,!1):document.mozFullScreenEnabled?document.addEventListener(\"mozfullscreenerror\",M,!1):document.msFullscreenEnabled&&e.addEventListener(\"msfullscreenerror\",M,!1))},s.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var i=this.fullscreenChangeHandler_;e.removeEventListener(\"fullscreenchange\",i,!1),e.removeEventListener(\"webkitfullscreenchange\",i,!1),document.removeEventListener(\"mozfullscreenchange\",i,!1),e.removeEventListener(\"msfullscreenchange\",i,!1)}if(this.fullscreenErrorHandler_){var M=this.fullscreenErrorHandler_;e.removeEventListener(\"fullscreenerror\",M,!1),e.removeEventListener(\"webkitfullscreenerror\",M,!1),document.removeEventListener(\"mozfullscreenerror\",M,!1),e.removeEventListener(\"msfullscreenerror\",M,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},s.prototype.beginPresent_=function(){},s.prototype.endPresent_=function(){},s.prototype.submitFrame=function(e){},s.prototype.getEyeParameters=function(e){return null},N.prototype=new r,D.prototype=new r,e.exports.VRFrameData=t,e.exports.VRDisplay=s,e.exports.VRDevice=r,e.exports.HMDVRDevice=N,e.exports.PositionSensorVRDevice=D},function(e,i){var M=window.MathUtil||{};M.degToRad=Math.PI/180,M.radToDeg=180/Math.PI,M.Vector2=function(e,i){this.x=e||0,this.y=i||0},M.Vector2.prototype={constructor:M.Vector2,set:function(e,i){return this.x=e,this.y=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}},M.Vector3=function(e,i,M){this.x=e||0,this.y=i||0,this.z=M||0},M.Vector3.prototype={constructor:M.Vector3,set:function(e,i,M){return this.x=e,this.y=i,this.z=M,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var i=1/e;this.multiplyScalar(i)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var i=this.x,M=this.y,t=this.z,s=e.x,r=e.y,N=e.z,D=e.w,n=D*i+r*t-N*M,u=D*M+N*i-s*t,a=D*t+s*M-r*i,o=-s*i-r*M-N*t;return this.x=n*D+o*-s+u*-N-a*-r,this.y=u*D+o*-r+a*-s-n*-N,this.z=a*D+o*-N+n*-r-u*-s,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,i){var M=e.x,t=e.y,s=e.z,r=i.x,N=i.y,D=i.z;return this.x=t*D-s*N,this.y=s*r-M*D,this.z=M*N-t*r,this}},M.Quaternion=function(e,i,M,t){this.x=e||0,this.y=i||0,this.z=M||0,this.w=void 0!==t?t:1},M.Quaternion.prototype={constructor:M.Quaternion,set:function(e,i,M,t){return this.x=e,this.y=i,this.z=M,this.w=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,i,M){var t=Math.cos(e/2),s=Math.cos(i/2),r=Math.cos(M/2),N=Math.sin(e/2),D=Math.sin(i/2),n=Math.sin(M/2);return this.x=N*s*r+t*D*n,this.y=t*D*r-N*s*n,this.z=t*s*n+N*D*r,this.w=t*s*r-N*D*n,this},setFromEulerYXZ:function(e,i,M){var t=Math.cos(e/2),s=Math.cos(i/2),r=Math.cos(M/2),N=Math.sin(e/2),D=Math.sin(i/2),n=Math.sin(M/2);return this.x=N*s*r+t*D*n,this.y=t*D*r-N*s*n,this.z=t*s*n-N*D*r,this.w=t*s*r+N*D*n,this},setFromAxisAngle:function(e,i){var M=i/2,t=Math.sin(M);return this.x=e.x*t,this.y=e.y*t,this.z=e.z*t,this.w=Math.cos(M),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,i){var M=e.x,t=e.y,s=e.z,r=e.w,N=i.x,D=i.y,n=i.z,u=i.w;return this.x=M*u+r*N+t*n-s*D,this.y=t*u+r*D+s*N-M*n,this.z=s*u+r*n+M*D-t*N,this.w=r*u-M*N-t*D-s*n,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,i){if(0===i)return this;if(1===i)return this.copy(e);var M=this.x,t=this.y,s=this.z,r=this.w,N=r*e.w+M*e.x+t*e.y+s*e.z;if(N<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,N=-N):this.copy(e),N>=1)return this.w=r,this.x=M,this.y=t,this.z=s,this;var D=Math.acos(N),n=Math.sqrt(1-N*N);if(Math.abs(n)<.001)return this.w=.5*(r+this.w),this.x=.5*(M+this.x),this.y=.5*(t+this.y),this.z=.5*(s+this.z),this;var u=Math.sin((1-i)*D)/n,a=Math.sin(i*D)/n;return this.w=r*u+this.w*a,this.x=M*u+this.x*a,this.y=t*u+this.y*a,this.z=s*u+this.z*a,this},setFromUnitVectors:function(){var e,i;return function(t,s){return void 0===e&&(e=new M.Vector3),i=t.dot(s)+1,i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?e.set(-t.y,t.x,0):e.set(0,-t.z,t.y)):e.crossVectors(t,s),this.x=e.x,this.y=e.y,this.z=e.z,this.w=i,this.normalize(),this}}()},e.exports=M},function(e,i,M){function t(e){this.gl=e,this.attribs={position:0},this.program=s.linkProgram(e,N,D,this.attribs),this.uniforms=s.getProgramUniforms(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}var s=M(0),r=M(4),N=[\"attribute vec2 position;\",\"uniform mat4 projectionMat;\",\"void main() {\",\"  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );\",\"}\"].join(\"\\n\"),D=[\"precision mediump float;\",\"uniform vec4 color;\",\"void main() {\",\"  gl_FragColor = color;\",\"}\"].join(\"\\n\"),n=Math.PI/180,u=.3125;t.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener(\"click\",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},t.prototype.listen=function(e,i){var M=this.gl.canvas;this.listener=function(t){var s=M.clientWidth/2;t.clientX>s-42&&t.clientX<s+42&&t.clientY>M.clientHeight-42?e(t):t.clientX<42&&t.clientY<42&&i(t)},M.addEventListener(\"click\",this.listener,!1)},t.prototype.onResize=function(){var e=this.gl,i=this,M=[e.ARRAY_BUFFER_BINDING];r(e,M,function(e){function M(e,i){var M=(90-e)*n,t=Math.cos(M),N=Math.sin(M);s.push(u*t*L+r,u*N*L+L),s.push(i*t*L+r,i*N*L+L)}function t(i,M){s.push(j+i,e.drawingBufferHeight-j-M)}var s=[],r=e.drawingBufferWidth/2,N=Math.max(screen.width,screen.height)*window.devicePixelRatio,D=e.drawingBufferWidth/N,a=D*window.devicePixelRatio,o=4*a/2,g=42*a,L=28*a/2,j=14*a;s.push(r-o,g),s.push(r-o,e.drawingBufferHeight),s.push(r+o,g),s.push(r+o,e.drawingBufferHeight),i.gearOffset=s.length/2;for(var I=0;I<=6;I++){var c=60*I;M(c,1),M(c+12,1),M(c+20,.75),M(c+40,.75),M(c+48,1)}i.gearVertexCount=s.length/2-i.gearOffset,i.arrowOffset=s.length/2;var T=o/Math.sin(45*n);t(0,L),t(L,0),t(L+T,T),t(T,L+T),t(T,L-T),t(0,L),t(L,2*L),t(L+T,2*L-T),t(T,L-T),t(0,L),t(T,L-o),t(28*a,L-o),t(T,L+o),t(28*a,L+o),i.arrowVertexCount=s.length/2-i.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,i.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(s),e.STATIC_DRAW)})},t.prototype.render=function(){var e=this.gl,i=this,M=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];r(e,M,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),i.renderNoState()})},t.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),s.orthoMatrix(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},e.exports=t},function(e,i){function M(e,i,M){if(!i)return void M(e);for(var t=[],s=null,r=0;r<i.length;++r){var N=i[r];switch(N){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var D=i[++r];if(D<e.TEXTURE0||D>e.TEXTURE31){console.error(\"TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit\"),t.push(null,null);break}s||(s=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(D),t.push(e.getParameter(N),null);break;case e.ACTIVE_TEXTURE:s=e.getParameter(e.ACTIVE_TEXTURE),t.push(null);break;default:t.push(e.getParameter(N))}}M(e);for(var r=0;r<i.length;++r){var N=i[r],n=t[r];switch(N){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,n);break;case e.COLOR_CLEAR_VALUE:e.clearColor(n[0],n[1],n[2],n[3]);break;case e.COLOR_WRITEMASK:e.colorMask(n[0],n[1],n[2],n[3]);break;case e.CURRENT_PROGRAM:e.useProgram(n);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,n);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,n);break;case e.TEXTURE_BINDING_2D:var D=i[++r];if(D<e.TEXTURE0||D>e.TEXTURE31)break;e.activeTexture(D),e.bindTexture(e.TEXTURE_2D,n);break;case e.TEXTURE_BINDING_CUBE_MAP:var D=i[++r];if(D<e.TEXTURE0||D>e.TEXTURE31)break;e.activeTexture(D),e.bindTexture(e.TEXTURE_CUBE_MAP,n);break;case e.VIEWPORT:e.viewport(n[0],n[1],n[2],n[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:n?e.enable(N):e.disable(N);break;default:console.log(\"No GL restore behavior for 0x\"+N.toString(16))}s&&e.activeTexture(s)}}e.exports=M},function(e,i,M){function t(e){this.width=e.width||n.getScreenWidth(),this.height=e.height||n.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function s(e){this.viewer=o.CardboardV2,this.updateDeviceParams(e),this.distortion=new N(this.viewer.distortionCoefficients)}function r(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}var N=M(11),D=M(2),n=M(0),u=new t({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),a=new t({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),o={CardboardV1:new r({id:\"CardboardV1\",label:\"Cardboard I/O 2014\",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new r({id:\"CardboardV2\",label:\"Cardboard I/O 2015\",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};s.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},s.prototype.getDevice=function(){return this.device},s.prototype.setViewer=function(e){this.viewer=e,this.distortion=new N(this.viewer.distortionCoefficients)},s.prototype.determineDevice_=function(e){if(!e)return n.isIOS()?(console.warn(\"Using fallback iOS device measurements.\"),a):(console.warn(\"Using fallback Android device measurements.\"),u);var i=.0254/e.xdpi,M=.0254/e.ydpi;return new t({widthMeters:i*n.getScreenWidth(),heightMeters:M*n.getScreenHeight(),bevelMeters:.001*e.bevelMm})},s.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,i=this.device,M=this.distortion,t=e.screenLensDistance,s=(i.widthMeters-e.interLensDistance)/2,r=e.interLensDistance/2,N=e.baselineLensDistance-i.bevelMeters,n=i.heightMeters-N,u=D.radToDeg*Math.atan(M.distort(s/t)),a=D.radToDeg*Math.atan(M.distort(r/t)),o=D.radToDeg*Math.atan(M.distort(N/t)),g=D.radToDeg*Math.atan(M.distort(n/t));return{leftDegrees:Math.min(u,e.fov),rightDegrees:Math.min(a,e.fov),downDegrees:Math.min(o,e.fov),upDegrees:Math.min(g,e.fov)}},s.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,i=this.device,M=this.distortion,t=Math.tan(-D.degToRad*e.fov),s=Math.tan(D.degToRad*e.fov),r=Math.tan(D.degToRad*e.fov),N=Math.tan(-D.degToRad*e.fov),n=i.widthMeters/4,u=i.heightMeters/2,a=e.baselineLensDistance-i.bevelMeters-u,o=e.interLensDistance/2-n,g=-a,L=e.screenLensDistance,j=M.distort((o-n)/L),I=M.distort((g+u)/L),c=M.distort((o+n)/L),T=M.distort((g-u)/L),A=new Float32Array(4);return A[0]=Math.max(t,j),A[1]=Math.min(s,I),A[2]=Math.min(r,c),A[3]=Math.max(N,T),A},s.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,i=this.device,M=this.distortion,t=new Float32Array(4),s=M.distortInverse(Math.tan(-D.degToRad*e.fov)),r=M.distortInverse(Math.tan(D.degToRad*e.fov)),N=M.distortInverse(Math.tan(D.degToRad*e.fov)),n=M.distortInverse(Math.tan(-D.degToRad*e.fov)),u=i.widthMeters/4,a=i.heightMeters/2,o=e.baselineLensDistance-i.bevelMeters-a,g=e.interLensDistance/2-u,L=-o,j=e.screenLensDistance,I=(g-u)/j,c=(L+a)/j,T=(g+u)/j,A=(L-a)/j;return t[0]=Math.max(s,I),t[1]=Math.min(r,c),t[2]=Math.min(N,T),t[3]=Math.max(n,A),t},s.prototype.getLeftEyeVisibleScreenRect=function(e){var i=this.viewer,M=this.device,t=i.screenLensDistance,s=(M.widthMeters-i.interLensDistance)/2,r=i.baselineLensDistance-M.bevelMeters,N=(e[0]*t+s)/M.widthMeters,D=(e[1]*t+r)/M.heightMeters,n=(e[2]*t+s)/M.widthMeters,u=(e[3]*t+r)/M.heightMeters;return{x:N,y:u,width:n-N,height:D-u}},s.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},s.prototype.getFieldOfViewRightEye=function(e){var i=this.getFieldOfViewLeftEye(e);return{leftDegrees:i.rightDegrees,rightDegrees:i.leftDegrees,upDegrees:i.upDegrees,downDegrees:i.downDegrees}},s.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:D.radToDeg*Math.atan(e.outerDist),rightDegrees:D.radToDeg*Math.atan(e.innerDist),downDegrees:D.radToDeg*Math.atan(e.bottomDist),upDegrees:D.radToDeg*Math.atan(e.topDist)}},s.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),i=this.viewer,M=this.device,t=i.screenLensDistance,s=M.widthMeters/t,r=M.heightMeters/t,N=M.width/s,D=M.height/r,n=Math.round((e.eyePosX-e.outerDist)*N),u=Math.round((e.eyePosY-e.bottomDist)*D);return{x:n,y:u,width:Math.round((e.eyePosX+e.innerDist)*N)-n,height:Math.round((e.eyePosY+e.topDist)*D)-u}},s.prototype.getUndistortedParams_=function(){var e=this.viewer,i=this.device,M=this.distortion,t=e.screenLensDistance,s=e.interLensDistance/2/t,r=i.widthMeters/t,N=i.heightMeters/t,n=r/2-s,u=(e.baselineLensDistance-i.bevelMeters)/t,a=e.fov,o=M.distortInverse(Math.tan(D.degToRad*a)),g=Math.min(n,o),L=Math.min(s,o),j=Math.min(u,o);return{outerDist:g,innerDist:L,topDist:Math.min(N-u,o),bottomDist:j,eyePosX:n,eyePosY:u}},s.Viewers=o,e.exports=s},function(e,i,M){function t(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId=\"webvr-polyfill:HMD:\"+e.displayId,this.deviceName=e.displayName+\" (HMD)\"}function s(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId=\"webvr-polyfill:PositionSensor: \"+e.displayId,this.deviceName=e.displayName+\" (PositionSensor)\"}var r=(M(1).VRDisplay,M(1).HMDVRDevice),N=M(1).PositionSensorVRDevice;t.prototype=new r,t.prototype.getEyeParameters=function(e){var i=this.display.getEyeParameters(e);return{currentFieldOfView:i.fieldOfView,maximumFieldOfView:i.fieldOfView,minimumFieldOfView:i.fieldOfView,recommendedFieldOfView:i.fieldOfView,eyeTranslation:{x:i.offset[0],y:i.offset[1],z:i.offset[2]},renderRect:{x:\"right\"==e?i.renderWidth:0,y:0,width:i.renderWidth,height:i.renderHeight}}},t.prototype.setFieldOfView=function(e,i,M,t){},s.prototype=new N,s.prototype.getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},s.prototype.resetState=function(){return this.positionDevice.resetPose()},e.exports.VRDisplayHMDDevice=t,e.exports.VRDisplayPositionSensorDevice=s},function(e,i,M){var t=M(0),s=M(8).WebVRPolyfill;window.WebVRConfig=t.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1,ALWAYS_APPEND_POLYFILL_DISPLAY:!1,GET_VR_DISPLAYS_TIMEOUT:1e3},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new s}:new s,window.WebVRPolyfill=s},function(e,i,M){function t(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeGetVRDisplaysFunc=this.nativeWebVRAvailable?navigator.getVRDisplays:null,this.nativeLegacyWebVRAvailable||this.nativeWebVRAvailable||(this.enablePolyfill(),window.WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),s()}function s(){\"VRDisplay\"in window&&!(\"VRFrameData\"in window)&&(window.VRFrameData=u,\"depthNear\"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),\"depthFar\"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return r.frameDataFromPose(e,this.getPose(),this)})}var r=M(0),N=M(9),D=M(22),n=M(1).VRDisplay,u=M(1).VRFrameData,a=M(1).HMDVRDevice,o=M(1).PositionSensorVRDevice,g=M(6).VRDisplayHMDDevice,L=M(6).VRDisplayPositionSensorDevice,j=M(23).version;t.prototype.isWebVRAvailable=function(){return\"getVRDisplays\"in navigator},t.prototype.isDeprecatedWebVRAvailable=function(){return\"getVRDevices\"in navigator||\"mozGetVRDevices\"in navigator},t.prototype.connectDisplay=function(e){e.fireVRDisplayConnect_(),this.displays.push(e)},t.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new N,this.connectDisplay(e),window.WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new g(e)),this.devices.push(new L(e)))),this.isMobile()||window.WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new D,this.connectDisplay(e),window.WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new g(e)),this.devices.push(new L(e)))),this.devicesPopulated=!0}},t.prototype.enablePolyfill=function(){if(navigator.getVRDisplays=this.getVRDisplays.bind(this),this.nativeWebVRAvailable&&window.VRFrameData){var e=window.VRFrameData,i=new window.VRFrameData,M=window.VRDisplay.prototype.getFrameData;window.VRFrameData=u,window.VRDisplay.prototype.getFrameData=function(t){if(t instanceof e)return void M.call(this,t);M.call(this,i),t.pose=i.pose,r.copyArray(i.leftProjectionMatrix,t.leftProjectionMatrix),r.copyArray(i.rightProjectionMatrix,t.rightProjectionMatrix),r.copyArray(i.leftViewMatrix,t.leftViewMatrix),r.copyArray(i.rightViewMatrix,t.rightViewMatrix)}}if(window.VRDisplay=n,navigator&&void 0===navigator.vrEnabled){var t=this;Object.defineProperty(navigator,\"vrEnabled\",{get:function(){return t.isCardboardCompatible()&&(t.isFullScreenAvailable()||r.isIOS())}})}\"VRFrameData\"in window||(window.VRFrameData=u)},t.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=a,window.PositionSensorVRDevice=o},t.prototype.getVRDisplays=function(){this.populateDevices();var e=this.displays;if(!this.nativeWebVRAvailable)return Promise.resolve(e);var i,M=this.nativeGetVRDisplaysFunc.call(navigator),t=new Promise(function(e){i=setTimeout(function(){console.warn(\"Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill.\"),e([])},window.WebVRConfig.GET_VR_DISPLAYS_TIMEOUT)});return r.race([M,t]).then(function(M){return clearTimeout(i),window.WebVRConfig.ALWAYS_APPEND_POLYFILL_DISPLAY?M.concat(e):M.length>0?M:e})},t.prototype.getVRDevices=function(){console.warn(\"getVRDevices is deprecated. Please update your code to use getVRDisplays instead.\");var e=this;return new Promise(function(i,M){try{if(!e.devicesPopulated){if(e.nativeWebVRAvailable)return navigator.getVRDisplays(function(M){for(var t=0;t<M.length;++t)e.devices.push(new g(M[t])),e.devices.push(new L(M[t]));e.devicesPopulated=!0,i(e.devices)},M);if(e.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(M){for(var t=0;t<M.length;++t)M[t]instanceof a&&e.devices.push(M[t]),M[t]instanceof o&&e.devices.push(M[t]);e.devicesPopulated=!0,i(e.devices)},M)}e.populateDevices(),i(e.devices)}catch(e){M(e)}})},t.prototype.NativeVRFrameData=window.VRFrameData,t.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},t.prototype.isCardboardCompatible=function(){return this.isMobile()||window.WebVRConfig.FORCE_ENABLE_VR},t.prototype.isFullScreenAvailable=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1},t.InstallWebVRSpecShim=s,t.version=j,e.exports.WebVRPolyfill=t},function(e,i,M){function t(){this.displayName=\"Cardboard VRDisplay (webvr-polyfill)\",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=window.WebVRConfig.BUFFER_SCALE,this.poseSensor_=new n,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new D(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new N(this.dpdb_.getDeviceParams()),this.viewerSelector_=new a,this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),window.WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new u),g.isIOS()&&window.addEventListener(\"resize\",this.onResize_.bind(this))}var s=M(10),r=M(3),N=M(5),D=M(12),n=M(14),u=M(19),a=M(20),o=M(1).VRDisplay,g=M(0),L={LEFT:\"left\",RIGHT:\"right\"};t.prototype=new o,t.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},t.prototype.resetPose=function(){this.poseSensor_.resetPose()},t.prototype.getEyeParameters=function(e){var i,M=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==L.LEFT)M[0]*=-1,i=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=L.RIGHT)return console.error(\"Invalid eye provided: %s\",e),null;i=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:i,offset:M,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},t.prototype.onDeviceParamsUpdated_=function(e){g.isDebug()&&console.log(\"DPDB reported that device params were updated.\"),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},t.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},t.prototype.beginPresent_=function(){var e=this.layer_.source.getContext(\"webgl\");e||(e=this.layer_.source.getContext(\"experimental-webgl\")),e||(e=this.layer_.source.getContext(\"webgl2\")),e&&(this.layer_.predistorted?window.WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=g.getScreenWidth()*this.bufferScale_,e.canvas.height=g.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new r(e)):(this.distorter_=new s(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(g.isLandscapeMode()&&g.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener(\"orientationchange\",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener(\"vrdisplaypresentchange\",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},t.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener(\"orientationchange\",this.orientationHandler),window.removeEventListener(\"vrdisplaypresentchange\",this.vrdisplaypresentchangeHandler)},t.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var i=this.layer_.source.getContext(\"webgl\").canvas;i.width==this.lastWidth&&i.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=i.width,this.lastHeight=i.height,this.cardboardUI_.render()}},t.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},t.prototype.onResize_=function(e){if(this.layer_){var i=this.layer_.source.getContext(\"webgl\"),M=[\"position: absolute\",\"top: 0\",\"left: 0\",\"width: 100vw\",\"height: 100vh\",\"border: 0\",\"margin: 0\",\"padding: 0px\",\"box-sizing: content-box\"];i.canvas.setAttribute(\"style\",M.join(\"; \")+\";\"),g.safariCssSizeWorkaround(i.canvas)}},t.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},t.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent(\"vrdisplaydeviceparamschange\",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},e.exports=t},function(e,i,M){function t(e){this.gl=e,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=window.WebVRConfig.BUFFER_SCALE,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,r.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,\"width\"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,\"height\")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=r.linkProgram(e,D,n,this.attribs),this.uniforms=r.getProgramUniforms(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize(),window.WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new s(e))}var s=M(3),r=M(0),N=M(4),D=[\"attribute vec2 position;\",\"attribute vec3 texCoord;\",\"varying vec2 vTexCoord;\",\"uniform vec4 viewportOffsetScale[2];\",\"void main() {\",\"  vec4 viewport = viewportOffsetScale[int(texCoord.z)];\",\"  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;\",\"  gl_Position = vec4( position, 1.0, 1.0 );\",\"}\"].join(\"\\n\"),n=[\"precision mediump float;\",\"uniform sampler2D diffuse;\",\"varying vec2 vTexCoord;\",\"void main() {\",\"  gl_FragColor = texture2D(diffuse, vTexCoord);\",\"}\"].join(\"\\n\");t.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},t.prototype.onResize=function(){var e=this.gl,i=this,M=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];N(e,M,function(e){i.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),i.scissorTest&&i.realDisable.call(e,e.SCISSOR_TEST),i.realColorMask.call(e,!0,!0,!0,!0),i.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),i.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),i.realBindFramebuffer.call(e,e.FRAMEBUFFER,i.framebuffer),e.bindTexture(e.TEXTURE_2D,i.renderTarget),e.texImage2D(e.TEXTURE_2D,0,i.ctxAttribs.alpha?e.RGBA:e.RGB,i.bufferWidth,i.bufferHeight,0,i.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i.renderTarget,0),i.ctxAttribs.depth&&i.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,i.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,i.bufferWidth,i.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.depthStencilBuffer)):i.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,i.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i.bufferWidth,i.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i.depthBuffer)):i.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,i.bufferWidth,i.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer incomplete!\"),i.realBindFramebuffer.call(e,e.FRAMEBUFFER,i.lastBoundFramebuffer),i.scissorTest&&i.realEnable.call(e,e.SCISSOR_TEST),i.realColorMask.apply(e,i.colorMask),i.realViewport.apply(e,i.viewport),i.realClearColor.apply(e,i.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},t.prototype.patch=function(){if(!this.isPatched){var e=this,i=this.gl.canvas,M=this.gl;r.isIOS()||(i.width=r.getScreenWidth()*this.bufferScale,i.height=r.getScreenHeight()*this.bufferScale,Object.defineProperty(i,\"width\",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(M){e.bufferWidth=M,e.realCanvasWidth.set.call(i,M),e.onResize()}}),Object.defineProperty(i,\"height\",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(M){e.bufferHeight=M,e.realCanvasHeight.set.call(i,M),e.onResize()}})),this.lastBoundFramebuffer=M.getParameter(M.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(M.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(i,t){e.lastBoundFramebuffer=t||e.framebuffer,e.realBindFramebuffer.call(M,i,e.lastBoundFramebuffer)},this.cullFace=M.getParameter(M.CULL_FACE),this.depthTest=M.getParameter(M.DEPTH_TEST),this.blend=M.getParameter(M.BLEND),this.scissorTest=M.getParameter(M.SCISSOR_TEST),this.stencilTest=M.getParameter(M.STENCIL_TEST),M.enable=function(i){switch(i){case M.CULL_FACE:e.cullFace=!0;break;case M.DEPTH_TEST:e.depthTest=!0;break;case M.BLEND:e.blend=!0;break;case M.SCISSOR_TEST:e.scissorTest=!0;break;case M.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(M,i)},M.disable=function(i){switch(i){case M.CULL_FACE:e.cullFace=!1;break;case M.DEPTH_TEST:e.depthTest=!1;break;case M.BLEND:e.blend=!1;break;case M.SCISSOR_TEST:e.scissorTest=!1;break;case M.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(M,i)},this.colorMask=M.getParameter(M.COLOR_WRITEMASK),M.colorMask=function(i,t,s,r){e.colorMask[0]=i,e.colorMask[1]=t,e.colorMask[2]=s,e.colorMask[3]=r,e.realColorMask.call(M,i,t,s,r)},this.clearColor=M.getParameter(M.COLOR_CLEAR_VALUE),M.clearColor=function(i,t,s,r){e.clearColor[0]=i,e.clearColor[1]=t,e.clearColor[2]=s,e.clearColor[3]=r,e.realClearColor.call(M,i,t,s,r)},this.viewport=M.getParameter(M.VIEWPORT),M.viewport=function(i,t,s,r){e.viewport[0]=i,e.viewport[1]=t,e.viewport[2]=s,e.viewport[3]=r,e.realViewport.call(M,i,t,s,r)},this.isPatched=!0,r.safariCssSizeWorkaround(i)}},t.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,i=this.gl.canvas;r.isIOS()||(Object.defineProperty(i,\"width\",this.realCanvasWidth),Object.defineProperty(i,\"height\",this.realCanvasHeight)),i.width=this.bufferWidth,i.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){r.safariCssSizeWorkaround(i)},1)}},t.prototype.setTextureBounds=function(e,i){e||(e=[0,0,.5,1]),i||(i=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=i[0],this.viewportOffsetScale[5]=i[1],this.viewportOffsetScale[6]=i[2],this.viewportOffsetScale[7]=i[3]},t.prototype.submitFrame=function(){var e=this.gl,i=this,M=[];if(window.WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||M.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),N(e,M,function(e){i.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),i.cullFace&&i.realDisable.call(e,e.CULL_FACE),i.depthTest&&i.realDisable.call(e,e.DEPTH_TEST),i.blend&&i.realDisable.call(e,e.BLEND),i.scissorTest&&i.realDisable.call(e,e.SCISSOR_TEST),i.stencilTest&&i.realDisable.call(e,e.STENCIL_TEST),i.realColorMask.call(e,!0,!0,!0,!0),i.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(i.ctxAttribs.alpha||r.isIOS())&&(i.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(i.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,i.vertexBuffer),e.enableVertexAttribArray(i.attribs.position),e.enableVertexAttribArray(i.attribs.texCoord),e.vertexAttribPointer(i.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(i.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(i.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,i.renderTarget),e.uniform4fv(i.uniforms.viewportOffsetScale,i.viewportOffsetScale),e.drawElements(e.TRIANGLES,i.indexCount,e.UNSIGNED_SHORT,0),i.cardboardUI&&i.cardboardUI.renderNoState(),i.realBindFramebuffer.call(i.gl,e.FRAMEBUFFER,i.framebuffer),i.ctxAttribs.preserveDrawingBuffer||(i.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),window.WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||i.realBindFramebuffer.call(e,e.FRAMEBUFFER,i.lastBoundFramebuffer),i.cullFace&&i.realEnable.call(e,e.CULL_FACE),i.depthTest&&i.realEnable.call(e,e.DEPTH_TEST),i.blend&&i.realEnable.call(e,e.BLEND),i.scissorTest&&i.realEnable.call(e,e.SCISSOR_TEST),i.stencilTest&&i.realEnable.call(e,e.STENCIL_TEST),i.realColorMask.apply(e,i.colorMask),i.realViewport.apply(e,i.viewport),!i.ctxAttribs.alpha&&i.ctxAttribs.preserveDrawingBuffer||i.realClearColor.apply(e,i.clearColor)}),r.isIOS()){var t=e.canvas;t.width==i.bufferWidth&&t.height==i.bufferHeight||(i.bufferWidth=t.width,i.bufferHeight=t.height,i.onResize())}},t.prototype.updateDeviceInfo=function(e){var i=this.gl,M=this,t=[i.ARRAY_BUFFER_BINDING,i.ELEMENT_ARRAY_BUFFER_BINDING];N(i,t,function(i){var t=M.computeMeshVertices_(M.meshWidth,M.meshHeight,e);if(i.bindBuffer(i.ARRAY_BUFFER,M.vertexBuffer),i.bufferData(i.ARRAY_BUFFER,t,i.STATIC_DRAW),!M.indexCount){var s=M.computeMeshIndices_(M.meshWidth,M.meshHeight);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,M.indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,s,i.STATIC_DRAW),M.indexCount=s.length}})},t.prototype.computeMeshVertices_=function(e,i,M){for(var t=new Float32Array(2*e*i*5),s=M.getLeftEyeVisibleTanAngles(),N=M.getLeftEyeNoLensTanAngles(),D=M.getLeftEyeVisibleScreenRect(N),n=0,u=0;u<2;u++){for(var a=0;a<i;a++)for(var o=0;o<e;o++,n++){var g=o/(e-1),L=a/(i-1),j=g,I=L,c=r.lerp(s[0],s[2],g),T=r.lerp(s[3],s[1],L),A=Math.sqrt(c*c+T*T),w=M.distortion.distortInverse(A),y=c*w/A,E=T*w/A;g=(y-N[0])/(N[2]-N[0]),L=(E-N[3])/(N[1]-N[3]);M.device.widthMeters,M.device.heightMeters;g=2*(D.x+g*D.width-.5),L=2*(D.y+L*D.height-.5),t[5*n+0]=g,t[5*n+1]=L,t[5*n+2]=j,t[5*n+3]=I,t[5*n+4]=u}var l=s[2]-s[0];s[0]=-(l+s[0]),s[2]=l-s[2],l=N[2]-N[0],N[0]=-(l+N[0]),N[2]=l-N[2],D.x=1-(D.x+D.width)}return t},t.prototype.computeMeshIndices_=function(e,i){for(var M=new Uint16Array(2*(e-1)*(i-1)*6),t=e/2,s=i/2,r=0,N=0,D=0;D<2;D++)for(var n=0;n<i;n++)for(var u=0;u<e;u++,r++)0!=u&&0!=n&&(u<=t==n<=s?(M[N++]=r,M[N++]=r-e-1,M[N++]=r-e,M[N++]=r-e-1,M[N++]=r,M[N++]=r-1):(M[N++]=r-1,M[N++]=r-e,M[N++]=r,M[N++]=r-e,M[N++]=r-1,M[N++]=r-e-1));return M},t.prototype.getOwnPropertyDescriptor_=function(e,i){var M=Object.getOwnPropertyDescriptor(e,i);return void 0!==M.get&&void 0!==M.set||(M.configurable=!0,M.enumerable=!0,M.get=function(){return this.getAttribute(i)},M.set=function(e){this.setAttribute(i,e)}),M},e.exports=t},function(e,i){function M(e){this.coefficients=e}M.prototype.distortInverse=function(e){for(var i=0,M=1,t=e-this.distort(i);Math.abs(M-i)>1e-4;){var s=e-this.distort(M),r=M-s*((M-i)/(s-t));i=M,M=r,t=s}return M},M.prototype.distort=function(e){for(var i=e*e,M=0,t=0;t<this.coefficients.length;t++)M=i*(M+this.coefficients[t]);return(M+1)*e},e.exports=M},function(e,i,M){function t(e,i){if(this.dpdb=r,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=i;var M=new XMLHttpRequest,t=this;M.open(\"GET\",D,!0),M.addEventListener(\"load\",function(){t.loading=!1,M.status>=200&&M.status<=299?(t.dpdb=JSON.parse(M.response),t.recalculateDeviceParams_()):console.error(\"Error loading online DPDB!\")}),M.send()}}function s(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}var r=M(13),N=M(0),D=\"https://dpdb.webvr.rocks/dpdb.json\";t.prototype.getDeviceParams=function(){return this.deviceParams},t.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error(\"Failed to recalculate device parameters.\")},t.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error(\"DPDB not available.\"),null;if(1!=e.format)return console.error(\"DPDB has unexpected format version.\"),null;if(!e.devices||!e.devices.length)return console.error(\"DPDB does not have a devices section.\"),null;var i=navigator.userAgent||navigator.vendor||window.opera,M=N.getScreenWidth(),t=N.getScreenHeight();if(!e.devices)return console.error(\"DPDB has no devices section.\"),null;for(var r=0;r<e.devices.length;r++){var D=e.devices[r];if(D.rules)if(\"ios\"==D.type||\"android\"==D.type){if(N.isIOS()==(\"ios\"==D.type)){for(var n=!1,u=0;u<D.rules.length;u++){var a=D.rules[u];if(this.matchRule_(a,i,M,t)){n=!0;break}}if(n){var o=D.dpi[0]||D.dpi,g=D.dpi[1]||D.dpi;return new s({xdpi:o,ydpi:g,bevelMm:D.bw})}}}else console.warn(\"Device[\"+r+\"] has invalid type.\");else console.warn(\"Device[\"+r+\"] has no rules section.\")}return console.warn(\"No DPDB device match.\"),null},t.prototype.matchRule_=function(e,i,M,t){if(!e.ua&&!e.res)return!1;if(e.ua&&i.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var s=e.res[0],r=e.res[1];if(Math.min(M,t)!=Math.min(s,r)||Math.max(M,t)!=Math.max(s,r))return!1}return!0},e.exports=t},function(e,i){e.exports={format:1,last_updated:\"2017-08-27T14:39:31Z\",devices:[{type:\"android\",rules:[{mdmh:\"asus/*/Nexus 7/*\"},{ua:\"Nexus 7\"}],dpi:[320.8,323],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"asus/*/ASUS_Z00AD/*\"},{ua:\"ASUS_Z00AD\"}],dpi:[403,404.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Google/*/Pixel XL/*\"},{ua:\"Pixel XL\"}],dpi:[537.9,533],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Google/*/Pixel/*\"},{ua:\"Pixel\"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC6435LVW/*\"},{ua:\"HTC6435LVW\"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC One XL/*\"},{ua:\"HTC One XL\"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"htc/*/Nexus 9/*\"},{ua:\"Nexus 9\"}],dpi:289,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC One M9/*\"},{ua:\"HTC One M9\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC One_M8/*\"},{ua:\"HTC One_M8\"}],dpi:[449.7,447.4],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"HTC/*/HTC One/*\"},{ua:\"HTC One\"}],dpi:472.8,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Huawei/*/Nexus 6P/*\"},{ua:\"Nexus 6P\"}],dpi:[515.1,518],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LENOVO/*/Lenovo PB2-690Y/*\"},{ua:\"Lenovo PB2-690Y\"}],dpi:[457.2,454.713],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"LGE/*/Nexus 5X/*\"},{ua:\"Nexus 5X\"}],dpi:[422,419.9],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/LGMS345/*\"},{ua:\"LGMS345\"}],dpi:[221.7,219.1],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"LGE/*/LG-D800/*\"},{ua:\"LG-D800\"}],dpi:[422,424.1],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"LGE/*/LG-D850/*\"},{ua:\"LG-D850\"}],dpi:[537.9,541.9],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"LGE/*/VS985 4G/*\"},{ua:\"VS985 4G\"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/Nexus 5/*\"},{ua:\"Nexus 5 B\"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/Nexus 4/*\"},{ua:\"Nexus 4\"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/LG-P769/*\"},{ua:\"LG-P769\"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/LGMS323/*\"},{ua:\"LGMS323\"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"LGE/*/LGLS996/*\"},{ua:\"LGLS996\"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Micromax/*/4560MMX/*\"},{ua:\"4560MMX\"}],dpi:[240,219.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Micromax/*/A250/*\"},{ua:\"Micromax A250\"}],dpi:[480,446.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Micromax/*/Micromax AQ4501/*\"},{ua:\"Micromax AQ4501\"}],dpi:240,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/DROID RAZR/*\"},{ua:\"DROID RAZR\"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT830C/*\"},{ua:\"XT830C\"}],dpi:[254,255.9],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1021/*\"},{ua:\"XT1021\"}],dpi:[254,256.7],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1023/*\"},{ua:\"XT1023\"}],dpi:[254,256.7],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1028/*\"},{ua:\"XT1028\"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1034/*\"},{ua:\"XT1034\"}],dpi:[326.6,328.4],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1053/*\"},{ua:\"XT1053\"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1562/*\"},{ua:\"XT1562\"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/Nexus 6/*\"},{ua:\"Nexus 6 B\"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1063/*\"},{ua:\"XT1063\"}],dpi:[295,296.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1064/*\"},{ua:\"XT1064\"}],dpi:[295,295.6],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1092/*\"},{ua:\"XT1092\"}],dpi:[422,424.1],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"motorola/*/XT1095/*\"},{ua:\"XT1095\"}],dpi:[422,423.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"motorola/*/G4/*\"},{ua:\"Moto G (4)\"}],dpi:401,bw:4,ac:1e3},{type:\"android\",rules:[{mdmh:\"OnePlus/*/A0001/*\"},{ua:\"A0001\"}],dpi:[403.4,401],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"OnePlus/*/ONE E1005/*\"},{ua:\"ONE E1005\"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"OnePlus/*/ONE A2005/*\"},{ua:\"ONE A2005\"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"OPPO/*/X909/*\"},{ua:\"X909\"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9082/*\"},{ua:\"GT-I9082\"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G360P/*\"},{ua:\"SM-G360P\"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/Nexus S/*\"},{ua:\"Nexus S\"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9300/*\"},{ua:\"GT-I9300\"}],dpi:[304.8,303.9],bw:5,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-T230NU/*\"},{ua:\"SM-T230NU\"}],dpi:216,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SGH-T399/*\"},{ua:\"SGH-T399\"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SGH-M919/*\"},{ua:\"SGH-M919\"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N9005/*\"},{ua:\"SM-N9005\"}],dpi:[386.4,387],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SAMSUNG-SM-N900A/*\"},{ua:\"SAMSUNG-SM-N900A\"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9500/*\"},{ua:\"GT-I9500\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9505/*\"},{ua:\"GT-I9505\"}],dpi:439.4,bw:4,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G900F/*\"},{ua:\"SM-G900F\"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G900M/*\"},{ua:\"SM-G900M\"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G800F/*\"},{ua:\"SM-G800F\"}],dpi:326.8,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G906S/*\"},{ua:\"SM-G906S\"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9300/*\"},{ua:\"GT-I9300\"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-T535/*\"},{ua:\"SM-T535\"}],dpi:[142.6,136.4],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N920C/*\"},{ua:\"SM-N920C\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N920W8/*\"},{ua:\"SM-N920W8\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9300I/*\"},{ua:\"GT-I9300I\"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-I9195/*\"},{ua:\"GT-I9195\"}],dpi:[249.4,256.7],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SPH-L520/*\"},{ua:\"SPH-L520\"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SAMSUNG-SGH-I717/*\"},{ua:\"SAMSUNG-SGH-I717\"}],dpi:285.8,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SPH-D710/*\"},{ua:\"SPH-D710\"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/GT-N7100/*\"},{ua:\"GT-N7100\"}],dpi:265.1,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SCH-I605/*\"},{ua:\"SCH-I605\"}],dpi:265.1,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/Galaxy Nexus/*\"},{ua:\"Galaxy Nexus\"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N910H/*\"},{ua:\"SM-N910H\"}],dpi:[515.1,518],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-N910C/*\"},{ua:\"SM-N910C\"}],dpi:[515.2,520.2],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G130M/*\"},{ua:\"SM-G130M\"}],dpi:[165.9,164.8],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G928I/*\"},{ua:\"SM-G928I\"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G920F/*\"},{ua:\"SM-G920F\"}],dpi:580.6,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G920P/*\"},{ua:\"SM-G920P\"}],dpi:[522.5,577],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G925F/*\"},{ua:\"SM-G925F\"}],dpi:580.6,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G925V/*\"},{ua:\"SM-G925V\"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G930F/*\"},{ua:\"SM-G930F\"}],dpi:576.6,bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G935F/*\"},{ua:\"SM-G935F\"}],dpi:533,bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G950F/*\"},{ua:\"SM-G950F\"}],dpi:[562.707,565.293],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"samsung/*/SM-G955U/*\"},{ua:\"SM-G955U\"}],dpi:[522.514,525.762],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"Sony/*/C6903/*\"},{ua:\"C6903\"}],dpi:[442.5,443.3],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"Sony/*/D6653/*\"},{ua:\"D6653\"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Sony/*/E6653/*\"},{ua:\"E6653\"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Sony/*/E6853/*\"},{ua:\"E6853\"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"Sony/*/SGP321/*\"},{ua:\"SGP321\"}],dpi:[224.7,224.1],bw:3,ac:500},{type:\"android\",rules:[{mdmh:\"TCT/*/ALCATEL ONE TOUCH Fierce/*\"},{ua:\"ALCATEL ONE TOUCH Fierce\"}],dpi:[240,247.5],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"THL/*/thl 5000/*\"},{ua:\"thl 5000\"}],dpi:[480,443.3],bw:3,ac:1e3},{type:\"android\",rules:[{mdmh:\"ZTE/*/ZTE Blade L2/*\"},{ua:\"ZTE Blade L2\"}],dpi:240,bw:3,ac:500},{type:\"ios\",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:\"ios\",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:\"ios\",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:\"ios\",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:\"ios\",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3}]}},function(e,i,M){function t(){this.deviceId=\"webvr-polyfill:fused\",this.deviceName=\"VR Position Device (webvr-polyfill:fused)\",this.accelerometer=new D.Vector3,this.gyroscope=new D.Vector3,this.start(),this.filter=new s(window.WebVRConfig.K_FILTER),this.posePredictor=new r(window.WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new N,this.filterToWorldQ=new D.Quaternion,n.isIOS()?this.filterToWorldQ.setFromAxisAngle(new D.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new D.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new D.Quaternion,this.worldToScreenQ=new D.Quaternion,this.originalPoseAdjustQ=new D.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new D.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),n.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new D.Quaternion,this.isFirefoxAndroid=n.isFirefoxAndroid(),this.isIOS=n.isIOS(),this.orientationOut_=new Float32Array(4)}var s=M(15),r=M(17),N=M(18),D=M(2),n=M(0);t.prototype.getPosition=function(){return null},t.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var i=new D.Quaternion;return i.copy(this.filterToWorldQ),i.multiply(this.resetQ),window.WebVRConfig.TOUCH_PANNER_DISABLED||i.multiply(this.touchPanner.getOrientation()),i.multiply(this.predictedQ),i.multiply(this.worldToScreenQ),window.WebVRConfig.YAW_ONLY&&(i.x=0,i.z=0,i.normalize()),this.orientationOut_[0]=i.x,this.orientationOut_[1]=i.y,this.orientationOut_[2]=i.z,this.orientationOut_[3]=i.w,this.orientationOut_},t.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),n.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),window.WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},t.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},t.prototype.updateDeviceMotion_=function(e){var i=e.accelerationIncludingGravity,M=e.rotationRate,t=e.timeStamp/1e3,s=t-this.previousTimestampS;if(s<=n.MIN_TIMESTEP||s>n.MAX_TIMESTEP)return console.warn(\"Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic\"),void(this.previousTimestampS=t);this.accelerometer.set(-i.x,-i.y,-i.z),n.isR7()?this.gyroscope.set(-M.beta,M.alpha,M.gamma):this.gyroscope.set(M.alpha,M.beta,M.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,t),this.filter.addGyroMeasurement(this.gyroscope,t),this.previousTimestampS=t},t.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},t.prototype.onMessage_=function(e){var i=e.data;if(i&&i.type){\"devicemotion\"===i.type.toLowerCase()&&this.updateDeviceMotion_(i.deviceMotionEvent)}},t.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new D.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new D.Vector3(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},t.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),n.isIOS()&&n.isInsideCrossDomainIFrame()&&window.addEventListener(\"message\",this.onMessageCallback_),window.addEventListener(\"orientationchange\",this.onOrientationChangeCallback_),window.addEventListener(\"devicemotion\",this.onDeviceMotionCallback_)},t.prototype.stop=function(){window.removeEventListener(\"devicemotion\",this.onDeviceMotionCallback_),window.removeEventListener(\"orientationchange\",this.onOrientationChangeCallback_),window.removeEventListener(\"message\",this.onMessageCallback_)},e.exports=t},function(e,i,M){function t(e){this.kFilter=e,this.currentAccelMeasurement=new s,this.currentGyroMeasurement=new s,this.previousGyroMeasurement=new s,N.isIOS()?this.filterQ=new r.Quaternion(-1,0,0,1):this.filterQ=new r.Quaternion(1,0,0,1),this.previousFilterQ=new r.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new r.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new r.Vector3,this.measuredGravity=new r.Vector3,this.gyroIntegralQ=new r.Quaternion}var s=M(16),r=M(2),N=M(0);t.prototype.addAccelMeasurement=function(e,i){this.currentAccelMeasurement.set(e,i)},t.prototype.addGyroMeasurement=function(e,i){this.currentGyroMeasurement.set(e,i);var M=i-this.previousGyroMeasurement.timestampS;N.isTimestampDeltaValid(M)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},t.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,i=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(i),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(i);var M=new r.Quaternion;M.copy(this.filterQ),M.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(M),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var t=new r.Quaternion;t.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),t.inverse(),N.isDebug()&&console.log(\"Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)\",r.radToDeg*N.getQuaternionAngle(t),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var s=new r.Quaternion;s.copy(this.filterQ),s.multiply(t),this.filterQ.slerp(s,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},t.prototype.getOrientation=function(){return this.filterQ},t.prototype.accelToQuaternion_=function(e){var i=new r.Vector3;i.copy(e),i.normalize();var M=new r.Quaternion;return M.setFromUnitVectors(new r.Vector3(0,0,-1),i),M.inverse(),M},t.prototype.gyroToQuaternionDelta_=function(e,i){var M=new r.Quaternion,t=new r.Vector3;return t.copy(e),t.normalize(),M.setFromAxisAngle(t,e.length()*i),M},e.exports=t},function(e,i){function M(e,i){this.set(e,i)}M.prototype.set=function(e,i){this.sample=e,this.timestampS=i},M.prototype.copy=function(e){this.set(e.sample,e.timestampS)},e.exports=M},function(e,i,M){function t(e){this.predictionTimeS=e,this.previousQ=new s.Quaternion,this.previousTimestampS=null,this.deltaQ=new s.Quaternion,this.outQ=new s.Quaternion}var s=M(2),r=M(0);t.prototype.getPrediction=function(e,i,M){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=M,e;var t=new s.Vector3;t.copy(i),t.normalize();var N=i.length();if(N<20*s.degToRad)return r.isDebug()&&console.log(\"Moving slowly, at %s deg/s: no prediction\",(s.radToDeg*N).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var D=(this.previousTimestampS,N*this.predictionTimeS);return this.deltaQ.setFromAxisAngle(t,D),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=M,this.outQ},e.exports=t},function(e,i,M){function t(){window.addEventListener(\"touchstart\",this.onTouchStart_.bind(this)),window.addEventListener(\"touchmove\",this.onTouchMove_.bind(this)),window.addEventListener(\"touchend\",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new s.Vector2,this.rotateEnd=new s.Vector2,this.rotateDelta=new s.Vector2,this.theta=0,this.orientation=new s.Quaternion}var s=M(2),r=M(0);t.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},t.prototype.resetSensor=function(){this.theta=0},t.prototype.onTouchStart_=function(e){e.touches&&1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},t.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),r.isIOS()&&(this.rotateDelta.x*=-1);var i=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/i.clientWidth*.5}},t.prototype.onTouchEnd_=function(e){this.isTouching=!1},e.exports=t},function(e,i,M){function t(){this.loadIcon_();var e=document.createElement(\"div\"),i=e.style;i.position=\"fixed\",i.top=0,i.right=0,i.bottom=0,i.left=0,i.backgroundColor=\"gray\",i.fontFamily=\"sans-serif\",i.zIndex=1e6;var M=document.createElement(\"img\");M.src=this.icon;var i=M.style;i.marginLeft=\"25%\",i.marginTop=\"25%\",i.width=\"50%\",e.appendChild(M);var t=document.createElement(\"div\"),i=t.style;i.textAlign=\"center\",i.fontSize=\"16px\",i.lineHeight=\"24px\",i.margin=\"24px 25%\",i.width=\"50%\",t.innerHTML=\"Place your phone into your Cardboard viewer.\",e.appendChild(t);var s=document.createElement(\"div\"),i=s.style;i.backgroundColor=\"#CFD8DC\",i.position=\"fixed\",i.bottom=0,i.width=\"100%\",i.height=\"48px\",i.padding=\"14px 24px\",i.boxSizing=\"border-box\",i.color=\"#656A6B\",e.appendChild(s);var r=document.createElement(\"div\");r.style.float=\"left\",r.innerHTML=\"No Cardboard viewer?\";var N=document.createElement(\"a\");N.href=\"https://www.google.com/get/cardboard/get-cardboard/\",N.innerHTML=\"get one\",N.target=\"_blank\";var i=N.style;i.float=\"right\",i.fontWeight=600,i.textTransform=\"uppercase\",i.borderLeft=\"1px solid gray\",i.paddingLeft=\"24px\",i.textDecoration=\"none\",i.color=\"#656A6B\",s.appendChild(r),s.appendChild(N),this.overlay=e,this.text=t,this.hide()}var s=M(0);t.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display=\"block\";var i=this.overlay.querySelector(\"img\"),M=i.style;s.isLandscapeMode()?(M.width=\"20%\",M.marginLeft=\"40%\",M.marginTop=\"3%\"):(M.width=\"50%\",M.marginLeft=\"25%\",M.marginTop=\"25%\")},t.prototype.hide=function(){this.overlay.style.display=\"none\"},t.prototype.showTemporarily=function(e,i){this.show(i),this.timer=setTimeout(this.hide.bind(this),e)},t.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},t.prototype.update=function(){this.disableShowTemporarily(),!s.isLandscapeMode()&&s.isMobile()?this.show():this.hide()},t.prototype.loadIcon_=function(){this.icon=s.base64(\"image/svg+xml\",\"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\")},e.exports=t},function(e,i,M){function t(){try{this.selectedKey=localStorage.getItem(N)}catch(e){console.error(\"Failed to load viewer profile: %s\",e)}this.selectedKey||(this.selectedKey=r),this.dialog=this.createDialog_(s.Viewers),this.root=null,this.onChangeCallbacks_=[]}var s=M(5),r=(M(0),\"CardboardV1\"),N=\"WEBVR_CARDBOARD_VIEWER\";t.prototype.show=function(e){this.root=e,e.appendChild(this.dialog),this.dialog.querySelector(\"#\"+this.selectedKey).checked=!0,this.dialog.style.display=\"block\"},t.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display=\"none\"},t.prototype.getCurrentViewer=function(){return s.Viewers[this.selectedKey]},t.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector(\"input[name=field]:checked\");return e?e.id:null},t.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},t.prototype.fireOnChange_=function(e){for(var i=0;i<this.onChangeCallbacks_.length;i++)this.onChangeCallbacks_[i](e)},t.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!s.Viewers[this.selectedKey])return void console.error(\"ViewerSelector.onSave_: this should never happen!\");this.fireOnChange_(s.Viewers[this.selectedKey]);try{localStorage.setItem(N,this.selectedKey)}catch(e){console.error(\"Failed to save viewer profile: %s\",e)}this.hide()},t.prototype.createDialog_=function(e){var i=document.createElement(\"div\");i.classList.add(\"webvr-polyfill-viewer-selector\"),i.style.display=\"none\";var M=document.createElement(\"div\"),t=M.style;t.position=\"fixed\",t.left=0,t.top=0,t.width=\"100%\",t.height=\"100%\",t.background=\"rgba(0, 0, 0, 0.3)\",M.addEventListener(\"click\",this.hide.bind(this));var s=document.createElement(\"div\"),t=s.style;t.boxSizing=\"border-box\",t.position=\"fixed\",t.top=\"24px\",t.left=\"50%\",t.marginLeft=\"-140px\",t.width=\"280px\",t.padding=\"24px\",t.overflow=\"hidden\",t.background=\"#fafafa\",t.fontFamily=\"'Roboto', sans-serif\",t.boxShadow=\"0px 5px 20px #666\",s.appendChild(this.createH1_(\"Select your viewer\"));for(var r in e)s.appendChild(this.createChoice_(r,e[r].label));return s.appendChild(this.createButton_(\"Save\",this.onSave_.bind(this))),i.appendChild(M),i.appendChild(s),i},t.prototype.createH1_=function(e){var i=document.createElement(\"h1\"),M=i.style;return M.color=\"black\",M.fontSize=\"20px\",M.fontWeight=\"bold\",M.marginTop=0,M.marginBottom=\"24px\",i.innerHTML=e,i},t.prototype.createChoice_=function(e,i){var M=document.createElement(\"div\");M.style.marginTop=\"8px\",M.style.color=\"black\";var t=document.createElement(\"input\");t.style.fontSize=\"30px\",t.setAttribute(\"id\",e),t.setAttribute(\"type\",\"radio\"),t.setAttribute(\"value\",e),t.setAttribute(\"name\",\"field\");var s=document.createElement(\"label\");return s.style.marginLeft=\"4px\",s.setAttribute(\"for\",e),s.innerHTML=i,M.appendChild(t),M.appendChild(s),M},t.prototype.createButton_=function(e,i){var M=document.createElement(\"button\");M.innerHTML=e;var t=M.style;return t.float=\"right\",t.textTransform=\"uppercase\",t.color=\"#1094f7\",t.fontSize=\"14px\",t.letterSpacing=0,t.border=0,t.background=\"none\",t.marginTop=\"16px\",M.addEventListener(\"click\",i),M},e.exports=t},function(e,i,M){function t(){function e(e,i,M){var t=document.createElement(\"source\");t.src=M,t.type=\"video/\"+i,e.appendChild(t)}var i=document.createElement(\"video\");i.setAttribute(\"loop\",\"\"),e(i,\"webm\",r.base64(\"video/webm\",\"GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=\")),e(i,\"mp4\",r.base64(\"video/mp4\",\"AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw==\")),this.request=function(){i.paused&&i.play()},this.release=function(){i.pause()}}function s(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}var r=M(0);e.exports=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?s:t}()},function(e,i,M){function t(){this.displayName=\"Mouse and Keyboard VRDisplay (webvr-polyfill)\",this.capabilities.hasOrientation=!0,window.addEventListener(\"keydown\",this.onKeyDown_.bind(this)),window.addEventListener(\"mousemove\",this.onMouseMove_.bind(this)),window.addEventListener(\"mousedown\",this.onMouseDown_.bind(this)),window.addEventListener(\"mouseup\",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new r.Quaternion,this.rotateStart_=new r.Vector2,this.rotateEnd_=new r.Vector2,this.rotateDelta_=new r.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var s=M(1).VRDisplay,r=M(2),N=M(0);t.prototype=new s,t.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},t.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+.15):39==e.keyCode?this.animateTheta_(this.theta_-.15):40==e.keyCode?this.animatePhi_(this.phi_-.15):37==e.keyCode&&this.animateTheta_(this.theta_+.15)},t.prototype.animateTheta_=function(e){this.animateKeyTransitions_(\"theta_\",e)},t.prototype.animatePhi_=function(e){e=N.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_(\"phi_\",e)},t.prototype.animateKeyTransitions_=function(e,i){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var M=this[e],t=new Date;this.angleAnimation_=requestAnimationFrame(function s(){var r=new Date-t;if(r>=80)return this[e]=i,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(s.bind(this));var N=r/80;this[e]=M+(i-M)*N}.bind(this))},t.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},t.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var i=e.movementX||e.mozMovementX||0,M=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-i,this.rotateStart_.y-M)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*.3,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*.5,this.phi_=N.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},t.prototype.onMouseUp_=function(e){this.isDragging_=!1},t.prototype.isPointerLocked_=function(){return void 0!==(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement)},t.prototype.resetPose=function(){this.phi_=0,this.theta_=0},e.exports=t},function(e,i){e.exports={name:\"webvr-polyfill\",version:\"0.9.40\",homepage:\"https://github.com/googlevr/webvr-polyfill\",authors:[\"Boris Smus <boris@smus.com>\",\"Brandon Jones <tojiro@gmail.com>\",\"Jordan Santell <jordan@jsantell.com>\"],description:\"Use WebVR today, on mobile or desktop, without requiring a special browser build.\",devDependencies:{chai:\"^3.5.0\",jsdom:\"^9.12.0\",mocha:\"^3.2.0\",semver:\"^5.3.0\",webpack:\"^2.6.1\",\"webpack-dev-server\":\"2.7.1\"},main:\"src/node-entry\",keywords:[\"vr\",\"webvr\"],license:\"Apache-2.0\",scripts:{start:\"npm run watch\",watch:\"webpack-dev-server\",build:\"webpack\",test:\"mocha\"},repository:\"googlevr/webvr-polyfill\",bugs:{url:\"https://github.com/googlevr/webvr-polyfill/issues\"}}}]);\n//# sourceMappingURL=webvr-polyfill.min.js.map","/*! NoSleep.js v0.7.0 - git.io/vfn01 - Rich Tibbett - MIT license */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NoSleep\"] = factory();\n\telse\n\t\troot[\"NoSleep\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar mediaFile = __webpack_require__(1);\n\n// Detect iOS browsers < version 10\nvar oldIOS = typeof navigator !== 'undefined' && parseFloat(('' + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '')) < 10 && !window.MSStream;\n\nvar NoSleep = function () {\n  function NoSleep() {\n    _classCallCheck(this, NoSleep);\n\n    if (oldIOS) {\n      this.noSleepTimer = null;\n    } else {\n      // Set up no sleep video element\n      this.noSleepVideo = document.createElement('video');\n\n      this.noSleepVideo.setAttribute('playsinline', '');\n      this.noSleepVideo.setAttribute('src', mediaFile);\n\n      this.noSleepVideo.addEventListener('timeupdate', function (e) {\n        if (this.noSleepVideo.currentTime > 0.5) {\n          this.noSleepVideo.currentTime = Math.random();\n        }\n      }.bind(this));\n    }\n  }\n\n  _createClass(NoSleep, [{\n    key: 'enable',\n    value: function enable() {\n      if (oldIOS) {\n        this.disable();\n        this.noSleepTimer = window.setInterval(function () {\n          window.location.href = '/';\n          window.setTimeout(window.stop, 0);\n        }, 15000);\n      } else {\n        this.noSleepVideo.play();\n      }\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      if (oldIOS) {\n        if (this.noSleepTimer) {\n          window.clearInterval(this.noSleepTimer);\n          this.noSleepTimer = null;\n        }\n      } else {\n        this.noSleepVideo.pause();\n      }\n    }\n  }]);\n\n  return NoSleep;\n}();\n\n;\n\nmodule.exports = NoSleep;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = 'data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQAD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';\n\n/***/ })\n/******/ ]);\n});","import * as THREE from 'three';\n\nexport const basic = new THREE.MeshBasicMaterial({\n  color: 0xffffff,\n  flatShading: true,\n  opacity: 0.5,\n  transparent: true,\n  depthTest: false,\n});\n\nexport const highlight = new THREE.MeshBasicMaterial({\n  color: 0xfff000,\n  flatShading: true,\n  opacity: 1.0,\n  transparent: true,\n  depthTest: false,\n});\n","// import { event, select } from 'd3-selection';\n// import 'd3-transition';\n// import Popup from '@flourish/popup';\n\n// import * as vrVis from './main';\nimport { setupScene } from './main';\n\n\n// import 'three';\n// import * as THREE from 'three';\n// import StereoEffect from '../node_modules/three/examples/js/effects/StereoEffect';\n\n\nexport const data = {};\n\n// The current state of template. You can make some or all of the properties\n// of the state object available to the user as settings in settings.js.\nexport const state = {\n  color: '#4f24ff',\n  opacity: 0.5,\n};\n\n// let w;\n// let h;\n// let svg;\n// const popup = Popup();\n\n// function setAttributes(selectionOrTransition) {\n//   selectionOrTransition\n//     .attr('fill', state.color)\n//     .attr('opacity', state.opacity)\n//     .attr('cx', d => d.x * w)\n//     .attr('cy', d => d.y * h)\n//     .attr('r', d => Math.sqrt(d.size));\n// }\n\n// The update function is called whenever the user changes a data table or settings\n// in the visualisation editor, or when changing slides in the story editor.\n// Tip: to make your template work nicely in the story editor, ensure that all user\n// interface controls such as buttons and sliders update the state and then call update.\nexport function update() {\n  // if (state.radius <= 0) throw new Error('Radius must be positive');\n  // const circles = svg.selectAll('circle').data(data.circles);\n  // circles.enter()\n  //   .append('circle')\n  //   .on('click', (d) => {\n  //     popup.point(d.x * w, d.y * h).html(d.word).draw();\n  //     event.stopPropagation();\n  //   })\n  //   .call(setAttributes);\n  // circles.transition()\n  //   .call(setAttributes);\n  // circles.exit()\n  //   .remove();\n}\n\n// The draw function is called when the template first loads\nexport function draw() {\n  setupScene();\n  // w = window.innerWidth;\n  // h = window.innerHeight;\n  // svg = select(document.body)\n  //   .append('svg')\n  //   .attr('width', w)\n  //   .attr('height', h)\n  //   .on('click', () => {\n  //     popup.hide();\n  //   });\n  // update();\n}\n"],"names":["EventDispatcher","Vector2","x","y","this","Matrix4","elements","arguments","length","console","error","Quaternion","z","w","_x","_y","_z","_w","undefined","Vector3","Matrix3","Texture","image","mapping","wrapS","wrapT","magFilter","minFilter","format","type","anisotropy","encoding","Object","defineProperty","value","textureId","uuid","_Math","generateUUID","name","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","ClampToEdgeWrapping","LinearFilter","LinearMipMapLinearFilter","RGBAFormat","UnsignedByteType","offset","repeat","center","rotation","matrixAutoUpdate","matrix","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","LinearEncoding","version","onUpdate","Vector4","WebGLRenderTarget","width","height","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","WebGLRenderTargetCube","call","activeCubeFace","activeMipMapLevel","DataTexture","data","NearestFilter","CubeTexture","images","CubeReflectionMapping","UniformContainer","seq","map","flatten","array","nBlocks","blockSize","firstElem","n","r","arrayCacheF32","Float32Array","toArray","i","allocTexUnits","renderer","arrayCacheI32","Int32Array","allocTextureUnit","setValue1f","gl","v","uniform1f","addr","setValue1i","uniform1i","setValue2fv","uniform2fv","uniform2f","setValue3fv","uniform3f","g","b","uniform3fv","setValue4fv","uniform4fv","uniform4f","setValue2fm","uniformMatrix2fv","setValue3fm","uniformMatrix3fv","mat3array","set","setValue4fm","uniformMatrix4fv","mat4array","setValueT1","unit","setTexture2D","emptyTexture","setValueT6","setTextureCube","emptyCubeTexture","setValue2iv","uniform2iv","setValue3iv","uniform3iv","setValue4iv","uniform4iv","setValue1fv","uniform1fv","setValue1iv","uniform1iv","setValueV2a","size","setValueV3a","setValueV4a","setValueM2a","setValueM3a","setValueM4a","setValueT1a","units","setValueT6a","SingleUniform","id","activeInfo","setValue","getSingularSetter","PureArrayUniform","getPureArraySetter","StructuredUniform","addUniform","container","uniformObject","push","parseUniform","path","pathLength","RePathPart","lastIndex","match","exec","matchEnd","idIsIndex","subscript","next","WebGLUniforms","program","getProgramParameter","ACTIVE_UNIFORMS","info","getActiveUniform","getUniformLocation","Color","setRGB","Box2","min","max","Infinity","WebGLFlareRenderer","state","textures","capabilities","init","vertices","faces","Uint16Array","vertexBuffer","createBuffer","elementBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","tempTexture","createTexture","occlusionTexture","bindTexture","TEXTURE_2D","texImage2D","RGB","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","RGBA","shader","vertexShader","join","fragmentShader","createProgram","createShader","FRAGMENT_SHADER","VERTEX_SHADER","prefix","precision","shaderSource","compileShader","attachShader","linkProgram","attributes","vertex","getAttribLocation","uv","uniforms","renderType","occlusionMap","opacity","color","scale","screenPosition","render","flares","scene","camera","tempPosition","invAspect","halfViewportWidth","halfViewportHeight","screenPositionPixels","validArea","useProgram","initAttributes","enableAttribute","disableUnusedAttributes","vertexAttribPointer","FLOAT","disable","CULL_FACE","buffers","depth","setMask","l","flare","matrixWorld","applyMatrix4","matrixWorldInverse","projectionMatrix","copy","containsPoint","activeTexture","TEXTURE0","TEXTURE1","copyTexImage2D","BLEND","enable","DEPTH_TEST","drawElements","TRIANGLES","UNSIGNED_SHORT","positionScreen","customUpdateCallback","updateLensFlares","j","jl","lensFlares","sprite","setBlending","blending","blendEquation","blendSrc","blendDst","reset","CanvasTexture","canvas","needsUpdate","WebGLSpriteRenderer","position","uvOffset","uvScale","modelViewMatrix","fogType","fogDensity","fogNear","fogFar","fogColor","fogDepth","alphaTest","document","createElementNS","context","getContext","fillStyle","fillRect","painterSortStable","a","renderOrder","spritePosition","spriteRotation","spriteScale","sprites","oldFogType","sceneFogType","fog","isFog","near","far","isFogExp2","density","multiplyMatrices","sort","material","visible","onBeforeRender","decompose","blendEquationAlpha","blendSrcAlpha","blendDstAlpha","premultipliedAlpha","setTest","depthTest","depthWrite","colorWrite","onAfterRender","Material","materialId","lights","NormalBlending","side","FrontSide","flatShading","vertexColors","NoColors","transparent","SrcAlphaFactor","OneMinusSrcAlphaFactor","AddEquation","depthFunc","LessEqualDepth","clippingPlanes","clipIntersection","clipShadows","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","overdraw","userData","MeshDepthMaterial","parameters","depthPacking","BasicDepthPacking","skinning","morphTargets","alphaMap","displacementMap","displacementScale","displacementBias","wireframe","wireframeLinewidth","setValues","MeshDistanceMaterial","referencePosition","nearDistance","farDistance","Box3","Sphere","radius","Plane","normal","constant","Frustum","p0","p1","p2","p3","p4","p5","planes","WebGLShadowMap","_renderer","_objects","maxTextureSize","getDepthMaterial","object","isPointLight","lightPositionWorld","shadowCameraNear","shadowCameraFar","geometry","result","materialVariants","_depthMaterials","customMaterial","customDepthMaterial","_distanceMaterials","customDistanceMaterial","useMorphing","isBufferGeometry","morphAttributes","isGeometry","isSkinnedMesh","warn","useSkinning","variantIndex","_MorphingFlag","_SkinningFlag","localClippingEnabled","keyA","keyB","materialsForVariant","_materialCache","cachedMaterial","clone","scope","renderSingleSided","DoubleSide","renderReverseSided","BackSide","linewidth","isMeshDistanceMaterial","renderObject","shadowCamera","layers","test","isMesh","isLine","isPoints","castShadow","frustumCulled","_frustum","intersectsObject","update","Array","isArray","groups","k","kl","group","groupMaterial","materialIndex","depthMaterial","_lightPositionWorld","renderBufferDirect","children","_projScreenMatrix","_shadowMapSize","_maxShadowMapSize","_lookTarget","_NumberOfMaterialVariants","cubeDirections","cubeUps","cube2DViewPorts","RGBADepthPacking","distanceMaterial","enabled","autoUpdate","PCFShadowMap","_gl","_state","setClear","setScissorTest","faceCount","il","light","shadow","mapSize","vpWidth","vpHeight","pars","updateProjectionMatrix","isSpotLightShadow","shadowMap","shadowMatrix","setFromMatrixPosition","makeTranslation","target","lookAt","updateMatrixWorld","multiply","setRenderTarget","clear","face","add","up","vpDimensions","setFromMatrix","WebGLAttributes","get","attribute","isInterleavedBufferAttribute","remove","deleteBuffer","buffer","bufferType","usage","dynamic","DYNAMIC_DRAW","onUploadCallback","Float64Array","Int16Array","SHORT","Uint32Array","UNSIGNED_INT","INT","Int8Array","BYTE","Uint8Array","bytesPerElement","BYTES_PER_ELEMENT","updateRange","count","bufferSubData","subarray","updateBuffer","Euler","order","_order","DefaultOrder","Layers","mask","Object3D","object3DId","parent","DefaultUp","quaternion","onChange","setFromEuler","setFromQuaternion","defineProperties","enumerable","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","receiveShadow","Camera","OrthographicCamera","left","right","top","bottom","zoom","view","Face3","c","isVector3","vertexNormals","isColor","Geometry","geometryId","colors","faceVertexUvs","morphNormals","skinWeights","skinIndices","lineDistances","boundingBox","boundingSphere","elementsNeedUpdate","verticesNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","BufferAttribute","itemSize","normalized","TypeError","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","DirectGeometry","indices","normals","uvs","uvs2","arrayMax","BufferGeometry","bufferGeometryId","index","drawRange","start","BoxGeometry","widthSegments","heightSegments","depthSegments","fromBufferGeometry","BoxBufferGeometry","mergeVertices","buildPlane","u","udir","vdir","gridX","gridY","ix","iy","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","vector","numberOfVertices","d","addGroup","groupStart","Math","floor","setIndex","addAttribute","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","MeshBasicMaterial","lightMap","lightMapIntensity","aoMap","aoMapIntensity","specularMap","envMap","combine","MultiplyOperation","reflectivity","refractionRatio","wireframeLinecap","wireframeLinejoin","ShaderMaterial","defines","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","uv2","index0AttributeName","Ray","origin","direction","Line3","end","Triangle","Mesh","random","drawMode","TrianglesDrawMode","updateMorphTargets","reversePainterSortStable","WebGLRenderLists","lists","hash","list","renderItems","renderItemsIndex","opaque","renderItem","dispose","absNumericalSort","abs","WebGLLights","cache","shadowBias","shadowRadius","shadowMapSize","distance","coneCos","penumbraCos","decay","skyColor","groundColor","halfWidth","halfHeight","ambient","directional","directionalShadowMap","directionalShadowMatrix","spot","spotShadowMap","spotShadowMatrix","rectArea","point","pointShadowMap","pointShadowMatrix","hemi","vector3","matrix4","matrix42","setup","shadows","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","viewMatrix","intensity","isAmbientLight","isDirectionalLight","multiplyScalar","sub","transformDirection","bias","isSpotLight","cos","angle","penumbra","isRectAreaLight","identity","premultiply","extractRotation","isHemisphereLight","normalize","WebGLShader","string","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","lines","split","addLineNumbers","getEncodingComponents","sRGBEncoding","RGBEEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","GammaEncoding","Error","getTexelDecodingFunction","functionName","components","filterEmptyLine","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","parseIncludes","include","ShaderChunk","unrollLoops","snippet","unroll","parseInt","WebGLProgram","code","shadowMapTypeDefine","shadowMapType","PCFSoftShadowMap","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","CubeRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","MixOperation","AddOperation","prefixVertex","prefixFragment","gammaFactorDefine","gammaFactor","customExtensions","rendererExtensions","envMapCubeUV","bumpMap","normalMap","logarithmicDepthBuffer","filter","generateExtensions","customDefines","chunks","generateDefines","isRawShaderMaterial","supportsVertexTextures","maxBones","useFog","fogExp","emissiveMap","roughnessMap","metalnessMap","useVertexTexture","doubleSided","flipSided","numClippingPlanes","shadowMapEnabled","sizeAttenuation","gradientMap","numClipIntersection","physicallyCorrectLights","toneMapping","NoToneMapping","toneMappingName","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","getToneMappingFunction","outputEncoding","mapEncoding","envMapEncoding","emissiveMapEncoding","getTexelEncodingFunction","isShaderMaterial","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","bindAttribLocation","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","LINK_STATUS","getError","VALIDATE_STATUS","diagnostics","log","deleteShader","cachedUniforms","getUniforms","cachedAttributes","getAttributes","ACTIVE_ATTRIBUTES","getActiveAttrib","fetchAttributeLocations","destroy","deleteProgram","programIdCount","usedTimes","WebGLPrograms","getTextureEncodingFromMap","gammaOverrideLinear","isTexture","isWebGLRenderTarget","programs","shaderIDs","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","parameterNames","getParameters","nClipPlanes","nClipIntersection","shaderID","bones","skeleton","floatVertexTextures","nVertexUniforms","maxVertexUniforms","nVertexMatrices","allocateBones","getMaxPrecision","currentRenderTarget","getRenderTarget","vertexTextures","gammaOutput","gammaInput","envMapMode","maxMorphTargets","maxMorphNormals","getProgramCode","onBeforeCompile","toString","acquireProgram","p","pl","programInfo","releaseProgram","indexOf","pop","WebGLTextures","properties","utils","infoMemory","clampToMaxSize","maxSize","drawImage","isPowerOfTwo","textureNeedsGenerateMipmaps","filterFallback","f","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LINEAR","onTextureDispose","event","removeEventListener","textureProperties","__image__webglTextureCube","deleteTexture","__webglInit","__webglTexture","deallocateTexture","onRenderTargetDispose","renderTarget","renderTargetProperties","isWebGLRenderTargetCube","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","deallocateRenderTarget","slot","__version","complete","addEventListener","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","textureNeedsPowerOfTwo","HTMLImageElement","HTMLCanvasElement","ImageBitmap","floorPowerOfTwo","makePowerOfTwo","isPowerOfTwoImage","glFormat","convert","glType","setTextureParameters","mipmap","isDepthTexture","internalFormat","DEPTH_COMPONENT","FloatType","_isWebGL2","DEPTH_COMPONENT32F","DEPTH_COMPONENT16","DepthFormat","UnsignedShortType","UnsignedIntType","DepthStencilFormat","DEPTH_STENCIL","UnsignedInt248Type","isDataTexture","isCompressedTexture","RGBFormat","getCompressedTextureFormats","compressedTexImage2D","generateMipmap","uploadTexture","textureType","extension","HalfFloatType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","getMaxAnisotropy","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","DEPTH_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","RGBA4","setupDepthRenderbuffer","isCube","webglDepthTexture","setupDepthTexture","createRenderbuffer","WebGL2RenderingContext","window","TEXTURE_CUBE_MAP","isCompressed","cubeImage","maxCubemapSize","TEXTURE_CUBE_MAP_POSITIVE_X","setTextureCubeDynamic","setupRenderTarget","isTargetPowerOfTwo","createFramebuffer","COLOR_ATTACHMENT0","updateRenderTargetMipmap","webglTexture","PerspectiveCamera","fov","aspect","focus","filmGauge","filmOffset","ArrayCamera","cameras","WebGLRenderer","getTargetPixelRatio","_currentRenderTarget","_pixelRatio","initGLContext","getExtension","RepeatWrapping","REPEAT","MirroredRepeatWrapping","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LinearMipMapNearestFilter","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","UnsignedShort4444Type","UNSIGNED_SHORT_4_4_4_4","UnsignedShort5551Type","UNSIGNED_SHORT_5_5_5_1","UnsignedShort565Type","UNSIGNED_SHORT_5_6_5","ByteType","ShortType","IntType","HALF_FLOAT_OES","AlphaFormat","ALPHA","LuminanceFormat","LUMINANCE","LuminanceAlphaFormat","LUMINANCE_ALPHA","FUNC_ADD","SubtractEquation","FUNC_SUBTRACT","ReverseSubtractEquation","FUNC_REVERSE_SUBTRACT","ZeroFactor","ZERO","OneFactor","ONE","SrcColorFactor","SRC_COLOR","OneMinusSrcColorFactor","ONE_MINUS_SRC_COLOR","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DstAlphaFactor","DST_ALPHA","OneMinusDstAlphaFactor","ONE_MINUS_DST_ALPHA","DstColorFactor","DST_COLOR","OneMinusDstColorFactor","ONE_MINUS_DST_COLOR","SrcAlphaSaturateFactor","SRC_ALPHA_SATURATE","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","RGB_ETC1_Format","COMPRESSED_RGB_ETC1_WEBGL","MinEquation","MaxEquation","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8_WEBGL","getShaderPrecisionFormat","HIGH_FLOAT","MEDIUM_FLOAT","maxAnisotropy","maxPrecision","maxTextures","getParameter","MAX_TEXTURE_IMAGE_UNITS","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","MAX_VERTEX_ATTRIBS","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","floatFragmentTextures","MAX_TEXTURE_MAX_ANISOTROPY_EXT","NoBlending","CustomBlending","currentBlending","currentPremultipledAlpha","AdditiveBlending","blendEquationSeparate","blendFuncSeparate","blendFunc","SubtractiveBlending","MultiplyBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","setFlipSided","currentFlipSided","frontFace","CW","CCW","setCullFace","cullFace","CullFaceNone","currentCullFace","CullFaceBack","BACK","CullFaceFront","FRONT","FRONT_AND_BACK","setPolygonOffset","factor","POLYGON_OFFSET_FILL","currentPolygonOffsetFactor","currentPolygonOffsetUnits","webglSlot","currentTextureSlot","colorBuffer","locked","currentColorMask","currentColorClear","colorMask","setLocked","lock","equals","clearColor","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","NeverDepth","NEVER","AlwaysDepth","ALWAYS","LessDepth","LESS","LEQUAL","EqualDepth","EQUAL","GreaterEqualDepth","GEQUAL","GreaterDepth","GREATER","NotEqualDepth","NOTEQUAL","clearDepth","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","STENCIL_TEST","stencilMask","stencilFunc","stencilRef","setOp","stencilFail","stencilZFail","stencilZPass","stencilOp","stencil","clearStencil","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","compressedTextureFormats","currentProgram","currentLineWidth","MAX_COMBINED_TEXTURE_IMAGE_UNITS","parseFloat","VERSION","lineWidthAvailable","currentBoundTextures","currentScissor","currentViewport","emptyTextures","enableVertexAttribArray","vertexAttribDivisorANGLE","enableAttributeAndDivisor","meshPerAttribute","disableVertexAttribArray","formats","COMPRESSED_TEXTURE_FORMATS","setMaterial","setLineWidth","lineWidth","SCISSOR_TEST","webglType","boundTexture","apply","_currentScissor","_scissor","_currentViewport","_viewport","_infoMemory","geometries","onGeometryDispose","buffergeometry","wireframeAttributes","_bufferGeometry","setFromObject","geometryAttributes","getWireframeAttribute","geometryIndex","objects","infoRender","updateList","frame","updateFromObject","_infoRender","morphtargets","influencesList","morphInfluences","objectInfluences","morphTargetInfluences","influences","influence","removeAttribute","programCache","_this","renderLists","background","alpha","planeCamera","planeMesh","boxMesh","clearAlpha","getClearColor","setClearColor","getClearAlpha","setClearAlpha","renderList","forceClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","ShaderLib","cube","copyPosition","tCube","_premultipliedAlpha","bufferRenderer","mode","setMode","drawArrays","calls","POINTS","points","renderInstances","drawArraysInstancedANGLE","maxInstancedCount","indexedBufferRenderer","drawElementsInstancedANGLE","flareRenderer","spriteRenderer","onContextLost","preventDefault","_isContextLost","onContextRestore","onMaterialDispose","releaseMaterialProgramReference","deallocateMaterial","loop","time","onAnimationFrame","device","vr","getDevice","isPresenting","requestAnimationFrame","projectObject","sortObjects","isLight","lightsArray","shadowsArray","isSprite","intersectsSprite","spritesArray","isLensFlare","flaresArray","isImmediateRenderObject","_vector3","currentRenderList","renderObjects","overrideMaterial","isArrayCamera","_currentArrayCamera","camera2","bounds","_width","_height","getNormalMatrix","setProgram","_currentGeometryProgram","renderBufferImmediate","renderObjectImmediate","initMaterial","materialProperties","_clipping","numPlanes","numIntersection","programChange","UniformsUtils","programAttributes","numSupportedMorphTargets","numSupportedMorphNormals","uniform","lightsHash","ambientLightColor","directionalLights","spotLights","rectAreaLights","pointLights","hemisphereLights","progUniforms","uniformsList","seqWithValue","_usedTextureUnits","_clippingEnabled","_localClippingEnabled","_currentCamera","useCache","_currentMaterialId","setState","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","LN2","isMeshPhongMaterial","isMeshStandardMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","isMeshBasicMaterial","setOptional","boneTexture","sqrt","ceilPowerOfTwo","boneMatrices","boneTextureSize","toneMappingExposure","toneMappingWhitePoint","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsPhong","refreshUniformsToon","isMeshPhysicalMaterial","clearCoat","clearCoatRoughness","refreshUniformsStandard","refreshUniformsPhysical","isMeshDepthMaterial","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","bumpScale","normalScale","refreshUniformsNormal","isLineBasicMaterial","diffuse","refreshUniformsLine","isLineDashedMaterial","dashSize","totalSize","gapSize","refreshUniformsDash","isPointsMaterial","setUvTransform","uvTransform","refreshUniformsPoints","isShadowMaterial","ltcMat","UniformsLib","LTC_MAT_TEXTURE","ltcMag","LTC_MAG_TEXTURE","upload","emissive","emissiveIntensity","flipEnvMap","uvScaleMap","specular","shininess","roughness","metalness","envMapIntensity","REVISION","_canvas","_context","_alpha","_depth","_stencil","_antialias","antialias","_preserveDrawingBuffer","preserveDrawingBuffer","domElement","_currentFramebuffer","_currentScissorTest","_scissorTest","resetGlobalState","globalState","numGlobalPlanes","projectPlanes","dstOffset","skipTransform","nPlanes","dstArray","flatSize","viewNormalMatrix","i4","plane","renderingShadows","enableLocalClipping","beginShadows","endShadows","fromCache","nGlobal","lGlobal","clippingState","memory","contextAttributes","rangeMin","rangeMax","onVRDisplayPresentChange","eyeParameters","getEyeParameters","renderWidth","renderHeight","currentPixelRatio","getPixelRatio","currentSize","getSize","setDrawingBufferSize","frameData","VRFrameData","standingMatrix","standingMatrixInverse","cameraL","cameraR","cameraVR","standing","setDevice","getCamera","depthNear","depthFar","getFrameData","pose","fromArray","orientation","stageParameters","sittingToStandingTransform","getInverse","leftViewMatrix","rightViewMatrix","leftProjectionMatrix","rightProjectionMatrix","getLayers","layer","leftBounds","rightBounds","getStandingMatrix","submitFrame","getContextAttributes","forceContextLoss","loseContext","forceContextRestore","restoreContext","setPixelRatio","setSize","updateStyle","style","setViewport","getDrawingBufferSize","pixelRatio","setScissor","boolean","bits","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","clearTarget","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","nx","ny","nz","uvArray","colorArray","geometryProgram","updateBuffers","rangeFactor","startIndex","isInstancedBufferGeometry","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","LINES","TriangleStripDrawMode","TRIANGLE_STRIP","TriangleFanDrawMode","TRIANGLE_FAN","isLineSegments","isLineLoop","LINE_LOOP","LINE_STRIP","compile","traverse","isAnimating","animate","callback","isCamera","opaqueObjects","transparentObjects","setFaceCulling","frontFaceDirection","FrontFaceDirectionCW","textureUnit","warned","setTexture","readRenderTargetPixels","restore","textureFormat","IMPLEMENTATION_COLOR_READ_FORMAT","IMPLEMENTATION_COLOR_READ_TYPE","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","FogExp2","Fog","Scene","LensFlare","SpriteMaterial","Sprite","LOD","levels","Skeleton","boneInverses","slice","calculateInverses","Bone","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","initBones","bind","normalizeSkinWeights","linecap","linejoin","Line","LineSegments","LineLoop","Points","Group","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","DepthTexture","WireframeGeometry","o","ol","e","edge1","edge2","key","edge","edges","keys","index1","index2","getX","fromBufferAttribute","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","subVectors","crossVectors","PolyhedronGeometry","detail","PolyhedronBufferGeometry","pushVertex","getVertexByIndex","correctUV","azimuth","uvBuffer","PI","atan2","cols","pow","aj","lerp","bj","rows","subdivideFace","subdivide","appplyRadius","inclination","centroid","uvA","uvB","uvC","divideScalar","azi","correctUVs","x0","x1","x2","correctSeam","generateUVs","computeVertexNormals","normalizeNormals","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","t","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","generateSegment","P","getPointAt","N","frames","B","sin","computeFrenetFrames","generateIndices","generateBufferData","TorusKnotGeometry","tube","q","heightScale","TorusKnotBufferGeometry","calculatePositionOnCurve","cu","su","quOverP","cs","P1","P2","T","addVectors","cx","cy","TorusGeometry","arc","TorusBufferGeometry","ExtrudeGeometry","shapes","ExtrudeBufferGeometry","addShapeList","TextGeometry","text","TextBufferGeometry","font","isFont","generateShapes","curveSegments","amount","bevelThickness","bevelSize","bevelEnabled","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","clamp","base","inverseSegments","phi","n1","n2","ShapeGeometry","ShapeBufferGeometry","addShape","shape","shapeHole","indexOffset","extractPoints","shapeVertices","shapeHoles","holes","ShapeUtils","isClockWise","reverse","triangulateShape","concat","EdgesGeometry","thresholdAngle","geometry2","thresholdDot","DEG2RAD","computeFaceNormals","sourceVertices","face1","face2","dot","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","generateCap","centerIndexStart","centerIndexEnd","sign","theta","cosTheta","sinTheta","indexArray","slope","indexRow","generateTorso","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","s","RawShaderMaterial","STANDARD","PHYSICAL","TOON","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","onStart","itemStart","url","itemEnd","itemError","resolveURL","setURLModifier","transform","FileLoader","manager","DefaultLoadingManager","ImageLoader","TextureLoader","Light","HemisphereLight","updateMatrix","LightShadow","SpotLightShadow","SpotLight","power","PointLight","DirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","constructor","valueSize","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","LinearInterpolant","DiscreteInterpolant","KeyframeTrackConstructor","times","values","interpolation","AnimationUtils","convertArray","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","validate","optimize","VectorKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","NumberKeyframeTrack","StringKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","KeyframeTrack","AnimationClip","duration","tracks","resetDuration","MaterialLoader","BufferGeometryLoader","Loader","onLoadStart","onLoadProgress","onLoadComplete","JSONLoader","withCredentials","CatmullRom","v0","v1","t2","QuadraticBezier","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","CubicBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","Curve","arcLengthDivisions","LineCurve","v2","CurvePath","curves","autoClose","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","SplineCurve","CubicBezierCurve","v3","QuadraticBezierCurve","Path","currentPoint","setFromPoints","Shape","ShapePath","subPaths","currentPath","Font","AudioLoader","StereoCamera","eyeSep","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","AudioListener","AudioContext","gain","createGain","connect","destination","Audio","listener","getInput","autoplay","startTime","playbackRate","isPlaying","hasPlaybackControl","sourceType","filters","PositionalAudio","panner","createPanner","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getOutput","PropertyMixer","binding","typeName","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","rootNode","node","findNode","nodeName","AnimationAction","mixer","clip","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","endingStart","ZeroCurvatureEnding","endingEnd","interpolant","createInterpolant","settings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","LoopRepeat","_loopCount","_startTime","timeScale","_effectiveTimeScale","weight","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","Uniform","InstancedBufferGeometry","InterleavedBufferAttribute","interleavedBuffer","InterleavedBuffer","InstancedInterleavedBuffer","InstancedBufferAttribute","ascSort","intersectObject","raycaster","intersects","recursive","raycast","ImmediateRenderObject","VertexNormalsHelper","hex","nNormals","objGeometry","positions","SpotLightHelper","cone","getBoneList","boneList","isBone","SkeletonHelper","color1","color2","bone","VertexColors","root","PointLightHelper","sphereSize","RectAreaLightHelper","line","HemisphereLightHelper","rotateY","getAttribute","GridHelper","divisions","step","halfSize","PolarGridHelper","radials","circles","FaceNormalsHelper","DirectionalLightHelper","lightPlane","targetLine","CameraHelper","addLine","addPoint","pointMap","FaceColors","colorFrustum","colorCone","colorUp","colorTarget","colorCross","BoxHelper","Box3Helper","box","computeBoundingSphere","PlaneHelper","ArrowHelper","dir","headLength","headWidth","lineGeometry","coneGeometry","translate","setDirection","setLength","AxesHelper","CubicPoly","t0","t1","c0","c1","c2","c3","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","CatmullRomCurve3","curveType","CubicBezierCurve3","QuadraticBezierCurve3","LineCurve3","ArcCurve","aRadius","Spline","MeshLine","previous","indices_array","counters","THREE","widthCallback","memcpy","src","srcOffset","dst","MeshLineMaterial","check","useMap","useAlphaMap","resolution","dashArray","useDash","visibility","tree","isNaN","xm","xp","_root","leaf","_x0","_x1","defaultX","Binarytree","leaf_copy","ym","yp","y0","_y0","y1","_y1","defaultY","Quadtree","zm","zp","deep","z0","_z0","z1","_z1","defaultZ","Octree","setupScene","devicePixelRatio","innerWidth","innerHeight","body","appendChild","vrDisplay","vrDisplays","navigator","getVRDisplays","then","displays","catch","userHeight","getVRDisplay","setVRDisplay","getPose","applyMatrix","setY","controls","basicCursor","innerCursor","outerCursor","highlightCursor","cursor","_stereo","setEyeSeparation","Number","EPSILON","isInteger","isFinite","Function","prototype","assign","output","source","nextKey","hasOwnProperty","_listeners","listeners","hasEventListener","listenerArray","splice","dispatchEvent","RAD2DEG","chars","rnd","euclideanModulo","m","mapLinear","a1","a2","b1","b2","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","ceil","isVector2","setScalar","scalar","setX","setComponent","getComponent","addScalar","addScaledVector","subScalar","divide","applyMatrix3","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","lengthSq","manhattanLength","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","lerpVectors","getY","rotateAround","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","te","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrixColumn","makeBasis","scaleX","scaleY","scaleZ","makeRotationFromEuler","euler","isEuler","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","eye","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","applyToBufferAttribute","getZ","setXYZ","determinant","transpose","tmp","setPosition","throwOnDegenerate","t11","t12","t13","t14","det","msg","detInv","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","axis","tx","ty","makeScale","makeShear","compose","sx","sy","sz","invSX","invSY","invSZ","setFromRotationMatrix","makePerspective","makeOrthographic","h","slerp","qa","qb","qm","slerpFlat","src0","srcOffset0","src1","srcOffset1","w0","w1","sqrSin","len","tDir","onChangeCallback","s1","s2","s3","setFromAxisAngle","halfAngle","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","vFrom","vTo","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","setZ","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","qx","qy","qz","qw","iz","iw","project","unproject","cross","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","angleTo","acos","dz","setFromSpherical","sinPhiRadius","setFromCylindrical","setFromMatrixScale","isMatrix3","setFromMatrix4","transposeIntoArray","rotate","toJSON","meta","isRootObject","metadata","generator","wrap","ImageData","putImageData","toDataURL","getDataURL","transformUv","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","getW","create","ColorKeywords","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","setHex","setStyle","setHSL","hue2rgb","handleAlpha","charAt","copyGammaToLinear","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","getHex","getHexString","getHSL","optionalTarget","hue","saturation","hsl","lightness","delta","getStyle","offsetHSL","addColors","common","specularmap","envmap","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","merge","merged","uniforms_src","uniforms_dst","parameter_src","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_template","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment","normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","basic","lambert","phong","standard","dashed","tFlip","equirect","tEquirect","distanceRGBA","physical","makeEmpty","expandByPoint","setFromCenterAndSize","isEmpty","getCenter","expandByVector","expandByScalar","containsBox","intersectsBox","clampPoint","distanceToPoint","intersect","union","isMaterial","newValue","currentValue","extractFromCache","isRoot","JSON","stringify","parse","srcPlanes","dstPlanes","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","expandByObject","intersectsSphere","closestPoint","sphere","intersectsPlane","getBoundingSphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","denominator","intersectsLine","startSign","endSign","coplanarPoint","m1","optionalNormalMatrix","referencePoint","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","negRadius","d1","d2","RotationOrders","asin","setFromVector3","reorder","newOrder","toVector3","optionalResult","channel","toggle","isObject3D","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","q1","rotateOnWorldAxis","rotateX","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","getObjectById","getObjectByProperty","getObjectByName","getWorldPosition","getWorldQuaternion","getWorldRotation","getWorldScale","getWorldDirection","traverseVisible","traverseAncestors","force","serialize","library","element","materials","uuids","child","isOrthographicCamera","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","zoomW","zoomH","scaleW","scaleH","computeBoundingBox","obj","addFace","tempNormals","tempUVs","tempUVs2","cb","ab","fl","vA","vB","vC","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","computeLineDistances","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","mesh","verticesMap","unique","changes","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","newUvs1","newUvs2","setBit","getNormalIndex","normalsHash","getColorIndex","colorsHash","getUvIndex","uvsHash","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","uvsCopy","morphTarget","morphNormal","srcVertexNormal","destVertexNormal","isBufferAttribute","setArray","setDynamic","copyAt","copyArray","copyColorsArray","copyIndicesArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","computeGroups","fromGeometry","morphTargetsPosition","hasFaceVertexUv2","morphTargetsLength","morphTargetsNormal","morphNormalsLength","hasSkinIndices","hasSkinWeights","vertexUvs","getIndex","clearGroups","setDrawRange","direct","__directGeometry","lineDistance","fromDirectGeometry","pA","pB","pC","attributeArray1","attribute2","attributeArray2","toNonIndexed","array2","morphAttribute","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","invDet","intersectSphere","tca","radius2","thc","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","distanceSq","closestPointToPointParameter","startP","startEnd","clampToLine","startEnd2","resultLengthSq","barycoordFromPoint","dot00","dot01","dot02","dot11","dot12","denom","invDenom","setFromPointsAndIndices","i0","i1","i2","triangle","area","midpoint","edgeList","projectedPoint","minDistance","setDrawMode","morphTargetDictionary","ml","String","uvIntersection","uv1","uv3","barycoord","checkIntersection","intersectionPointWorld","checkBufferGeometryIntersection","intersection","intersectionPoint","faceIndex","inverseMatrix","tempA","tempB","tempC","fvA","fvB","fvC","isMultiMaterial","faceMaterial","tl","targets","uvs_f","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","skew","vecX","vecY","wantedRotation","isSpriteMaterial","intersectPoint","worldPosition","worldScale","guessSizeSq","level","addLevel","getObjectForDistance","matrixPosition","offsetMatrix","identityMatrix","gbone","pos","rotq","scl","sw","vec","skinWeight","linePrecision","precisionSq","vStart","vEnd","interSegment","interRay","nbVertices","testPoint","rayPointDistanceSq","localThresholdSq","distanceToRay","threshold","params","localThreshold","contour","triangulate","snip","verts","px","py","bX","bY","cX","cY","apx","apy","bpx","bpy","cpx","cpy","cCROSSap","bCROSScp","aCROSSbp","vertIndices","nv","removeDupEndPts","point_in_segment_2D_colin","inSegPt1","inSegPt2","inOtherPt","intersect_segments_2D","inSeg1Pt1","inSeg1Pt2","inSeg2Pt1","inSeg2Pt2","inExcludeAdjacentSegs","seg1dx","seg1dy","seg2dx","seg2dy","seg1seg2dx","seg1seg2dy","limit","perpSeg1","perpSeg2","factorSeg1","seg1Pt","seg2Pt","seg1min","seg1max","seg1minVal","seg1maxVal","seg2min","seg2max","seg2minVal","seg2maxVal","isPointInsideAngle","inVertex","inLegFromPt","inLegToPt","legFromPtX","legFromPtY","legToPtX","legToPtY","otherPtX","otherPtY","from2toAngle","from2otherAngle","other2toAngle","forEach","allPointsMap","allpoints","hl","shapeWithoutHoles","isCutLineInsideAngles","inShapeIdx","inHoleIdx","lastShapeIdx","prevShapeIdx","nextShapeIdx","insideAngle","hole","lastHoleIdx","prevHoleIdx","nextHoleIdx","intersectsShapeEdge","inShapePt","inHolePt","sIdx","nextIdx","intersectsHoleEdge","ihIdx","chkHole","hIdx","indepHoles","holeIndex","shapeIndex","shapePt","holePt","holeIdx","cutKey","tmpShape1","tmpShape2","tmpHole1","tmpHole2","failedCuts","minShapeIndex","counter","h2","removeHoles","triangles","pts","getArrays","positionAttribute","verticesArray","uvAttribute","IndexAttribute","sl","arrays","scalePt2","pt","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","sf","v_trans_lensq","direction_eq","sidewalls","layeroffset","steps","bevelSegments","slen1","vlen","slen2","addVertex","nextIndex","uvgen","generateSideWallUV","addUV","f4","placeholder","f3","generateTopUV","indicesArray","vector2","extrudePts","splineTube","binormal","position2","extrudePath","extrudeByPath","UVGenerator","WorldUVGenerator","getSpacedPoints","ahole","shapePoints","bs","vert","flen","contourMovements","oneHoleMovements","holesMovements","verticesMovements","buildLidFaces","extrudeMaterial","buildSideFaces","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","Geometries","freeze","Materials","Cache","files","file","loading","load","cached","setTimeout","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","toLowerCase","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","status","overrideMimeType","header","requestHeader","setRequestHeader","send","setPath","setResponseType","setWithCredentials","setMimeType","_parser","loadTexture","loader","texDatas","loaded","mipmapCount","isCubemap","texData","crossOrigin","substr","setCrossOrigin","urls","isJPEG","search","arraySlice","from","to","isTypedArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","sortedArray","nValues","flattenJSON","jsonKeys","valuePropertyName","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","DefaultSettings_","getSettings_","copySampleValue_","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","offset1","offset0","weight1","weight0","KeyframeTrackPrototype","InterpolantFactoryMethodDiscrete","getValueSize","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","message","ValueTypeName","getInterpolation","shift","timeOffset","trim","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","writeIndex","keep","offsetP","offsetN","readOffset","writeOffset","json","trackType","_getTrackTypeForValueTypeName","track","jsonTracks","frameTime","fps","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","animation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","setTextures","getTexture","shading","typedArray","TYPED_ARRAYS","drawcalls","offsets","Handlers","handlers","regex","extractUrlBase","initMaterials","texturePath","createMaterial","BlendingMode","textureLoader","materialLoader","fullPath","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","mapEmissiveRepeat","mapEmissiveOffset","mapEmissiveWrap","mapEmissiveAnisotropy","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","mapMetalnessRepeat","mapMetalnessOffset","mapMetalnessWrap","mapMetalnessAnisotropy","mapRoughnessRepeat","mapRoughnessOffset","mapRoughnessWrap","mapRoughnessAnisotropy","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","setTexturePath","isBitSet","fi","zLength","colorIndex","normalIndex","uvIndex","isQuad","hasMaterial","faceA","faceB","uvLayer","nUvLayers","parseModel","influencesPerVertex","parseSkin","dstVertices","srcVertices","morphColors","parseMorphing","outputAnimations","morphAnimationClips","parseAnimations","substring","lastIndexOf","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","geometryLoader","bufferGeometryLoader","details","loadImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","UVMapping","getPoint","getUtoTmapping","getPoints","getLength","lengths","getLengths","cacheArcLengths","current","last","sum","updateArcLengths","targetArcLength","arcLengths","comparison","lengthBefore","getTangent","pt1","getTangentAt","mat","MAX_VALUE","tz","isLineCurve","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","segmentLength","lens","cacheLengths","sums","isEllipseCurve","isSplineCurve","twoPi","deltaAngle","samePoints","intPoint","isCubicBezierCurve","isQuadraticBezierCurve","PathPrototype","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","absarc","absellipse","ellipse","firstPoint","lastPoint","getPointsHoles","holesPts","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","inside","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","tmpPoints","betterShapeHoles","newShapes","newShapeHoles","mainIdx","ambiguous","toChange","sLen","sho","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","paths","line_height","yMax","yMin","underlineThickness","char","ret","glyph","glyphs","cpx0","cpy0","cpx1","cpy1","cpx2","cpy2","laste","outline","_cachedOutline","action","ha","createPath","createPaths","webkitAudioContext","setContext","decodeAudioData","audioBuffer","instance","eyeRight","eyeLeft","xmin","xmax","eyeSepOnProjection","ymax","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","positionX","setValueAtTime","currentTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","setNodeSource","audioNode","setBuffer","play","createBufferSource","onended","onEnded","pause","stop","getFilters","setFilters","setPlaybackRate","getPlaybackRate","getLoop","setLoop","getVolume","setVolume","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","getFrequencyData","getByteFrequencyData","getAverageFrequency","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","firstValidIndex","nCachedObjects_","bindings","unbind","isAnimationObjectGroup","sanitizeNodeName","trackRe","RegExp","supportedObjectNames","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchSkeleton","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","resolvedProperty","SetterByBindingTypeAndVersioning","targetObject","dest","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","now","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_update","deltaTime","timeDirection","timeRunning","_updateTimeScale","clipTime","_updateTime","_updateWeight","propertyMixers","interpolantValue","loopCount","_setEndings","handle_stop","pingPong","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","remove_empty_map","_","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","isInterleavedBuffer","PointCloud","setFromCamera","coords","intersectObjects","autoStart","oldTime","elapsedTime","running","performance","Date","getElapsedTime","getDelta","newTime","other","makeSafe","vec3","objPos","objNorm","coneLength","coneWidth","boneMatrix","matrixWorldInv","hx","hy","setPoint","setColor","pz","isCatmullRomCurve3","isCubicBezierCurve3","isQuadraticBezierCurve3","isLineCurve3","isArcCurve","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","initFromArray","getControlPointsArray","reparametrizeByArcLength","setColors","isIntersectionBox","isIntersectionSphere","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","eulerOrder","useQuaternion","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","addIndex","addDrawCall","clearDrawCalls","computeOffsets","wrapAround","wrapRGB","metal","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","shadowMapCullFace","getData","updateCubeMap","setGeometry","process","compareV3","aa","copyV3","advance","exports","module","treeProto","nodes","NaN","addAll","cover","visit","extent","find","halves","Half","retainer","removeAll","visitAfter","y3","quads","Quad","z3","octs","Octant","M","configurable","__esModule","default","Util","MIN_TIMESTEP","MAX_TIMESTEP","base64","race","Promise","isIOS","platform","isWebViewAndroid","userAgent","isSafari","isFirefoxAndroid","isR7","isLandscapeMode","isTimestampDeltaValid","getScreenWidth","screen","getScreenHeight","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","getFullscreenElement","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","D","getProgramUniforms","orthoMatrix","isMobile","vendor","opera","extend","safariCssSizeWorkaround","isDebug","getQueryParameter","location","frameDataFromPose","upDegrees","downDegrees","leftDegrees","rightDegrees","fieldOfView","L","I","A","E","O","C","S","timestamp","isInsideCrossDomainIFrame","self","getDomainFromUrl","referrer","href","isPolyfilled","displayId","displayName","isConnected","hasPosition","hasOrientation","hasExternalDisplay","canPresent","maxLayers","waitingForPresent_","layer_","fullscreenElement_","fullscreenWrapper_","fullscreenElementCachedStyle_","fullscreenEventTarget_","fullscreenChangeHandler_","fullscreenErrorHandler_","wakelock_","hardwareUnitId","deviceId","deviceName","getImmediatePose","cancelAnimationFrame","wrapForFullscreen","createElement","setAttribute","classList","removeFullscreenWrapper","parentElement","insertBefore","removeChild","firstChild","requestPresent","predistorted","addFullscreenListeners_","beginPresent_","unlock","release","endPresent_","removeFullscreenListeners_","fireVRDisplayPresentChange_","exitPresent","CustomEvent","display","fireVRDisplayConnect_","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","VRDisplay","VRDevice","HMDVRDevice","PositionSensorVRDevice","MathUtil","setFromEulerXYZ","setFromEulerYXZ","attribs","gearOffset","gearVertexCount","arrowOffset","arrowVertexCount","projMat","onResize","listen","clientWidth","clientX","clientY","clientHeight","ARRAY_BUFFER_BINDING","drawingBufferHeight","drawingBufferWidth","COLOR_WRITEMASK","VIEWPORT","CURRENT_PROGRAM","renderNoState","projectionMat","TEXTURE_BINDING_2D","TEXTURE_BINDING_CUBE_MAP","TEXTURE31","ACTIVE_TEXTURE","COLOR_CLEAR_VALUE","ELEMENT_ARRAY_BUFFER_BINDING","FRAMEBUFFER_BINDING","RENDERBUFFER_BINDING","widthMeters","heightMeters","bevelMeters","viewer","CardboardV2","updateDeviceParams","distortion","distortionCoefficients","label","interLensDistance","baselineLensDistance","screenLensDistance","inverseCoefficients","CardboardV1","determineDevice_","setViewer","xdpi","ydpi","bevelMm","getDistortedFieldOfViewLeftEye","distort","getLeftEyeVisibleTanAngles","getLeftEyeNoLensTanAngles","distortInverse","getLeftEyeVisibleScreenRect","getFieldOfViewLeftEye","getUndistortedFieldOfViewLeftEye","getFieldOfViewRightEye","getUndistortedParams_","outerDist","innerDist","bottomDist","topDist","getUndistortedViewportLeftEye","eyePosX","eyePosY","Viewers","currentFieldOfView","maximumFieldOfView","minimumFieldOfView","recommendedFieldOfView","eyeTranslation","renderRect","setFieldOfView","getState","linearVelocity","linearAcceleration","angularVelocity","angularAcceleration","resetState","positionDevice","resetPose","VRDisplayHMDDevice","VRDisplayPositionSensorDevice","WebVRPolyfill","WebVRConfig","FORCE_ENABLE_VR","K_FILTER","PREDICTION_TIME_S","TOUCH_PANNER_DISABLED","CARDBOARD_UI_DISABLED","ROTATE_INSTRUCTIONS_DISABLED","YAW_ONLY","MOUSE_KEYBOARD_CONTROLS_DISABLED","DEFER_INITIALIZATION","ENABLE_DEPRECATED_API","BUFFER_SCALE","DIRTY_SUBMIT_FRAME_BINDINGS","ALWAYS_APPEND_POLYFILL_DISPLAY","GET_VR_DISPLAYS_TIMEOUT","InitializeWebVRPolyfill","devices","devicesPopulated","nativeWebVRAvailable","isWebVRAvailable","nativeLegacyWebVRAvailable","isDeprecatedWebVRAvailable","nativeGetVRDisplaysFunc","enablePolyfill","enableDeprecatedPolyfill","connectDisplay","populateDevices","isCardboardCompatible","vrEnabled","isFullScreenAvailable","getVRDevices","resolve","clearTimeout","getVRDDevices","mozGetVRDevices","NativeVRFrameData","InstallWebVRSpecShim","bufferScale_","poseSensor_","distorter_","cardboardUI_","dpdb_","onDeviceParamsUpdated_","deviceInfo_","getDeviceParams","viewerSelector_","onViewerChanged_","getCurrentViewer","rotateInstructions_","onResize_","getOrientation","updateDeviceInfo","updateBounds_","setTextureBounds","cardboardUI","show","stopPropagation","showTemporarily","orientationHandler","onOrientationChange_","vrdisplaypresentchangeHandler","fireVRDisplayDeviceParamsChange_","hide","lastWidth","lastHeight","vrdisplay","deviceInfo","ctxAttribs","meshWidth","meshHeight","bufferScale","bufferWidth","bufferHeight","realBindFramebuffer","realEnable","realDisable","realColorMask","realClearColor","realViewport","realCanvasWidth","getOwnPropertyDescriptor","__proto__","realCanvasHeight","isPatched","lastBoundFramebuffer","blend","texCoord","viewportOffsetScale","indexBuffer","indexCount","depthStencilBuffer","patch","unpatch","STENCIL_INDEX8","STENCIL_ATTACHMENT","computeMeshVertices_","computeMeshIndices_","getOwnPropertyDescriptor_","coefficients","dpdb","recalculateDeviceParams_","onDeviceParamsUpdated","deviceParams","calcDeviceParams_","rules","matchRule_","dpi","bw","ua","res","last_updated","mdmh","accelerometer","gyroscope","posePredictor","touchPanner","filterToWorldQ","inverseWorldToScreenQ","worldToScreenQ","originalPoseAdjustQ","setScreenTransform_","resetQ","orientationOut_","predictedQ","getPrediction","previousTimestampS","resetSensor","onDeviceMotion_","updateDeviceMotion_","accelerationIncludingGravity","rotationRate","timeStamp","beta","gamma","addAccelMeasurement","addGyroMeasurement","onMessage_","deviceMotionEvent","onDeviceMotionCallback_","onOrientationChangeCallback_","onMessageCallback_","kFilter","currentAccelMeasurement","currentGyroMeasurement","previousGyroMeasurement","filterQ","previousFilterQ","accelQ","isOrientationInitialized","estimatedGravity","measuredGravity","gyroIntegralQ","timestampS","run_","accelToQuaternion_","sample","gyroToQuaternionDelta_","getQuaternionAngle","toFixed","predictionTimeS","previousQ","deltaQ","outQ","onTouchStart_","onTouchMove_","onTouchEnd_","isTouching","rotateStart","rotateEnd","rotateDelta","touches","pageX","pageY","loadIcon_","backgroundColor","fontFamily","zIndex","icon","marginLeft","marginTop","textAlign","fontSize","lineHeight","margin","innerHTML","padding","boxSizing","float","fontWeight","textTransform","borderLeft","paddingLeft","textDecoration","overlay","querySelector","timer","disableShowTemporarily","selectedKey","localStorage","getItem","dialog","createDialog_","onChangeCallbacks_","checked","contains","getSelectedKey_","fireOnChange_","onSave_","setItem","overflow","boxShadow","createH1_","createChoice_","createButton_","marginBottom","letterSpacing","border","setInterval","clearInterval","onKeyDown_","onMouseMove_","onMouseDown_","onMouseUp_","phi_","theta_","targetAngle_","angleAnimation_","orientation_","rotateStart_","rotateEnd_","rotateDelta_","isDragging_","keyCode","animatePhi_","animateTheta_","animateKeyTransitions_","isPointerLocked_","movementX","mozMovementX","movementY","mozMovementY","pointerLockElement","mozPointerLockElement","webkitPointerLockElement","homepage","authors","description","devDependencies","chai","jsdom","mocha","semver","webpack","webpack-dev-server","main","keywords","license","scripts","watch","build","repository","bugs","factory","modules","__webpack_require__","moduleId","installedModules","getter","property","_createClass","props","descriptor","writable","Constructor","protoProps","staticProps","mediaFile","oldIOS","MSStream","NoSleep","_classCallCheck","noSleepTimer","noSleepVideo"],"mappings":"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"}